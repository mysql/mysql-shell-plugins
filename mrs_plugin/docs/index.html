<!DOCTYPE html>
<html lang="en" dir="ltr">
<!-- Copyright (c) 2022, 2023, Oracle and/or its affiliates.-->

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MRS Developer's Guide</title>
    <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">
        <link rel="stylesheet" href="style/style.css">
                <!-- cSpell:ignore pagetitle -->
    <title>MRS Developer's Guide</title>
    <style type="text/css">
        code {
            white-space: pre;
        }
    </style>
        <script>
        window.addEventListener('DOMContentLoaded', () => {
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    const id = entry.target.getAttribute('id');
                    if (entry.intersectionRatio > 0) {
                        const e = document.querySelector(`nav li a[href="#` + id + `"]`).parentElement;
                        e.classList.add('active');
                        if (e.scrollIntoViewIfNeeded !== undefined) {
                            e.scrollIntoViewIfNeeded(true);
                        } else {
                            e.scrollIntoView(true);
                        }
                    } else {
                        document.querySelector(`nav li a[href="#` + id + `"]`).parentElement.classList.remove('active');
                    }
                });
            });
            // Track all h that have an `id` applied
            document.querySelectorAll('.content h1[id],h2[id],h3[id]').forEach((section) => {
                observer.observe(section);
            });

            if (typeof acquireVsCodeApi === "function") {
                document.vscode = acquireVsCodeApi();

                const addVsCodeDecorations = () => {
                    const addVsActionBtn = (e, command, caption) => {
                        const d = document.createElement("button");

                        d.innerHTML = '<i class="arrow right"></i><p>' + caption + '</p>';
                        d.onclick = () => {
                            document.vscode.postMessage({ command, path: e.innerHTML });
                        }
                        e.parentNode.insertBefore(d, e.nextSibling)
                    }

                    document.querySelectorAll("code").forEach((e) => {
                        if (e.innerHTML.endsWith(".sql")) {
                            addVsActionBtn(e, "openSqlFile", "Open in MySQL Shell");
                        } else if (e.innerHTML.endsWith(".mrs.json")) {
                            addVsActionBtn(e, "loadMrsDump", "Load MRS Dump");
                        } else if (e.innerHTML.startsWith("VSCodeProject:") > 0) {
                            e.innerHTML = e.innerHTML.slice("VSCodeProject:".length);
                            addVsActionBtn(e, "saveProject", "Save Project");
                        }
                    });
                }

                addVsCodeDecorations();
            } else {
                document.querySelectorAll("code").forEach((e) => {
                    if (e.innerHTML.startsWith("VSCodeProject:") > 0) {
                        e.innerHTML = e.innerHTML.slice("VSCodeProject:".length);
                    }
                });
            }
        });

        // Handle the message inside the webview
        window.addEventListener('message', event => {

            const message = event.data; // The JSON data our extension sent

            switch (message.command) {
                case 'goToId':
                    if (message.id) {
                        window.location = "#" + message.id;
                    }

                    break;
            }
        });
    </script>
</head>

<body>
    <div class="page">
        <div class="sidebar">
            <nav class="section-nav">
                <h1>MRS Documentation</h1>
                <h2>
                    <div class="icon bookIcon"></div> <a href="index.html#document-top">MRS Developer's Guide</a>
                </h2>
                <h2>
                    <div class="icon bookIcon"></div> <a href="sdk.html#document-top">MRS SDK Reference</a>
                </h2>
                <hr />
                <h3>MRS Developer's Guide</h3>
                                <ul>
                                <li><a
                                href="#introduction-to-the-mysql-rest-service"
                                id="toc-introduction-to-the-mysql-rest-service"><span
                                class="toc-section-number">1</span>
                                Introduction to the MySQL REST
                                Service</a>
                                <ul>
                                <li><a
                                href="#about-the-mysql-rest-service"
                                id="toc-about-the-mysql-rest-service"><span
                                class="toc-section-number">1.1</span>
                                About the MySQL REST Service</a></li>
                                <li><a href="#feature-overview"
                                id="toc-feature-overview"><span
                                class="toc-section-number">1.2</span>
                                Feature Overview</a></li>
                                </ul></li>
                                <li><a href="#deployment-architecture"
                                id="toc-deployment-architecture"><span
                                class="toc-section-number">2</span>
                                Deployment Architecture</a></li>
                                <li><a
                                href="#configuring-mysql-rest-service"
                                id="toc-configuring-mysql-rest-service"><span
                                class="toc-section-number">3</span>
                                Configuring MySQL REST Service</a>
                                <ul>
                                <li><a
                                href="#configuring-the-mrs-metadata-schema"
                                id="toc-configuring-the-mrs-metadata-schema"><span
                                class="toc-section-number">3.1</span>
                                Configuring the MRS Metadata
                                Schema</a></li>
                                <li><a
                                href="#bootstrapping-and-running-mysql-routers-with-mrs-support"
                                id="toc-bootstrapping-and-running-mysql-routers-with-mrs-support"><span
                                class="toc-section-number">3.2</span>
                                Bootstrapping and Running MySQL Routers
                                with MRS Support</a></li>
                                </ul></li>
                                <li><a href="#adding-rest-services"
                                id="toc-adding-rest-services"><span
                                class="toc-section-number">4</span>
                                Adding REST Services</a>
                                <ul>
                                <li><a
                                href="#preconditions-for-adding-a-rest-service"
                                id="toc-preconditions-for-adding-a-rest-service"><span
                                class="toc-section-number">4.1</span>
                                Preconditions for Adding a REST
                                Service</a></li>
                                <li><a
                                href="#setting-up-a-new-rest-service"
                                id="toc-setting-up-a-new-rest-service"><span
                                class="toc-section-number">4.2</span>
                                Setting Up a New REST Service</a></li>
                                </ul></li>
                                <li><a
                                href="#adding-database-schemas-and-objects-to-a-rest-service"
                                id="toc-adding-database-schemas-and-objects-to-a-rest-service"><span
                                class="toc-section-number">5</span>
                                Adding Database Schemas and Objects to a
                                REST Service</a>
                                <ul>
                                <li><a
                                href="#preconditions-for-adding-database-schemas-and-objects"
                                id="toc-preconditions-for-adding-database-schemas-and-objects"><span
                                class="toc-section-number">5.1</span>
                                Preconditions for Adding Database
                                Schemas and Objects</a></li>
                                <li><a href="#adding-a-database-schema"
                                id="toc-adding-a-database-schema"><span
                                class="toc-section-number">5.2</span>
                                Adding a Database Schema</a></li>
                                <li><a href="#adding-a-database-object"
                                id="toc-adding-a-database-object"><span
                                class="toc-section-number">5.3</span>
                                Adding a Database Object</a></li>
                                <li><a
                                href="#mysql-rest-object-dialog-reference"
                                id="toc-mysql-rest-object-dialog-reference"><span
                                class="toc-section-number">5.4</span>
                                MySQL REST Object Dialog
                                Reference</a></li>
                                </ul></li>
                                <li><a
                                href="#working-with-mrs-restful-web-services"
                                id="toc-working-with-mrs-restful-web-services"><span
                                class="toc-section-number">6</span>
                                Working with MRS RESTful Web
                                Services</a>
                                <ul>
                                <li><a
                                href="#about-mrs-restful-web-services"
                                id="toc-about-mrs-restful-web-services"><span
                                class="toc-section-number">6.1</span>
                                About MRS RESTful Web Services</a></li>
                                <li><a href="#get-schema-metadata"
                                id="toc-get-schema-metadata"><span
                                class="toc-section-number">6.2</span>
                                Get Schema Metadata</a></li>
                                <li><a href="#get-object-metadata"
                                id="toc-get-object-metadata"><span
                                class="toc-section-number">6.3</span>
                                Get Object Metadata</a></li>
                                <li><a href="#get-object-data"
                                id="toc-get-object-data"><span
                                class="toc-section-number">6.4</span>
                                Get Object Data</a></li>
                                <li><a href="#insert-table-row"
                                id="toc-insert-table-row"><span
                                class="toc-section-number">6.5</span>
                                Insert Table Row</a></li>
                                <li><a href="#updateinsert-table-row"
                                id="toc-updateinsert-table-row"><span
                                class="toc-section-number">6.6</span>
                                Update/Insert Table Row</a></li>
                                <li><a href="#delete-using-filter"
                                id="toc-delete-using-filter"><span
                                class="toc-section-number">6.7</span>
                                Delete Using Filter</a></li>
                                <li><a href="#filterobject-grammar"
                                id="toc-filterobject-grammar"><span
                                class="toc-section-number">6.8</span>
                                FilterObject Grammar</a></li>
                                <li><a
                                href="#examples-filterobject-specifications"
                                id="toc-examples-filterobject-specifications"><span
                                class="toc-section-number">6.9</span>
                                Examples: FilterObject
                                Specifications</a></li>
                                </ul></li>
                                <li><a href="#mrs-examples"
                                id="toc-mrs-examples"><span
                                class="toc-section-number">7</span> MRS
                                Examples</a>
                                <ul>
                                <li><a href="#mrs-notes-examples"
                                id="toc-mrs-notes-examples"><span
                                class="toc-section-number">7.1</span>
                                MRS Notes Examples</a></li>
                                </ul></li>
                                </ul>
                            </nav>
        </div>
        <div class="content">
            <div class="header" id="document-top">
                <p>MySQL REST Service - PREVIEW</p>
                <h1>MRS Developer's Guide</h1>
            </div>
            <div class="main">
                <p>This book explains how to install and configure the
                MySQL REST Service (MRS) as well as how to access the
                data through REST calls.</p>
                <p><strong>Chapter Overview</strong></p>
                <ul>
                <li><a
                href="#introduction-to-the-mysql-rest-service">MRS
                Introduction</a></li>
                <li><a href="#deployment-architecture">MRS Deployment
                Architecture</a></li>
                <li><a
                href="#configuration-of-the-mysql-rest-service">MRS
                Configuration</a></li>
                <li><a href="#adding-rest-services">Adding REST
                Services</a></li>
                <li><a
                href="#adding-schemas-and-objects-to-a-rest-service">Adding
                Schemas and Objects to a REST Service</a></li>
                <li><a
                href="#working-with-mrs-restful-web-services">Working
                with MRS RESTful Web Services</a></li>
                <li><a href="#mrs-examples">MRS Examples</a>
                <ul>
                <li><a href="#mrs-notes-examples">MRS Notes
                Examples</a></li>
                </ul></li>
                </ul>
                <hr />
                <p>Please also see</p>
                <ul>
                <li><strong><a href="sdk.html">MySQL REST Service - SDK
                Reference</a></strong> - This document explains how to
                work with the MRS Software Development Kit and discusses
                the Client APIs.</li>
                </ul>
                <hr />
                <!-- Copyright (c) 2022, 2023, Oracle and/or its affiliates.

                This program is free software; you can redistribute it and/or modify
                it under the terms of the GNU General Public License, version 2.0,
                as published by the Free Software Foundation.

                This program is also distributed with certain software (including
                but not limited to OpenSSL) that is licensed under separate terms, as
                designated in a particular file or component or in included license
                documentation.  The authors of MySQL hereby grant you an additional
                permission to link the program and your derivative works with the
                separately licensed software that they have included with MySQL.
                This program is distributed in the hope that it will be useful,  but
                WITHOUT ANY WARRANTY; without even the implied warranty of
                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
                the GNU General Public License, version 2.0, for more details.

                You should have received a copy of the GNU General Public License
                along with this program; if not, write to the Free Software Foundation, Inc.,
                51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
                <h1 data-number="1"
                id="introduction-to-the-mysql-rest-service"><span
                class="header-section-number">1</span> Introduction to
                the MySQL REST Service</h1>
                <p>Welcome to the MySQL REST Service (MRS). It provides
                a fast and powerful way to serve data to client
                applications via a HTTPS REST interface.</p>
                <p>To start with a hands-on approach, see the <a
                href="#mrs-notes-examples">MRS Notes Example</a> and
                follow the instructions for <a
                href="#build-and-deployment">Build and Deployment</a>
                there.</p>
                <p>This section provides an overview of the MySQL REST
                Service and its features.</p>
                <h2 data-number="1.1"
                id="about-the-mysql-rest-service"><span
                class="header-section-number">1.1</span> About the MySQL
                REST Service</h2>
                <p>The MySQL REST Service (MRS) offers HTTPS REST access
                to selected MySQL schema objects. It is modelled after
                and supports a subset of the Oracle REST Data Services
                (ORDS).</p>
                <p>For more information, see <a
                href="https://docs.oracle.com/en/database/oracle/oracle-rest-data-services/22.2/orddg/introduction-to-Oracle-REST-Data-Services.html#GUID-A16BCCA2-8081-4062-A635-9F7C36FC394F/">ORDS</a></p>
                <p>MRS consists of the following components:</p>
                <ul>
                <li>A MySQL Solution (like MySQL Heatwave, MySQL InnoDB
                Cluster, a standalone MySQL Server, etc.)
                <ul>
                <li>Serving a metadata schema
                <code>mysql_rest_service_metadata</code> that holds the
                MRS configuration</li>
                <li>Serving the application’s data</li>
                </ul></li>
                <li>MySQL Router
                <ul>
                <li>One or many MySQL Router instances to serve the
                HTTPS REST interface on default port 8443</li>
                </ul></li>
                <li>MySQL Shell / MySQL Shell for VS Code
                <ul>
                <li>Support for managing MRS through a graphical user
                interface (GUI) embedded inside VS Code</li>
                <li>MRS plugin to configure and manage the MRS setup on
                the terminal and using scripts</li>
                </ul></li>
                </ul>
                <h3 data-number="1.1.1" id="about-rest-apis"><span
                class="header-section-number">1.1.1</span> About REST
                APIs</h3>
                <p>Representational State Transfer (REST) is a style of
                software architecture for distributed hypermedia systems
                such as the World Wide Web. An API is described as
                RESTful when it conforms to the tenets of REST. Although
                a full discussion of REST is outside the scope of this
                document, a REST API has the following
                characteristics:</p>
                <ul>
                <li>Data is modelled as a set of resources. Resources
                are identified by URIs.</li>
                <li>A small, uniform set of operations are used to
                manipulate resources (for example, PUT, POST, GET,
                DELETE).</li>
                <li>A resource can have multiple representations (for
                example, a blog might have an HTML representation and an
                RSS representation).</li>
                <li>Services are stateless and because the client is
                likely to access related resources, these should be
                identified in the representation returned, typically by
                providing hypertext links.</li>
                </ul>
                <h2 data-number="1.2" id="feature-overview"><span
                class="header-section-number">1.2</span> Feature
                Overview</h2>
                <p>In contrast to the feature-rich Oracle REST Data
                Services (ORDS), the MySQL REST Service (MRS) focuses on
                exposing MySQL schema objects using a CRUD/REST
                interface - in many aspects similar to the AutoREST
                feature of ORDS.</p>
                <p>For more information, see <a
                href="https://docs.oracle.com/en/database/oracle/oracle-rest-data-services/22.2/orddg/developing-REST-applications.html#GUID-4CE630AA-2F06-41D9-96F6-DA77AB1E6395">AutoREST</a></p>
                <p><strong><em>MRS AutoREST</em></strong></p>
                <p>Enabling REST access to a table, view, or procedure
                allows it to be accessed through RESTful services.
                AutoREST is a quick and easy way to expose database
                tables as REST resources.</p>
                <p>Note: Enabling a schema is not equivalent to enabling
                all tables, views and procedures in the schema. It just
                means making MRS aware that the schema exists and that
                it may have zero or more resources to expose to HTTP.
                Those resources may be AutoREST resources or resource
                module resources.</p>
                <p><strong><em>Serving Static Content</em></strong></p>
                <p>In addition to serving dynamic content using AutoREST
                it is possible to upload static content, like HTML, CSS,
                and image files. This feature is not meant to replace
                dedicated HTTP servers that support capabilities like
                server-side programming. It can aid the quick
                deployments of prototypes and proof-of-concept efforts
                that help bring ideas to life.</p>
                <p><strong><em>End User Authentication</em></strong></p>
                <p>MRS currently supports the following authentication
                methods.</p>
                <p><strong><em>Simple MySQL
                Authentication</em></strong></p>
                <p>Authentication is performed against MySQL server user
                accounts. This authentication method does not need any
                external OAuth2 service, which makes it the preferred
                method to use during prototyping.</p>
                <p><strong><em>OAuth2 Authentication</em></strong></p>
                <p>Several OAuth2 services from 3rd-party vendors are
                supported by MRS; for example, sign in with FaceBook,
                Twitter, and Google. In order for a MRS service to
                authenticate against those vendors, one needs to be
                registered as a developer with those vendors and a
                vendor specific authentication apps need to be created.
                Then the OAuth2 specific settings - like access_token
                and app_id - need to be configured on the MRS side.</p>
                <p><strong><em>End User Authorization</em></strong></p>
                <p>Access to a given REST resource can have several
                levels of restrictions when using MRS:</p>
                <ul>
                <li>Public access - no authorization is needed to access
                the REST resource and its data</li>
                <li>Full access - after authentication the user has full
                access to all data of the REST resource</li>
                <li>Limited access - after authentication the user has
                only access to a subset of the data of the REST
                resource</li>
                </ul>
                <p>MRS has built-in support for several authorization
                models. These authorization models define which data of
                a given REST resource that end users can see and
                manipulate:</p>
                <ul>
                <li>User-ownership based - users can see their own
                data</li>
                <li>Privilege based, managed using roles</li>
                <li>User-hierarchy based</li>
                <li>Group based</li>
                <li>Group-hierarchy based</li>
                </ul>
                <p>If the use case of a given project matches one of the
                offered authorization models, then a custom
                authorization does not need to be implemented.</p>
                <!-- Copyright (c) 2022, 2023, Oracle and/or its affiliates.

                This program is free software; you can redistribute it and/or modify
                it under the terms of the GNU General Public License, version 2.0,
                as published by the Free Software Foundation.

                This program is also distributed with certain software (including
                but not limited to OpenSSL) that is licensed under separate terms, as
                designated in a particular file or component or in included license
                documentation.  The authors of MySQL hereby grant you an additional
                permission to link the program and your derivative works with the
                separately licensed software that they have included with MySQL.
                This program is distributed in the hope that it will be useful,  but
                WITHOUT ANY WARRANTY; without even the implied warranty of
                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
                the GNU General Public License, version 2.0, for more details.

                You should have received a copy of the GNU General Public License
                along with this program; if not, write to the Free Software Foundation, Inc.,
                51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
                <h1 data-number="2" id="deployment-architecture"><span
                class="header-section-number">2</span> Deployment
                Architecture</h1>
                <p>MySQL REST Service (MRS) can be deployed in many
                different ways depending on the individual project
                requirements.</p>
                <p><strong><em>Deployments for
                Development</em></strong></p>
                <p>The smallest possible development environment
                consists of a single MySQL Server instance and a MySQL
                Router instance running on the same machine.</p>
                <p>The recommended deployment for development consists
                of an InnoDB Cluster deployed with a minimum of three
                MySQL Server instances and two MySQL Router
                instances.</p>
                <p>For cloud-based development, a MySQL Database Service
                instance with the high availability feature enabled and
                two compute instances with MySQL Router deployments
                should be used.</p>
                <p><strong><em>Production Deployments</em></strong></p>
                <p>In a production environment, an InnoDB Cluster set up
                with three or more MySQL Router instances should be
                used. It is recommended to use a load balancer to expose
                the HTTPS port of the MySQL Router instances to the
                public internet.</p>
                <p>For cloud-based development in production, a MySQL
                Database Service instance with the high availability
                feature enabled and three or more compute instances with
                MySQL Router deployments should be used. It is
                recommended to use a load balancer to expose the HTTPS
                port of the MySQL Routers to the public internet.</p>
                <figure>
                <img src="sections/../images/mrs-architecture.svg"
                title="MySQL REST Service Architecture Diagram"
                alt="MySQL REST Service Architecture Diagram" />
                <figcaption aria-hidden="true">MySQL REST Service
                Architecture Diagram</figcaption>
                </figure>
                <!-- Copyright (c) 2022, 2023, Oracle and/or its affiliates.

                This program is free software; you can redistribute it and/or modify
                it under the terms of the GNU General Public License, version 2.0,
                as published by the Free Software Foundation.

                This program is also distributed with certain software (including
                but not limited to OpenSSL) that is licensed under separate terms, as
                designated in a particular file or component or in included license
                documentation.  The authors of MySQL hereby grant you an additional
                permission to link the program and your derivative works with the
                separately licensed software that they have included with MySQL.
                This program is distributed in the hope that it will be useful,  but
                WITHOUT ANY WARRANTY; without even the implied warranty of
                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
                the GNU General Public License, version 2.0, for more details.

                You should have received a copy of the GNU General Public License
                along with this program; if not, write to the Free Software Foundation, Inc.,
                51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
                <h1 data-number="3"
                id="configuring-mysql-rest-service"><span
                class="header-section-number">3</span> Configuring MySQL
                REST Service</h1>
                <p>To configure the MySQL REST Service (MRS), use these
                steps:</p>
                <ol type="1">
                <li>Deploy a MySQL solution.</li>
                <li>Configure the MRS metadata database schema.</li>
                <li>Bootstrap and run one or more MySQL Router instances
                for MRS support.</li>
                </ol>
                <p>After performing these steps, MySQL REST Service is
                fully configured.</p>
                <p>The HTTPS endpoints can then be accessed as
                configured during the MySQL Router bootstrap
                process.</p>
                <p><strong><em>Deployment of a MySQL
                solution</em></strong></p>
                <p>The following MySQL solutions are supported:</p>
                <ul>
                <li>MySQL HeatWave</li>
                <li>MySQL InnoDB Cluster</li>
                <li>MySQL InnoDB ClusterSet</li>
                <li>MySQL InnoDB ReplicaSet</li>
                <li>MySQL Operator</li>
                </ul>
                <p>For development purposes, a standalone MySQL Server
                instance is also supported. Avoid using a standalone
                setup in a production deployment because it provides no
                form of High Availability (HA).</p>
                <ul>
                <li>Standalone MySQL Server</li>
                </ul>
                <p>See the corresponding documentation about how to
                deploy and configure the different MySQL solutions.</p>
                <h2 data-number="3.1"
                id="configuring-the-mrs-metadata-schema"><span
                class="header-section-number">3.1</span> Configuring the
                MRS Metadata Schema</h2>
                <p>MySQL REST Service stores its configuration in the
                <code>mysql_rest_service_metadata</code> database
                schema. To deploy the metadata schema, perform one of
                the tasks described in this section.</p>
                <p>Note: The MySQL user that is used to connect to the
                MySQL Solution must have MySQL privileges to create
                database schemas and roles.</p>
                <h3 data-number="3.1.1"
                id="mrs-configuration-using-mysql-shell-for-vs-code"><span
                class="header-section-number">3.1.1</span> MRS
                Configuration Using MySQL Shell for VS Code</h3>
                <ol type="1">
                <li><p>Start VS Code, install the MySQL Shell for VS
                Code extension, and then add a database connection to
                the MySQL setup.</p></li>
                <li><p>Right-click the connection in the DATABASE
                CONNECTIONS view and select Configure Instance for MySQL
                REST Service Support.</p></li>
                </ol>
                <figure>
                <img src="sections/../images/vsc-mrs-configure.png"
                title="Configure Instance for MySQL REST Service Support"
                alt="Configure Instance for MySQL REST Service Support" />
                <figcaption aria-hidden="true">Configure Instance for
                MySQL REST Service Support</figcaption>
                </figure>
                <p>The MRS metadata schema has now been configured.</p>
                <h3 data-number="3.1.2"
                id="mrs-configuration-using-mysql-shell"><span
                class="header-section-number">3.1.2</span> MRS
                Configuration Using MySQL Shell</h3>
                <p>Open a terminal, start MySQL Shell, and connect to
                the MySQL setup.</p>
                <div class="sourceCode" id="cb1"><pre
                class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mysqlsh</span> dba@localhost</span></code></pre></div>
                <p>Configure the metadata schema using the MRS plugin by
                executing <code>mrs.configure()</code>.</p>
                <div class="sourceCode" id="cb2"><pre
                class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span><span class="op">&gt;</span> localhost:33060+<span class="op">&gt;</span> JS<span class="op">&gt;</span> mrs.configure<span class="er">(</span><span class="kw">)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span> Rest Data Service configuration.</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Checking</span> MRS metadata schema and version...</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Creating</span> MRS metadata schema...</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> MRS metadata is well configured, no changes performed.</span></code></pre></div>
                <p>The MRS metadata schema has now been configured.</p>
                <h2 data-number="3.2"
                id="bootstrapping-and-running-mysql-routers-with-mrs-support"><span
                class="header-section-number">3.2</span> Bootstrapping
                and Running MySQL Routers with MRS Support</h2>
                <p>MySQL Router is an essential part of any MySQL
                solution and therefore often deployed in the same step
                as the MySQL Server instances. See the MySQL Router
                documentation for more details.</p>
                <p>A MySQL Router instance needs to be configured to
                support MRS. This is usually done by using the
                <code>mysqlrouter_bootstrap</code> command, which
                queries the user account for the necessary
                information.</p>
                <h3 data-number="3.2.1"
                id="using-mysql-shell-for-vs-code-to-bootstrap-and-run-mysql-router"><span
                class="header-section-number">3.2.1</span> Using MySQL
                Shell for VS Code to Bootstrap and Run MySQL Router</h3>
                <p>When working with a local development setup it is
                common to install the MySQL Router instance on the local
                development machine.</p>
                <p>In this case, MySQL Shell for VS Code can be used to
                simplify the bootstrap process and to launch the MySQL
                Router instance as follows:</p>
                <ol type="1">
                <li>Download and install the MySQL Router package on
                your local development machine
                <ul>
                <li>When not using the DMG on macOS or MSI package on
                Windows to install MySQL Router, be sure that the
                directory containing the MySQL Router binaries is in the
                system PATH.</li>
                </ul></li>
                <li>Inside MySQL Shell for VS Code, expand a DB
                Connection in the DATABASE CONNECTIONS view, right-click
                the <code>MySQL REST Service</code> tree item, and then
                select <code>Start Local MySQL Router Instance</code>.
                <ul>
                <li>If the MySQL Router has not been configured yet, the
                bootstrap operation runs in an integrated VS Code
                terminal and then starts MySQL Router.</li>
                <li>MySQL Router debug output can then be inspected in
                the VS Code terminal.</li>
                </ul></li>
                <li>To shut down MySQL Router, set the focus to the VS
                Code terminal showing the debug output and press
                <code>Ctrl</code> + <code>C.</code></li>
                </ol>
                <p>Note: The previous task only works for classic MySQL
                connections that are not using the MySQL SSH tunneling
                or MDS tunneling feature.</p>
                <figure>
                <img
                src="sections/../images/vsc-mrs-start-mysql-router.png"
                title="Bootstrap and Start MySQL Router"
                alt="Bootstrap and Start MySQL Router" />
                <figcaption aria-hidden="true">Bootstrap and Start MySQL
                Router</figcaption>
                </figure>
                <p>After the MySQL Router has been bootstrapped and
                started, MRS is available at
                <code>https://localhost:8443/&lt;service-name&gt;</code>.</p>
                <p>You can then proceed and <a
                href="#adding-a-rest-service">add a REST
                service</a>.</p>
                <h3 data-number="3.2.2"
                id="bootstrapping-mysql-router-from-the-command-line"><span
                class="header-section-number">3.2.2</span> Bootstrapping
                MySQL Router From the Command Line</h3>
                <p>When deploying a new MySQL Router instance, it is
                advised to use the <code>mysqlrouter_bootstrap</code>
                command to bootstrap and configure the router, including
                the MRS configuration. This is also true for
                reconfiguring an existing MySQL Router instance for MRS
                support.</p>
                <div class="sourceCode" id="cb3"><pre
                class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mysqlrouter_bootstrap</span> dba@127.0.0.1:3306 <span class="at">--mrs</span> <span class="at">--directory</span> ~/.mysqlrouter</span></code></pre></div>
                <p>Follow the interactive steps on the command line to
                configure the router.</p>
                <p><strong><em>Manual Creation of MySQL User Account for
                MySQL Router Access</em></strong></p>
                <p>When using the <code>mysqlrouter_bootstrap</code>
                command to configure MySQL Router for MRS, access the
                user accounts described in this section can be created
                automatically.</p>
                <p>If you want to manage the required MySQL accounts
                manually, the following steps need to be performed:</p>
                <ol type="1">
                <li>Create the MySQL user account(or accounts)
                <ul>
                <li>If only one account is specified, MySQL Router uses
                it to access both the MRS metadata schema and
                application schema data. This account must have the
                <code>mysql_rest_service_meta_provider</code> and
                <code>mysql_rest_service_data_provider</code>
                roles.</li>
                <li>If two accounts are used, MySQL Router, uses one for
                the MRS metadata schema access and the other one for the
                application schema data. Assign the
                <code>mysql_rest_service_meta_provider</code> role to
                one user and
                <code>mysql_rest_service_data_provider</code> to the
                other.</li>
                </ul></li>
                <li>Bootstrap the MySQL Routers instance using the
                created MySQL accounts with the following options:
                <ul>
                <li><code>--mrs-mysql-metadata-account</code> used by
                the router to access the MRS metadata schema</li>
                <li><code>--mrs-mysql-data-account</code> used by the
                router to access the application schema</li>
                </ul></li>
                </ol>
                <p>As part of the MRS metadata schema creation, two SQL
                ROLEs have been created for MySQL Router to access
                MySQL:</p>
                <ul>
                <li>The ‘mysql_rest_service_meta_provider’ ROLE grants
                access to the required MRS metadata schema tables.</li>
                <li>The ‘mysql_rest_service_data_provider’ ROLE grants
                access to the served schema objects in the application
                database schemas.</li>
                </ul>
                <p>To create the MySQL account, connect to the MySQL
                setup with MySQL Shell or MySQL Shell for VS Code and
                execute the following SQL statements:</p>
                <div class="sourceCode" id="cb4"><pre
                class="sourceCode sql"><code class="sourceCode sql"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="fu">USER</span> <span class="st">&#39;mysqlrouter_mrs_&lt;router_name&gt;&#39;</span>@<span class="st">&#39;&lt;router_host&gt;&#39;</span> <span class="kw">IDENTIFIED</span> <span class="kw">BY</span> <span class="st">&#39;password&#39;</span>;</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="st">&#39;mysql_rest_service_meta_provider&#39;</span>, <span class="st">&#39;mysql_rest_service_data_provider&#39;</span> <span class="kw">TO</span> <span class="st">&#39;mysqlrouter_mrs_&lt;router_name&gt;&#39;</span>@<span class="st">&#39;&lt;router_host&gt;&#39;</span>;</span></code></pre></div>
                <p>The user name specified for the account can then be
                used when calling the <code>mysqlrouter_bootstrap</code>
                command.</p>
                <table>
                <colgroup>
                <col style="width: 37%" />
                <col style="width: 62%" />
                </colgroup>
                <thead>
                <tr class="header">
                <th>Option</th>
                <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr class="odd">
                <td><code>--mrs-mysql-metadata-account=USER_NAME</code></td>
                <td>Setting the MRS metadata user</td>
                </tr>
                <tr class="even">
                <td><code>--mrs-mysql-data-account=USER_NAME</code></td>
                <td>Setting the MRS data user</td>
                </tr>
                </tbody>
                </table>
                <p><strong><em>Adding a MRS Configuration to an Existing
                MySQL Router Configuration</em></strong></p>
                <p>In case your MySQL Router instances are configured
                already, it is possible to add the MRS configuration
                later on.</p>
                <p>To get the path of the existing configuration file,
                execute <code>mysqlrouter --help</code> to show the
                exact location of the router config file.</p>
                <p>The following is an example when connecting to a
                single development server.</p>
                <pre class="cnf"><code>[DEFAULT]
logging_folder = /var/log/mysqlrouter
runtime_folder = /var/run/mysqlrouter
config_folder = /etc/mysqlrouter

[logger]
level = DEBUG

[routing:mrs_rw]
bind_address=0.0.0.0
bind_port=6446
destinations=10.0.1.135:3306
routing_strategy=round-robin
protocol=classic</code></pre>
                <p>To enable MRS support on the router, the
                configuration file needs to be extended with the
                [http_server] section and the [rest_mrs] section.</p>
                <p>It is advised to use the
                <code>mysqlrouter_bootstrap</code> command to configure
                the router for MRS.</p>
                <div class="sourceCode" id="cb6"><pre
                class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mysqlrouter_bootstrap</span> dba@127.0.0.1:13000 <span class="at">--mrs</span> <span class="at">--directory</span> /export/mysql/src/mysql-trunk/boot</span></code></pre></div>
                <p>These parameters can be used to set the MRS
                configuration options.</p>
                <table>
                <colgroup>
                <col style="width: 37%" />
                <col style="width: 62%" />
                </colgroup>
                <thead>
                <tr class="header">
                <th>Option</th>
                <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr class="odd">
                <td><code>--mrs</code></td>
                <td>Include MRS configuration</td>
                </tr>
                <tr class="even">
                <td><code>--mrs-mysql-metadata-account=USER_NAME</code></td>
                <td>Setting the MRS metadata user</td>
                </tr>
                <tr class="odd">
                <td><code>--mrs-mysql-data-account=USER_NAME</code></td>
                <td>Setting the MRS data user</td>
                </tr>
                <tr class="even">
                <td><code>--mrs-global-secret=SECRET</code></td>
                <td>The global JWT secret that must be the same for
                every MySQL Router installation</td>
                </tr>
                </tbody>
                </table>
                <p>The following example demonstrates connecting to a
                single development server and serving the REST services
                using HTTP.</p>
                <pre class="cnf"><code>[http_server]
port=8443
ssl=1
ssl_cert=/Users/myUser/.mysqlsh/plugin_data/gui_plugin/web_certs/server.crt
ssl_key=/Users/myUser/.mysqlsh/plugin_data/gui_plugin/web_certs/server.key

[mysql_rest_service]
mysql_read_only_route=bootstrap_ro
mysql_read_write_route=bootstrap_rw
mysql_user=mysql_router_mrs16_250ho3u15n
mysql_user_data_access=
router_id=16</code></pre>
                <!-- Copyright (c) 2022, 2023, Oracle and/or its affiliates.

                This program is free software; you can redistribute it and/or modify
                it under the terms of the GNU General Public License, version 2.0,
                as published by the Free Software Foundation.

                This program is also distributed with certain software (including
                but not limited to OpenSSL) that is licensed under separate terms, as
                designated in a particular file or component or in included license
                documentation.  The authors of MySQL hereby grant you an additional
                permission to link the program and your derivative works with the
                separately licensed software that they have included with MySQL.
                This program is distributed in the hope that it will be useful,  but
                WITHOUT ANY WARRANTY; without even the implied warranty of
                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
                the GNU General Public License, version 2.0, for more details.

                You should have received a copy of the GNU General Public License
                along with this program; if not, write to the Free Software Foundation, Inc.,
                51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
                <h1 data-number="4" id="adding-rest-services"><span
                class="header-section-number">4</span> Adding REST
                Services</h1>
                <p>MRS supports the setup of a large number individual
                REST services.</p>
                <p>Each REST service has its own settings for URL path,
                host name, supported protocols, authentication options,
                and other settings. A service can expose a selected list
                of database schemas and objects.</p>
                <p>It is possible to perform an individual setup for
                each application and it is advised to setup an separate
                REST service for each application.</p>
                <h2 data-number="4.1"
                id="preconditions-for-adding-a-rest-service"><span
                class="header-section-number">4.1</span> Preconditions
                for Adding a REST Service</h2>
                <p>Before setting up a new REST service, ensure that the
                following preconditions are met:</p>
                <ul>
                <li>The MySQL REST Service must be configured on the
                targeting MySQL Solution. Please see the <a
                href="#configuration-of-the-mysql-rest-service">Configuration</a>
                section of this manual.</li>
                <li>The MySQL account used to connect to the targeting
                MySQL Solution needs to be granted the
                <code>mysql_rest_service_admin</code> MySQL role or a
                superset of privileges.</li>
                </ul>
                <p>To grant the <code>mysql_rest_service_admin</code>
                MySQL role, execute the following SQL statement.</p>
                <div class="sourceCode" id="cb8"><pre
                class="sourceCode sql"><code class="sourceCode sql"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="st">&#39;mysql_rest_service_admin&#39;</span> <span class="kw">TO</span> <span class="st">&#39;user_account&#39;</span>@<span class="st">&#39;%&#39;</span>;</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Please ensure to include all roles in the next statement </span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- that should become active when the user connects</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="fu">USER</span> <span class="st">&#39;user_account&#39;</span>@<span class="st">&#39;%&#39;</span> <span class="kw">DEFAULT</span> <span class="kw">ROLE</span> <span class="st">&#39;mysql_rest_service_admin&#39;</span>;</span></code></pre></div>
                <h2 data-number="4.2"
                id="setting-up-a-new-rest-service"><span
                class="header-section-number">4.2</span> Setting Up a
                New REST Service</h2>
                <p>A new REST service can be added in one of the
                following ways:</p>
                <ul>
                <li>MySQL Shell for VS Code provides a GUI dialog to
                create the REST service.</li>
                <li>MySQL Shell offers the MRS plugin that can be used
                to create a REST service interactively or with scripts
                in a terminal.</li>
                <li>When writing a script or plugin for MySQL Shell, the
                MRS plugin can be used to script the creation in Python
                or JavaScript.</li>
                </ul>
                <h3 data-number="4.2.1"
                id="adding-a-rest-service-using-mysql-shell-for-vs-code"><span
                class="header-section-number">4.2.1</span> Adding a REST
                Service Using MySQL Shell for VS Code</h3>
                <p>After configuring the MySQL REST Service on the
                target MySQL instance, the DB Connection in the DATABASE
                CONNECTIONS view (when expanded) shows a new tree item,
                <code>MySQL REST Service</code>.</p>
                <ol type="1">
                <li><p>Right-click the tree item
                <code>MySQL REST Service</code> and select
                <code>Add REST Service...</code> from the list to
                display the MySQL REST Service dialog.</p></li>
                <li><p>Specify values for the required parameters and
                click <code>OK</code> to add the new REST
                service.</p></li>
                </ol>
                <figure>
                <img src="sections/../images/vsc-mrs-add-service.png"
                title="Adding a REST Service"
                alt="Adding a REST Service" />
                <figcaption aria-hidden="true">Adding a REST
                Service</figcaption>
                </figure>
                <h3 data-number="4.2.2"
                id="adding-a-rest-service-using-mysql-shell"><span
                class="header-section-number">4.2.2</span> Adding a REST
                Service Using MySQL Shell</h3>
                <p>For MySQL Shell, the <code>mrs</code> plugin is used
                to work with the MySQL REST Service. The
                <code>mrs.add.service()</code> function adds a new REST
                service.</p>
                <p>When started without parameters, an interactive
                wizard prompt you for the required parameters. For
                example:</p>
                <div class="sourceCode" id="cb9"><pre
                class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span> <span class="op">&gt;</span> localhost:33060+ <span class="op">&gt;</span> Py <span class="op">&gt;</span> mrs.add.service<span class="er">(</span><span class="kw">)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the context path for this service [/mrs]: /myservice</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the host name for this service <span class="er">(</span><span class="ex">e.g.</span> None or localhost<span class="kw">)</span> <span class="ex">[None]:</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> HTTP</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> HTTPS</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> select the protocol<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">the</span> service should support [HTTP,HTTPS]: 2</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Comments:</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> Default Service Options for Development</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> No options</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> Custom options</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> select how to initialize the options [Default Service Options for Development]: </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Service</span> /myservice created successfully.</span></code></pre></div>
                <p>Execute the following command to get detailed help
                information about the <code>mrs.add.service()</code>
                function.</p>
                <div class="sourceCode" id="cb10"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>\<span class="op">?</span> mrs<span class="op">.</span><span class="at">add</span><span class="op">.</span><span class="at">service</span></span></code></pre></div>
                <h3 data-number="4.2.3"
                id="rest-service-properties"><span
                class="header-section-number">4.2.3</span> REST Service
                Properties</h3>
                <p>Each REST service has a common set of properties.</p>
                <table>
                <thead>
                <tr class="header">
                <th>Option</th>
                <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr class="odd">
                <td>MRS Service Path</td>
                <td>The URL context root of this service</td>
                </tr>
                <tr class="even">
                <td>Comments</td>
                <td>Comments to describe this service</td>
                </tr>
                <tr class="odd">
                <td>Host Name</td>
                <td>If specified, only requests for this host are
                served</td>
                </tr>
                <tr class="even">
                <td>Supported Protocols</td>
                <td>The supported protocols (HTTPS by default)</td>
                </tr>
                <tr class="odd">
                <td>Enabled</td>
                <td>Specifies if the service is served by MySQL
                Router</td>
                </tr>
                <tr class="even">
                <td>Options</td>
                <td>Advanced options in JSON format</td>
                </tr>
                </tbody>
                </table>
                <h3 data-number="4.2.4"
                id="rest-service-advanced-options"><span
                class="header-section-number">4.2.4</span> REST Service
                Advanced Options</h3>
                <p>The following advanced options can be set in JSON
                format:</p>
                <ul>
                <li>headers: Accepts a JSON object with one or more HTTP
                header names as key and its setting as value.</li>
                <li>http:
                <ul>
                <li>allowedOrigin: If set to <code>auto</code>, MySQL
                Router dynamically sets the header
                <code>Access-Control-Allow-Origin</code> to the domain
                generating the request. Alternatively, this can be set
                to a specific domain <code>https://mydomain.com</code>
                or a list of domains (for example,
                <code>["https://mydomain.com", "https://myotherdomain.com"]</code>).</li>
                </ul></li>
                <li>logging:
                <ul>
                <li>exceptions: If set to <code>true</code>, exceptions
                are logged.</li>
                <li>requests:
                <ul>
                <li>body: If set to <code>true</code>, the full body of
                all requests are logged.</li>
                <li>headers: If set to <code>true,</code> only the
                headers of all requests are logged.</li>
                </ul></li>
                <li>response:
                <ul>
                <li>body: If set to <code>true</code>, the full body of
                all responses are logged.</li>
                <li>headers: If set to <code>true</code>, only the
                headers of all responses are logged.</li>
                </ul></li>
                <li>returnInternalErrorDetails: If set to
                <code>true</code>, the cause errors with code 500 are
                sent to the client.</li>
                </ul></li>
                </ul>
                <h4 data-number="4.2.4.1"
                id="default-rest-service-options"><span
                class="header-section-number">4.2.4.1</span> Default
                REST Service Options</h4>
                <p>The example that follows shows the options that are
                used as default when deploying a new service.</p>
                <p>Note: These options are only recommended for
                development and must be changed for use in
                production.</p>
                <p>By setting <code>allowedOrigin</code> to
                <code>auto</code> MySQL Router dynamically sets the
                header <code>Access-Control-Allow-Origin</code> to the
                domain that generates the request. This is done to work
                around Cross-origin resource sharing (CORS) checks of
                web browsers during development time.</p>
                <div class="sourceCode" id="cb11"><pre
                class="sourceCode json"><code class="sourceCode json"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;headers&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;Access-Control-Allow-Credentials&quot;</span><span class="fu">:</span> <span class="st">&quot;true&quot;</span><span class="fu">,</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;Access-Control-Allow-Headers&quot;</span><span class="fu">:</span> <span class="st">&quot;Content-Type, Authorization, X-Requested-With, Origin, X-Auth-Token&quot;</span><span class="fu">,</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;Access-Control-Allow-Methods&quot;</span><span class="fu">:</span> <span class="st">&quot;GET, POST, PUT, DELETE, OPTIONS&quot;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;http&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;allowedOrigin&quot;</span><span class="fu">:</span> <span class="st">&quot;auto&quot;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;logging&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;exceptions&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;request&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;body&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;headers&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">},</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;response&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;body&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;headers&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;returnInternalErrorDetails&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
                <p>When deploying a REST service in production, the
                following settings need to be changed:</p>
                <ol type="1">
                <li>Change <code>allowedOrigin</code> to the domain, or
                domains, the REST service is running on (for example,
                <code>"https://mydomain.com"</code> when deploying on a
                production server).</li>
                <li>Set <code>returnInternalErrorDetails</code> to
                <code>false</code>.</li>
                <li>Adjust the logging settings as needed.</li>
                </ol>
                <h3 data-number="4.2.5"
                id="rest-service-definitions"><span
                class="header-section-number">4.2.5</span> REST Service
                Definitions</h3>
                <h4 data-number="4.2.5.1" id="about-mrs-autorest"><span
                class="header-section-number">4.2.5.1</span> About MRS
                AutoREST</h4>
                <p>AutoREST is a quick and easy way to expose database
                schema tables, views, and procedures as REST
                resources.</p>
                <h4 data-number="4.2.5.2" id="rest-apis"><span
                class="header-section-number">4.2.5.2</span> REST
                APIs</h4>
                <p>Representational State Transfer (REST) is a style of
                software architecture for distributed hypermedia systems
                such as the World Wide Web. An API is described as
                RESTful when it conforms to the tenets of REST. Although
                a full discussion of REST is outside the scope of this
                document, a REST API has the following
                characteristics:</p>
                <ul>
                <li><p>Data is modelled as a set of resources. Resources
                are identified by URIs.</p></li>
                <li><p>A small, uniform set of operations are used to
                manipulate resources (for example, PUT, POST, GET,
                DELETE).</p></li>
                <li><p>A resource can have multiple representations (for
                example, a blog might have an HTML representation and an
                RSS representation).</p></li>
                <li><p>Services are stateless and since it is likely
                that the client will want to access related resources,
                these should be identified in the representation
                returned, typically by providing hypertext
                links.</p></li>
                </ul>
                <h4 data-number="4.2.5.3"
                id="restful-services-terminology"><span
                class="header-section-number">4.2.5.3</span> RESTful
                Services Terminology</h4>
                <p>This section introduces some common terms that are
                used throughout this document:</p>
                <ul>
                <li><p><strong>RESTful service:</strong> An HTTP web
                service that conforms to the tenets of the RESTful
                architectural style.</p></li>
                <li><p><strong>Resource module:</strong> An
                organizational unit that is used to group related
                resource templates.</p></li>
                <li><p><strong>Resource template:</strong> An individual
                RESTful service that is able to service requests for
                some set of URIs (Universal Resource Identifiers). The
                set of URIs is defined by the URI Pattern of the
                Resource Template</p></li>
                <li><p><strong>URI pattern:</strong> A pattern for the
                resource template. Can be either a route pattern or a
                URI template, although you are encouraged to use route
                patterns.</p></li>
                <li><p><strong>Route pattern:</strong> A pattern that
                focuses on decomposing the path portion of a URI into
                its component parts. For example, a pattern of
                /:object/:id? will match /emp/101 (matches a request for
                the item in the emp resource with id of 101) and will
                also match /emp/ (matches a request for the emp
                resource, because the :id parameter is annotated with
                the ? modifier, which indicates that the id parameter is
                optional).</p></li>
                <li><p><strong>HTTP operation:</strong> HTTP (HyperText
                Transport Protocol) defines standard methods that can be
                performed on resources: GET (retrieve the resource
                contents), POST (store a new resource), PUT (update an
                existing resource), and DELETE (remove a
                resource).</p></li>
                </ul>
                <!-- Copyright (c) 2022, 2023, Oracle and/or its affiliates.

                This program is free software; you can redistribute it and/or modify
                it under the terms of the GNU General Public License, version 2.0,
                as published by the Free Software Foundation.

                This program is also distributed with certain software (including
                but not limited to OpenSSL) that is licensed under separate terms, as
                designated in a particular file or component or in included license
                documentation.  The authors of MySQL hereby grant you an additional
                permission to link the program and your derivative works with the
                separately licensed software that they have included with MySQL.
                This program is distributed in the hope that it will be useful,  but
                WITHOUT ANY WARRANTY; without even the implied warranty of
                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
                the GNU General Public License, version 2.0, for more details.

                You should have received a copy of the GNU General Public License
                along with this program; if not, write to the Free Software Foundation, Inc.,
                51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
                <h1 data-number="5"
                id="adding-database-schemas-and-objects-to-a-rest-service"><span
                class="header-section-number">5</span> Adding Database
                Schemas and Objects to a REST Service</h1>
                <p>Adding database schema objects (tables, views, or
                procedures) to a MySQL REST Service (MRS) allows them to
                be accessed through RESTful Web services. Before
                database schema object can be added, the database schema
                containing those objects has to be added to the REST
                service first.</p>
                <p>The following figure shows the a REST schema and its
                REST objects.</p>
                <figure>
                <img
                src="sections/../images/vsc-mrs-schema-and-objects.png"
                title="REST Schema and its Objects"
                alt="REST Schema and its Objects" />
                <figcaption aria-hidden="true">REST Schema and its
                Objects</figcaption>
                </figure>
                <p>Note: Adding a database schema is not equivalent to
                exposing all tables and views in the schema through the
                RESTful Web service. It just means making the MySQL REST
                Service aware that the schema exists and that it may
                have zero or more resources to expose to HTTP/S.</p>
                <h2 data-number="5.1"
                id="preconditions-for-adding-database-schemas-and-objects"><span
                class="header-section-number">5.1</span> Preconditions
                for Adding Database Schemas and Objects</h2>
                <p>Before adding REST schemas and objects, ensure that
                the following preconditions are met:</p>
                <ul>
                <li>A REST service must be added first (see <a
                href="#adding-a-rest-service">Adding a REST
                Service</a>).</li>
                <li>The MySQL account used to connect to the targeting
                MySQL Solution needs to be granted the
                <code>mysql_rest_service_schema_admin</code> MySQL role
                or a superset of privileges.</li>
                </ul>
                <p>To grant the
                <code>mysql_rest_service_schema_admin</code> MySQL role,
                execute the following SQL statement.</p>
                <div class="sourceCode" id="cb12"><pre
                class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="st">&#39;mysql_rest_service_schema_admin&#39;</span> <span class="kw">TO</span> <span class="st">&#39;user_account&#39;</span>@<span class="st">&#39;%&#39;</span>;</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Please ensure to include all roles in the next statement</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- that should become active when the user connects</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="fu">USER</span> <span class="st">&#39;user_account&#39;</span>@<span class="st">&#39;%&#39;</span> <span class="kw">DEFAULT</span> <span class="kw">ROLE</span> <span class="st">&#39;mysql_rest_service_schema_admin&#39;</span>;</span></code></pre></div>
                <h2 data-number="5.2"
                id="adding-a-database-schema"><span
                class="header-section-number">5.2</span> Adding a
                Database Schema</h2>
                <p>It is possible to add MySQL database schemas by using
                MySQL Shell for VS Code through dialogs, MySQL Shell
                directly on the command line, or with scripts.</p>
                <h3 data-number="5.2.1"
                id="adding-a-schema-with-mysql-shell-for-vs-code"><span
                class="header-section-number">5.2.1</span> Adding a
                Schema with MySQL Shell for VS Code</h3>
                <p>To add a database schema to a REST service:</p>
                <ol type="1">
                <li><p>Right-click the schema in the DATABASE
                CONNECTIONS view and select
                <code>Add Schema to REST Service</code> to open a dialog
                from which you set all REST schema parameters.</p></li>
                <li><p>Click <code>OK</code> to add the schema.</p></li>
                </ol>
                <figure>
                <img src="sections/../images/vsc-mrs-add-schema.png"
                title="Adding a Database Schema"
                alt="Adding a Database Schema" />
                <figcaption aria-hidden="true">Adding a Database
                Schema</figcaption>
                </figure>
                <h3 data-number="5.2.2"
                id="adding-a-schema-with-mysql-shell"><span
                class="header-section-number">5.2.2</span> Adding a
                Schema with MySQL Shell</h3>
                <p>To add a database schema to a REST service, call the
                <code>mrs.add.schema()</code> function.</p>
                <p>When started without parameters, an interactive
                wizard prompts you for the required parameters.</p>
                <div class="sourceCode" id="cb13"><pre
                class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">MySQL</span> <span class="op">&gt;</span> localhost:33060+ <span class="op">&gt;</span> JS <span class="op">&gt;</span> mrs.add.schema<span class="er">(</span><span class="kw">)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> information_schema</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> performance_schema</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> sys</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>   <span class="ex">4</span> sakila</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>   <span class="ex">5</span> test</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>   <span class="ex">6</span> forum</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>   <span class="ex">7</span> ortho</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>   <span class="ex">8</span> mrs_notes</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the name or index of a schema: 4</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the request path for this schema [/sakila]: /sakila</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Should</span> the schema require authentication [y/N]: </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="ex">How</span> many items should be listed per page [Schema Default]: </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Comments:</span> </span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="ex">Options:</span> </span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="ex">Service</span> with path /sakila created successfully.</span></code></pre></div>
                <p>Execute the following command to get detailed help
                information about the <code>mrs.add.schema()</code>
                function.</p>
                <div class="sourceCode" id="cb14"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>\<span class="op">?</span> mrs<span class="op">.</span><span class="at">add</span><span class="op">.</span><span class="at">schema</span></span></code></pre></div>
                <h3 data-number="5.2.3"
                id="rest-schema-properties"><span
                class="header-section-number">5.2.3</span> REST Schema
                Properties</h3>
                <p>Each REST schema has a common set of properties.</p>
                <table>
                <colgroup>
                <col style="width: 37%" />
                <col style="width: 62%" />
                </colgroup>
                <thead>
                <tr class="header">
                <th>Option</th>
                <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr class="odd">
                <td>MRS Service Path</td>
                <td>The path of the REST service for this REST
                schema</td>
                </tr>
                <tr class="even">
                <td>Comments</td>
                <td>Comments to describe this MRS schema</td>
                </tr>
                <tr class="odd">
                <td>REST Schema Path</td>
                <td>The request path to access the schema (must start
                with /)</td>
                </tr>
                <tr class="even">
                <td>Schema Name</td>
                <td>The name of the corresponding database schema</td>
                </tr>
                <tr class="odd">
                <td>Items per Page</td>
                <td>The default number of items to be returned when
                requesting REST objects of this schema</td>
                </tr>
                <tr class="even">
                <td>Enabled</td>
                <td>Whether or not the REST objects of this REST schema
                are exposed through the REST interface</td>
                </tr>
                <tr class="odd">
                <td>Requires Authentication</td>
                <td>Whether or not authentication is required to access
                the REST objects of this REST schema</td>
                </tr>
                <tr class="even">
                <td>Options</td>
                <td>Additional options in JSON format</td>
                </tr>
                </tbody>
                </table>
                <h2 data-number="5.3"
                id="adding-a-database-object"><span
                class="header-section-number">5.3</span> Adding a
                Database Object</h2>
                <p>It is possible to add MySQL database schema objects
                (tables, views, and stored procedures) by using MySQL
                Shell for VS Code through dialogs, MySQL Shell directly
                on the command line, or with scripts.</p>
                <h3 data-number="5.3.1"
                id="adding-a-database-object-with-mysql-shell-for-vs-code"><span
                class="header-section-number">5.3.1</span> Adding a
                Database Object with MySQL Shell for VS Code</h3>
                <p>To add a database schema object to a REST schema:</p>
                <ol type="1">
                <li><p>Right-click on the database object in the
                DATABASE CONNECTIONS view and select
                <code>Add Database Object to REST Service</code>. This
                will open the <a
                href="#mysql-rest-object-dialog-reference">MySQL REST
                Object dialog</a>.</p></li>
                <li><p>Adjust all REST object settings
                accordingly.</p></li>
                <li><p>Press <code>OK</code> to add the database schema
                object.</p></li>
                </ol>
                <figure>
                <img src="sections/../images/vsc-mrs-add-db-object.png"
                title="Adding a Database Object"
                alt="Adding a Database Object" />
                <figcaption aria-hidden="true">Adding a Database
                Object</figcaption>
                </figure>
                <h3 data-number="5.3.2"
                id="adding-a-database-object-with-mysql-shell"><span
                class="header-section-number">5.3.2</span> Adding a
                Database Object with MySQL Shell</h3>
                <p>To add a database schema to a REST service call the
                <code>mrs.add.dbObject()</code> function.</p>
                <p>When started without parameters, an interactive
                wizard prompts you for the required parameters.</p>
                <div class="sourceCode" id="cb15"><pre
                class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span> <span class="op">&gt;</span> localhost:33060+ <span class="op">&gt;</span> JS <span class="op">&gt;</span> mrs.add.dbObject<span class="er">(</span><span class="kw">)</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> mrs_notes</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> sakila</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the name or index of a schema: 2</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> TABLE</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> VIEW</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> PROCEDURE</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the name or index of a database object type [TABLE]: </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> actor</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> address</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> category</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>   <span class="ex">4</span> city</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>   <span class="ex">5</span> country</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>   <span class="ex">6</span> customer</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>   <span class="ex">7</span> film</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>   <span class="ex">8</span> film_actor</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>   <span class="ex">9</span> film_category</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">10</span> film_text</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">11</span> inventory</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="ex">12</span> language</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  <span class="ex">13</span> payment</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>  <span class="ex">14</span> rental</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>  <span class="ex">15</span> staff</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>  <span class="ex">16</span> store</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the name or index of an database object: 4</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the request path for this object [/city]: </span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> CREATE</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> READ</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> UPDATE</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>   <span class="ex">4</span> DELETE</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> select the CRUD operations that should be supported, <span class="st">&#39;*&#39;</span> for all [READ]: </span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> FEED</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> ITEM</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> MEDIA</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> select the CRUD operation format [FEED]: </span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a><span class="ex">Should</span> the db_object require authentication [y/N]: </span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a><span class="ex">Should</span> row ownership be required when querying the object [y/N]: </span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a><span class="ex">How</span> many items should be listed per page [Schema Default]: </span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a><span class="ex">Comments:</span> </span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a><span class="ex">Object</span> added successfully.</span></code></pre></div>
                <p>Execute the following command to get detailed help
                information about the <code>mrs.add.dbObject()</code>
                function.</p>
                <div class="sourceCode" id="cb16"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>\<span class="op">?</span> mrs<span class="op">.</span><span class="at">add</span><span class="op">.</span><span class="at">dbObject</span></span></code></pre></div>
                <h2 data-number="5.4"
                id="mysql-rest-object-dialog-reference"><span
                class="header-section-number">5.4</span> MySQL REST
                Object Dialog Reference</h2>
                <p>The MySQL REST Object dialog is used to design the
                representation of a database schema object on the MySQL
                REST Service.</p>
                <p>The following aspects can be set through the
                dialog.</p>
                <ul>
                <li>Basic
                <ul>
                <li>The database schema object that should be exposed
                via MRS</li>
                <li>The URL path of how to access the REST object</li>
                </ul></li>
                <li>Security
                <ul>
                <li>Whether the object is publicly available or requires
                authentication</li>
                <li>The CRUD operations that are allowed</li>
                <li>The CRUD operations that are allowed on referenced
                tables</li>
                <li>Whether row ownership should be enforced to enable
                row level security</li>
                </ul></li>
                <li>JSON/Relation Duality
                <ul>
                <li>Which columns of the database schema object should
                be exposed and how they should be named</li>
                <li>Which referenced tables should be included, either
                nested or unnested or reduced to a single field</li>
                </ul></li>
                </ul>
                <figure>
                <img
                src="sections/../images/vsc-mrs-json-relational-editor.png"
                title="The MySQL REST Object Dialog"
                alt="The MySQL REST Object Dialog" />
                <figcaption aria-hidden="true">The MySQL REST Object
                Dialog</figcaption>
                </figure>
                <h3 data-number="5.4.1"
                id="building-a-jsonrelational-duality-view"><span
                class="header-section-number">5.4.1</span> Building a
                JSON/Relational Duality View</h3>
                <p>A simple 1:1 mapping between the REST DB Object and
                the corresponding relational table is automatically
                created when <a
                href="#adding-a-database-object-with-mysql-shell">adding
                a database object</a>.</p>
                <p>No changes need to be applied on the MySQL REST
                Object Dialog, except unchecking the
                <code>Requires Auth</code> checkbox if the REST object
                should be available without login.</p>
                <blockquote>
                <p>Note: If the <code>Requires Auth</code> checkbox has
                been unchecked, the REST object will be publicly
                available to anybody who can access the REST URL.</p>
                </blockquote>
                <h4 data-number="5.4.1.1"
                id="enabling-crud-operations"><span
                class="header-section-number">5.4.1.1</span> Enabling
                CRUD Operations</h4>
                <p>Since only the READ CRUD operation is enabled by
                default (see the <code>R</code> being highlighted next
                to the relational object), only read commands will be
                allowed on the REST object. To change this, toggle each
                letter (<code>R</code> - Read, <code>C</code> - Create,
                <code>U</code> - Update and <code>D</code> - Delete) to
                enable or disable the corresponding functionality.</p>
                <table>
                <thead>
                <tr class="header">
                <th>Letter</th>
                <th>CRUD Operation</th>
                <th>SQL Operation</th>
                </tr>
                </thead>
                <tbody>
                <tr class="odd">
                <td>C</td>
                <td>CREATE</td>
                <td>CREATE</td>
                </tr>
                <tr class="even">
                <td>R</td>
                <td>READ</td>
                <td>SELECT</td>
                </tr>
                <tr class="odd">
                <td>U</td>
                <td>UPDATE</td>
                <td>UPDATE</td>
                </tr>
                <tr class="even">
                <td>D</td>
                <td>DELETE</td>
                <td>DELETE</td>
                </tr>
                </tbody>
                </table>
                <h4 data-number="5.4.1.2"
                id="interactively-query-the-rest-object"><span
                class="header-section-number">5.4.1.2</span>
                Interactively Query the REST Object</h4>
                <p>After clicking <code>OK</code> to close the MySQL
                REST Object dialog, the DB Notebook will be visible
                again.</p>
                <p>Switch the DB Notebook to TypeScript mode with
                <code>\ts</code> if it is still in SQL mode. Now it is
                possible to interactively query the REST object using
                the <a href="sdk.html">MRS SDK Client API</a>.</p>
                <div class="sourceCode" id="cb17"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>\ts</span></code></pre></div>
                <p>If some of the REST objects require authenticate and
                a REST Authentication App has been added to the REST
                service, use the <code>authenticate()</code> function of
                the REST service Client API object. This will show an
                login dialog where the credentials of a user account can
                be specified.</p>
                <div class="sourceCode" id="cb18"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="fu">authenticate</span>()<span class="op">;</span></span></code></pre></div>
                <blockquote>
                <p>The <code>authenticate()</code> function only works
                with the built in MRS authentication vendor. Please make
                sure to set this vendor when adding the REST
                Authentication App.</p>
                </blockquote>
                <p>In the following examples case the
                <code>sakila.city</code> database table was used, as can
                be seen in the screenshot above.</p>
                <div class="sourceCode" id="cb19"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span></code></pre></div>
                <div class="sourceCode" id="cb20"><pre
                class="sourceCode json"><code class="sourceCode json"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>   <span class="dt">&quot;city&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;A Corua (La Corua)&quot;</span><span class="fu">,</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>         <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>         <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>   <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>   <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">1</span><span class="fu">,</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>   <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">87</span><span class="fu">,</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>   <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="fu">,</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>   <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;etag&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;EE93452B41984F3F5BBB0395CCB2CED00F5C748FEEA4A36CCD749CC3F85B7CEA&quot;</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>   <span class="fu">}</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
                <p>The fields can be filtered and a conditional where
                clause can be added. Please refer to the <a
                href="sdk.html">MRS SDK Client API</a> documentation for
                more information.</p>
                <div class="sourceCode" id="cb21"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findMany</span>({<span class="dt">select</span><span class="op">:</span> [<span class="st">&quot;city&quot;</span><span class="op">,</span> <span class="st">&quot;cityId&quot;</span>]<span class="op">,</span> <span class="dt">where</span><span class="op">:</span> {<span class="dt">city</span><span class="op">:</span> {<span class="dt">$like</span><span class="op">:</span> <span class="st">&quot;NE%&quot;</span>}}})<span class="op">;</span></span></code></pre></div>
                <div class="sourceCode" id="cb22"><pre
                class="sourceCode json"><code class="sourceCode json"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;items&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;city&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;Newcastle&quot;</span><span class="fu">,</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>                <span class="fu">{</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/city/364&quot;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>                <span class="fu">}</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>            <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">364</span><span class="fu">,</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{}</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;city&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;Nezahualcyotl&quot;</span><span class="fu">,</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>                <span class="fu">{</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/city/365&quot;</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>                <span class="fu">}</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>            <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">365</span><span class="fu">,</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>                <span class="dt">&quot;etag&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;681C34301F6ED6FD1200505C9C2CFB90E3367A267B7AADBD85186D781FEC7C19&quot;</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>            <span class="fu">}</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;limit&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">25</span><span class="fu">,</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;offset&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">0</span><span class="fu">,</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;hasMore&quot;</span><span class="fu">:</span><span class="er"> false</span><span class="fu">,</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;count&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">2</span><span class="fu">,</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/city/&quot;</span></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
                <p>To quickly edit a REST DB Object that has been
                interactively queried, the <code>edit()</code> function
                can be used.</p>
                <div class="sourceCode" id="cb23"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">edit</span>()</span></code></pre></div>
                <h3 data-number="5.4.2"
                id="creating-a-nested-jsonrelational-duality-view"><span
                class="header-section-number">5.4.2</span> Creating a
                Nested JSON/Relational Duality View</h3>
                <p>By enabling a referenced table, the columns of that
                table are included as a nested entry in the JSON result.
                Please note that this works with 1:1 and 1:n
                relationships.</p>
                <figure>
                <img
                src="sections/../images/vsc-mrs-json-relational-editor-2-referenced-table.png"
                title="Adding a Referenced Table"
                alt="Adding a Referenced Table" />
                <figcaption aria-hidden="true">Adding a Referenced
                Table</figcaption>
                </figure>
                <p>This leads to the following result.</p>
                <div class="sourceCode" id="cb24"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span></code></pre></div>
                <div class="sourceCode" id="cb25"><pre
                class="sourceCode json"><code class="sourceCode json"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;city&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;A Corua (La Corua)&quot;</span><span class="fu">,</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">1</span><span class="fu">,</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;country&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;country&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;Spain&quot;</span><span class="fu">,</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">87</span><span class="fu">,</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">87</span><span class="fu">,</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="fu">,</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;etag&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;FFA2187AD4B98DF48EC40B3E807E0561A71D02C2F4F5A3B953AA6CB6E41CAD16&quot;</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
                <h3 data-number="5.4.3"
                id="creating-a-jsonrelational-duality-view-with-an-unnested-referenced-table"><span
                class="header-section-number">5.4.3</span> Creating a
                JSON/Relational Duality View with an Unnested Referenced
                Table</h3>
                <p>If the columns of the referenced table should be
                added to the level above, the <code>Unnest</code> option
                can be enabled.</p>
                <figure>
                <img
                src="sections/../images/vsc-mrs-json-relational-editor-3-referenced-table-unnested.png"
                title="Unnest a Referenced Table"
                alt="Unnest a Referenced Table" />
                <figcaption aria-hidden="true">Unnest a Referenced
                Table</figcaption>
                </figure>
                <p>This leads to the following result.</p>
                <div class="sourceCode" id="cb26"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span></code></pre></div>
                <div class="sourceCode" id="cb27"><pre
                class="sourceCode json"><code class="sourceCode json"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;city&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;A Corua (La Corua)&quot;</span><span class="fu">,</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">1</span><span class="fu">,</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;country&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;Spain&quot;</span><span class="fu">,</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">87</span><span class="fu">,</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="fu">,</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;etag&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;48889BABCBBA1491D25DFE0D7A270FA3FDF8A16DA8E44E42C61759DE1F0D6E35&quot;</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
                <h3 data-number="5.4.4"
                id="creating-a-jsonrelational-duality-view-with-a-reduced-referenced-table"><span
                class="header-section-number">5.4.4</span> Creating a
                JSON/Relational Duality View with a Reduced Referenced
                Table</h3>
                <p>Instead of having all columns unnested and disabling
                all columns that are not wanted, the
                <code>Reduce to...</code> dropdown can be used to select
                the column that should be selected for the reduce
                operation.</p>
                <figure>
                <img
                src="sections/../images/vsc-mrs-json-relational-editor-4-referenced-table-reduced.png"
                title="A Reduced Referenced Table"
                alt="A Reduced Referenced Table" />
                <figcaption aria-hidden="true">A Reduced Referenced
                Table</figcaption>
                </figure>
                <p>This leads to the same result as the query above.</p>
                <div class="sourceCode" id="cb28"><pre
                class="sourceCode js"><code class="sourceCode javascript"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span></code></pre></div>
                <div class="sourceCode" id="cb29"><pre
                class="sourceCode json"><code class="sourceCode json"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;city&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;A Corua (La Corua)&quot;</span><span class="fu">,</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">1</span><span class="fu">,</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;country&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;Spain&quot;</span><span class="fu">,</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">87</span><span class="fu">,</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="fu">,</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;etag&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;48889BABCBBA1491D25DFE0D7A270FA3FDF8A16DA8E44E42C61759DE1F0D6E35&quot;</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
                <!-- Copyright (c) 2022, 2023, Oracle and/or its affiliates.

                This program is free software; you can redistribute it and/or modify
                it under the terms of the GNU General Public License, version 2.0,
                as published by the Free Software Foundation.

                This program is also distributed with certain software (including
                but not limited to OpenSSL) that is licensed under separate terms, as
                designated in a particular file or component or in included license
                documentation.  The authors of MySQL hereby grant you an additional
                permission to link the program and your derivative works with the
                separately licensed software that they have included with MySQL.
                This program is distributed in the hope that it will be useful,  but
                WITHOUT ANY WARRANTY; without even the implied warranty of
                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
                the GNU General Public License, version 2.0, for more details.

                You should have received a copy of the GNU General Public License
                along with this program; if not, write to the Free Software Foundation, Inc.,
                51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
                <h1 data-number="6"
                id="working-with-mrs-restful-web-services"><span
                class="header-section-number">6</span> Working with MRS
                RESTful Web Services</h1>
                <p>This section provides examples of using the MySQL
                REST Service queries and other operations against tables
                and views after you have REST-enabled them.</p>
                <h2 data-number="6.1"
                id="about-mrs-restful-web-services"><span
                class="header-section-number">6.1</span> About MRS
                RESTful Web Services</h2>
                <p>MRS supports the creation of an unlimited amount of
                distinct RESTful Web Services. You can also refer to
                them as MRS services. Each of those MRS services usually
                maps to one (or more) web applications.</p>
                <p>After you create a RESTful Web Service, you can
                access it by entering the following URL in your
                browser:</p>
                <p>Pattern:</p>
                <pre><code>https://&lt;HOSTNAME:PORT&gt;/&lt;MRS_SERVICE_PATH&gt;/&lt;MRS_DATABASE_SCHEMA_PATH&gt;/&lt;MRS_DATABASE_OBJECT_PATH&gt;/</code></pre>
                <ul>
                <li><code>HOSTNAME:PORT/MRS_SERVICE_PATH</code>:
                Specifies the address at which the given MRS service is
                running. You can also refer to it as the MRS service
                URI.</li>
                <li><code>MRS_DATABASE_SCHEMA_PATH</code>: Specifies the
                path that you provided while REST-enabling your database
                schema. By default, it is the name of the schema.</li>
                <li><code>MRS_DATABASE_OBJECT_PATH</code>: Specifies the
                path that you provided while REST-enabling your database
                object (TABLE, VIEW or PROCEDURE).</li>
                </ul>
                <p>Together, these values comprise the MRS endpoint
                URL.</p>
                <p>Example:</p>
                <pre><code>https://localhost:8000/mrs/sakila/actor</code></pre>
                <h3 data-number="6.1.1"
                id="about-request-path-syntax-requirements"><span
                class="header-section-number">6.1.1</span> About Request
                Path Syntax Requirements</h3>
                <p>To prevent path-based attacks, MRS requires the
                syntax of the path element of each request URL to
                conform to the following rules:</p>
                <ul>
                <li>Is not empty or whitespace-only</li>
                <li>Does not contain any of the following characters: ?,
                #, ;, %</li>
                <li>Does not contain the null character (000)</li>
                <li>Does not contain characters in the range:
                001-031</li>
                <li>Does not end with white space or a period (.)</li>
                <li>Does not contain double forward slash (//) or double
                back slash(\)</li>
                <li>Does not contain two or more periods in sequence
                (.., …, and so on)</li>
                <li>Total length is {<span class="citation"
                data-cites="value">@value</span> #MAX_PATH_LENGTH}
                characters or less</li>
                <li>Does not match any of the following names (case
                insensitive), with or without file extensions: CON, PRN,
                AUX, CLOCK$, NUL, COM0, COM1, COM2, COM3, COM4, COM5,
                COM6, COM7, COM8, COM9, LPT0, LPT1, LPT2, LPT3, LPT4,
                LPT5, LPT6, LPT7, LPT8, LPT9</li>
                </ul>
                <p>If you intend to auto-REST enable objects, then avoid
                object names that do not comply with these requirements.
                For example, do not create a table named #EMPS. If you
                do want to auto-REST enable objects that have
                non-compliant names, then you must use an alias that
                complies with the requirements.</p>
                <p>These requirements are applied to the URL decoded
                form of the URL, to prevent attempted circumvention of
                percent encodings.</p>
                <h3 data-number="6.1.2"
                id="about-curl-and-testing-restful-services"><span
                class="header-section-number">6.1.2</span> About cURL
                and Testing RESTful Services</h3>
                <p>Other sections show the testing of RESTful services
                using a web browser. However, another useful way to test
                RESTful Services is using the command line tool named
                cURL.</p>
                <p>This powerful tool is available for most platforms,
                and enables you to see and control what data is being
                sent to and received from a RESTful service.</p>
                <pre><code>curl -i https://localhost:8000/mrs/sakila/actor/2</code></pre>
                <p>This example produces a response like the
                following:</p>
                <pre><code>{
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;http://localhost:8000/mrs/sakila/actor/2&quot;
        }
    ],
    &quot;actor_id&quot;: 2,
    &quot;last_name&quot;: &quot;WAHLBERG&quot;,
    &quot;first_name&quot;: &quot;NICK&quot;,
    &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
}</code></pre>
                <p>The -i option tells cURL to display the HTTP headers
                returned by the server.</p>
                <h2 data-number="6.2" id="get-schema-metadata"><span
                class="header-section-number">6.2</span> Get Schema
                Metadata</h2>
                <p>This example retrieves a list of resources available
                through the specified schema alias. It shows RESTful
                services that are created by enabling a table, view or
                procedure.</p>
                <p>This example retrieves a list of resources available
                through the specified schema alias.</p>
                <p>Pattern:</p>
                <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/metadata-catalog/</code></pre>
                <p>Example:</p>
                <pre><code>GET http://localhost:8000/mrs/sakila/metadata-catalog/</code></pre>
                <p>Result:</p>
                <pre><code>{
    &quot;items&quot;: [
        {
            &quot;name&quot;: &quot;/actor&quot;,
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;describes&quot;,
                    &quot;href&quot;: &quot;http://localhost:8000/mrs/sakila/actor&quot;
                },
                {
                    &quot;rel&quot;: &quot;canonical&quot;,
                    &quot;href&quot;: &quot;http://localhost:8000/mrs/sakila/metadata-catalog/actor&quot;
                }
            ]
        },
        {
            &quot;name&quot;: &quot;/address&quot;,
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;describes&quot;,
                    &quot;href&quot;: &quot;http://localhost:8000/mrs/sakila/address&quot;
                },
                {
                    &quot;rel&quot;: &quot;canonical&quot;,
                    &quot;href&quot;: &quot;http://localhost:8000/mrs/sakila/metadata-catalog/address&quot;
                }
            ]
        }
    ],
    &quot;limit&quot;: 25,
    &quot;offset&quot;: 0,
    &quot;hasMore&quot;: false,
    &quot;count&quot;: 2,
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;http://localhost:8000/mrs/sakila/metadata-catalog/&quot;
        }
    ]
}</code></pre>
                <p>Each available resource has two hyperlinks:</p>
                <ul>
                <li>The link with relation describes points to the
                actual resource.</li>
                <li>The link with relation canonical describes the
                resource.</li>
                </ul>
                <h2 data-number="6.3" id="get-object-metadata"><span
                class="header-section-number">6.3</span> Get Object
                Metadata</h2>
                <p>This example retrieves the metadata (which describes
                the object) of an individual object. The location of the
                metadata is indicated by the canonical link
                relation.</p>
                <p>Pattern:</p>
                <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/metadata-catalog/&lt;ObjectAlias&gt;/</code></pre>
                <p>Example:</p>
                <pre><code>GET http://localhost:8000/mrs/sakila/metadata-catalog/actor/</code></pre>
                <p>Result:</p>
                <pre><code>{
    &quot;name&quot;: &quot;/actor&quot;,
    &quot;primaryKey&quot;: [
        &quot;actor_id&quot;
    ],
    &quot;members&quot;: [
        {
            &quot;name&quot;: &quot;actor_id&quot;,
            &quot;type&quot;: &quot;null&quot;
        },
        {
            &quot;name&quot;: &quot;first_name&quot;,
            &quot;type&quot;: &quot;null&quot;
        },
        {
            &quot;name&quot;: &quot;last_name&quot;,
            &quot;type&quot;: &quot;null&quot;
        },
        {
            &quot;name&quot;: &quot;last_update&quot;,
            &quot;type&quot;: &quot;string&quot;
        }
    ],
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;collection&quot;,
            &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/metadata-catalog&quot;,
            &quot;mediaType&quot;: &quot;application/json&quot;
        },
        {
            &quot;rel&quot;: &quot;canonical&quot;,
            &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/metadata-catalog/actor&quot;
        },
        {
            &quot;rel&quot;: &quot;describes&quot;,
            &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor&quot;
        }
    ]
}</code></pre>
                <h2 data-number="6.4" id="get-object-data"><span
                class="header-section-number">6.4</span> Get Object
                Data</h2>
                <p>This example retrieves the data in the object. Each
                row in the object corresponds to a JSON object embedded
                within the JSON array</p>
                <p>Pattern:</p>
                <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/</code></pre>
                <p>Example:</p>
                <pre><code>GET http://localhost:8000/mrs/sakila/actor/</code></pre>
                <p>Result:</p>
                <pre><code>{
    &quot;items&quot;: [
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/1&quot;
                }
            ],
            &quot;actor_id&quot;: 1,
            &quot;last_name&quot;: &quot;GUINESSS&quot;,
            &quot;first_name&quot;: &quot;PENELOPE&quot;,
            &quot;last_update&quot;: &quot;2021-09-28 20:18:53.000000&quot;
        },
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/2&quot;
                }
            ],
            &quot;actor_id&quot;: 2,
            &quot;last_name&quot;: &quot;WAHLBERG&quot;,
            &quot;first_name&quot;: &quot;NICK&quot;,
            &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
        },
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/3&quot;
                }
            ],
            &quot;actor_id&quot;: 3,
            &quot;last_name&quot;: &quot;CHASE&quot;,
            &quot;first_name&quot;: &quot;ED&quot;,
            &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
        },
        ...
    ]
}</code></pre>
                <h3 data-number="6.4.1"
                id="get-table-data-using-paging"><span
                class="header-section-number">6.4.1</span> Get Table
                Data Using Paging</h3>
                <p>This example specifies the offset and limit
                parameters to control paging of result data.</p>
                <p>Pattern:</p>
                <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/?offset=&lt;Offset&gt;&amp;limit=&lt;Limit&gt;</code></pre>
                <p>Example:</p>
                <pre><code>GET http://localhost:8080/mrs/sakila/actor/?offset=10&amp;limit=2</code></pre>
                <p>Result:</p>
                <pre><code>{
    &quot;items&quot;: [
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/11&quot;
                }
            ],
            &quot;actor_id&quot;: 11,
            &quot;last_name&quot;: &quot;CAGE&quot;,
            &quot;first_name&quot;: &quot;ZERO&quot;,
            &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
        },
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/12&quot;
                }
            ],
            &quot;actor_id&quot;: 12,
            &quot;last_name&quot;: &quot;BERRY&quot;,
            &quot;first_name&quot;: &quot;KARL&quot;,
            &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
        }
    ],
    &quot;limit&quot;: 2,
    &quot;offset&quot;: 10,
    &quot;hasMore&quot;: true,
    &quot;count&quot;: 2,
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/&quot;
        },
        {
            &quot;rel&quot;: &quot;next&quot;,
            &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/?offset=12&amp;limit=2&quot;
        },
        {
            &quot;rel&quot;: &quot;prev&quot;,
            &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/?offset=8&amp;limit=2&quot;
        },
        {
            &quot;rel&quot;: &quot;first&quot;,
            &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/?limit=2&quot;
        }
    ]
}</code></pre>
                <h3 data-number="6.4.2"
                id="get-table-data-using-query"><span
                class="header-section-number">6.4.2</span> Get Table
                Data Using Query</h3>
                <p>This example specifies a filter clause to restrict
                objects returned.</p>
                <p>Pattern:</p>
                <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/?q=&lt;FilterClause&gt;</code></pre>
                <p>Example:</p>
                <pre><code>GET http://localhost:8080/mrs/sakila/actor/?q={&quot;last_name&quot;:{&quot;$like&quot;:&quot;WAW%&quot;}}</code></pre>
                <p>Result:</p>
                <pre><code>{
    &quot;items&quot;: [
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/97&quot;
                }
            ],
            &quot;actor_id&quot;: 97,
            &quot;last_name&quot;: &quot;HAWKE&quot;,
            &quot;first_name&quot;: &quot;MEG&quot;,
            &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
        }
    ],
    &quot;limit&quot;: 25,
    &quot;offset&quot;: 0,
    &quot;hasMore&quot;: false,
    &quot;count&quot;: 1,
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/&quot;
        }
    ]
}</code></pre>
                <h3 data-number="6.4.3"
                id="get-table-row-using-primary-key"><span
                class="header-section-number">6.4.3</span> Get Table Row
                Using Primary Key</h3>
                <p>This example retrieves an object by specifying its
                identifying key values.</p>
                <p>Note: If a table does not have a primary key, then
                MRS uses the ROWID to uniquely address the rows.</p>
                <p>Pattern:</p>
                <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/&lt;KeyValues&gt;</code></pre>
                <p>Where <code>&lt;KeyValues&gt;</code> is a
                comma-separated list of key values (in key order).</p>
                <p>Example:</p>
                <pre><code>GET http://localhost:8000/mrs/sakila/actor/53</code></pre>
                <p>Result:</p>
                <pre><code>{
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/53&quot;
        }
    ],
    &quot;actor_id&quot;: 53,
    &quot;last_name&quot;: &quot;TEMPLE&quot;,
    &quot;first_name&quot;: &quot;MENA&quot;,
    &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
}</code></pre>
                <h2 data-number="6.5" id="insert-table-row"><span
                class="header-section-number">6.5</span> Insert Table
                Row</h2>
                <p>This example inserts data into the object. The body
                data supplied with the request is a JSON object
                containing the data to be inserted.</p>
                <p>If the object has a primary key, then the POST
                request can include the primary key value in the body.
                Or, if the table has an AUTO_INCREMENT column then the
                primary key column may be omitted.</p>
                <p>Pattern:</p>
                <pre><code>POST http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/</code></pre>
                <p>Example:</p>
                <pre><code>curl -i -H &quot;Content-Type: application/json&quot; -X POST -d &quot;{ \&quot;last_name\&quot; : \&quot;FOLEY\&quot;, \&quot;first_name\&quot;: \&quot;MIKE\&quot; }&quot; &quot;http://localhost:8000/mrs/sakila/actor/&quot; Content-Type: application/json</code></pre>
                <p>Result:</p>
                <pre><code>{
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;http://localhost:8000/mrs/sakila/actor/201&quot;
        }
    ],
    &quot;actor_id&quot;: 201,
    &quot;last_name&quot;: &quot;FOLEY&quot;,
    &quot;first_name&quot;: &quot;MIKE&quot;,
    &quot;last_update&quot;: &quot;2022-11-29 15:35:17.000000&quot;
}</code></pre>
                <h2 data-number="6.6" id="updateinsert-table-row"><span
                class="header-section-number">6.6</span> Update/Insert
                Table Row</h2>
                <p>This example inserts or updates (sometimes called an
                “upsert”) data in the object. The body data supplied
                with the request is a JSON object containing the data to
                be inserted or updated.</p>
                <p>Pattern:</p>
                <pre><code>PUT http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/&lt;KeyValues&gt;</code></pre>
                <p>Example:</p>
                <pre><code>curl -i -H &quot;Content-Type: application/json&quot; -X PUT -d &quot;{ \&quot;last_name\&quot; : \&quot;FOLEY\&quot;, \&quot;first_name\&quot;: \&quot;JACK\&quot; }&quot; &quot;https://localhost:8000/mrs/sakila/actor/201&quot; Content-Type: application/json</code></pre>
                <p>Result:</p>
                <pre><code>{
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;http://mrs.zinner.org/mrs/sakila/actor/201&quot;
        }
    ],
    &quot;actor_id&quot;: 201,
    &quot;last_name&quot;: &quot;FOLEY&quot;,
    &quot;first_name&quot;: &quot;JACK&quot;,
    &quot;last_update&quot;: &quot;2022-11-29 15:45:10.000000&quot;
}</code></pre>
                <h2 data-number="6.7" id="delete-using-filter"><span
                class="header-section-number">6.7</span> Delete Using
                Filter</h2>
                <p>This example deletes object data specified by a
                filter clause.</p>
                <p>Pattern:</p>
                <pre><code>DELETE http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/?q=&lt;FilterClause&gt;</code></pre>
                <p>Example:</p>
                <pre><code>curl -i -X DELETE &quot;https://localhost:8000/mrs/sakila/actor/?q=\{\&quot;actor_id\&quot;:201\}&quot;</code></pre>
                <p>Result:</p>
                <pre><code>{
    &quot;itemsDeleted&quot;: 1
}</code></pre>
                <h2 data-number="6.8" id="filterobject-grammar"><span
                class="header-section-number">6.8</span> FilterObject
                Grammar</h2>
                <p>The FilterObject must be a JSON object that complies
                with the following syntax:</p>
                <pre><code>FilterObject { orderby , asof, wmembers }</code></pre>
                <p>The orderby, asof, and wmembers attributes are
                optional, and their definitions are as follows:</p>
                <pre><code>orderby
&quot;$orderby&quot;: {orderByMembers}

orderByMembers
    orderByProperty
    orderByProperty , orderByMembers

orderByProperty
    columnName : sortingValue

sortingValue
&quot;ASC&quot;
&quot;DESC&quot;
&quot;-1&quot;
&quot;1&quot;
-1
1

asof
&quot;$asof&quot;: date
&quot;$asof&quot;: &quot;datechars&quot;
&quot;$asof&quot;: scn
&quot;$asof&quot;: +int

wmembers
    wpair
    wpair , wmembers

wpair
    columnProperty
    complexOperatorProperty

columnProperty
    columnName : string
    columnName : number
    columnName : date
    columnName : simpleOperatorObject
columnName : complexOperatorObject
    columnName : [complexValues]

columnName
&quot;\p{Alpha}[[\p{Alpha}]]([[\p{Alnum}]#$_])*$&quot;

complexOperatorProperty
    complexKey : [complexValues]
    complexKey : simpleOperatorObject 

complexKey
&quot;$and&quot;
&quot;$or&quot;

complexValues
    complexValue , complexValues

complexValue
    simpleOperatorObject
    complexOperatorObject
    columnObject

columnObject
    {columnProperty}

simpleOperatorObject
    {simpleOperatorProperty}

complexOperatorObject
    {complexOperatorProperty}

simpleOperatorProperty
&quot;$eq&quot; : string | number | date
&quot;$ne&quot; : string | number | date
&quot;$lt&quot; :  number | date
&quot;$lte&quot; : number | date
&quot;$gt&quot; : number | date
&quot;$gte&quot; : number | date
&quot;$instr&quot; : string 
&quot;$ninstr&quot; : string
&quot;$like&quot; : string
&quot;$null&quot; : null
&quot;$notnull&quot; : null
&quot;$between&quot; : betweenValue
&quot;$like&quot;: string

betweenValue
    [null , betweenNotNull]
    [betweenNotNull , null]
    [betweenRegular , betweenRegular]

betweenNotNull
    number
    date
    
betweenRegular
    string
    number
    date</code></pre>
                <p>Data type definitions include the following:</p>
                <pre><code>   string 
          JSONString
   number
          JSONNumber
   date
          {&quot;$date&quot;:&quot;datechars&quot;}
   scn
          {&quot;$scn&quot;: +int}</code></pre>
                <p>Where:</p>
                <pre><code>datechars is an RFC3339 date format in UTC (Z)
        

JSONString
        &quot;&quot;
        &quot; chars &quot;
chars
        char
        char chars
char
        any-Unicode-character except-&quot;-or-\-or-control-character
        \&quot;
        \\
        \/
        \b
        \f
        \n
        \r
        \t
        \u four-hex-digits


JSONNumber
    int
    int frac
    int exp
    int frac exp
int
    digit
    digit1-9 digits 
    - digit
    - digit1-9 digits
frac
    . digits
exp
    e digits
digits
    digit
    digit digits
e
    e
    e+
    e-
    E
    E+
    E-</code></pre>
                <p>The FilterObject must be encoded according to Section
                2.1 of RFC3986.</p>
                <h2 data-number="6.9"
                id="examples-filterobject-specifications"><span
                class="header-section-number">6.9</span> Examples:
                FilterObject Specifications</h2>
                <p>The following are examples of operators in
                FilterObject specifications.</p>
                <pre><code>ORDER BY property ($orderby)

Order by with literals

{
&quot;$orderby&quot;: {&quot;SALARY&quot;:  &quot;ASC&quot;,&quot;ENAME&quot;:&quot;DESC&quot;}
}

Order by with numbers

{
&quot;$orderby&quot;: {&quot;SALARY&quot;:  -1,&quot;ENAME&quot;:  1}
}


ASOF property ($asof)

With SCN (Implicit)

{
  &quot;$asof&quot;: 1273919
}

With SCN (Explicit)

{
  &quot;$asof&quot;: {&quot;$scn&quot;: &quot;1273919&quot;}
}

With Date (Implicit)

{
  &quot;$asof&quot;: &quot;2014-06-30T00:00:00Z&quot;
}

With Date (Explicit)

{
  &quot;$asof&quot;: {&quot;$date&quot;: &quot;2014-06-30T00:00:00Z&quot;}
}


EQUALS operator ($eq)

(Implicit and explicit equality supported._

Implicit (Support String and Dates too)

{
&quot;SALARY&quot;: 1000
}

Explicit

{
&quot;SALARY&quot;: {&quot;$eq&quot;: 1000}
}

Strings

{
&quot;ENAME&quot;: {&quot;$eq&quot;:&quot;SMITH&quot;}
}

Dates

{
  &quot;HIREDATE&quot;: {&quot;$date&quot;: &quot;1981-11-17T08:00:00Z&quot;}
}


NOT EQUALS operator ($ne)

Number

{
&quot;SALARY&quot;: {&quot;$ne&quot;: 1000}
}

String

{
&quot;ENAME&quot;: {&quot;$ne&quot;:&quot;SMITH&quot;}
}

Dates

{
  &quot;HIREDATE&quot;: {&quot;$ne&quot;: {&quot;$date&quot;:&quot;1981-11-17T08:00:00Z&quot;}}
}


LESS THAN operator ($lt)
(Supports dates and numbers only)

Numbers

{
  &quot;SALARY&quot;: {&quot;$lt&quot;: 10000}
}

Dates

{
  &quot;SALARY&quot;: {&quot;$lt&quot;: {&quot;$date&quot;:&quot;1999-12-17T08:00:00Z&quot;}}
}

LESS THAN OR EQUALS operator ($lte)
(Supports dates and numbers only)

Numbers

{
  &quot;SALARY&quot;: {&quot;$lte&quot;: 10000}
}

Dates

{
  &quot;HIREDATE&quot;: {&quot;$lte&quot;: {&quot;$date&quot;:&quot;1999-12-17T08:00:00Z&quot;}}
}

GREATER THAN operator ($gt)
(Supports dates and numbers only)

Numbers

{
  &quot;SALARY&quot;: {&quot;$gt&quot;: 10000}
}

Dates

{
  &quot;SALARY&quot;: {&quot;$gt&quot;: {&quot;$date&quot;:&quot;1999-12-17T08:00:00Z&quot;}}
}


GREATER THAN OR EQUALS operator ($gte)
(Supports dates and numbers only)

Numbers

{
  &quot;SALARY&quot;: {&quot;$gte&quot;: 10000}
}

Dates

{
  &quot;HIREDATE&quot;: {&quot;$gte&quot;: {&quot;$date&quot;:&quot;1999-12-17T08:00:00Z&quot;}}
}


In string operator ($instr)
(Supports strings only)

{
  &quot;ENAME&quot;: {&quot;$instr&quot;:&quot;MC&quot;}
}


Not in string operator ($ninstr)
(Supports strings only)

{
  &quot;ENAME&quot;: {&quot;$ninstr&quot;:&quot;MC&quot;}
}


### LIKE operator ($like)
(Supports strings. Eescape character not supported to try to match expressions with _ or % characters.)

{
  &quot;ENAME&quot;: {&quot;$like&quot;:&quot;AX%&quot;}
}


### BETWEEN operator ($between)
(Supports string, dates, and numbers)

Numbers

{
  &quot;SALARY&quot;: {&quot;$between&quot;: [1000,2000]}
}

Dates

{
  &quot;SALARY&quot;: {&quot;$between&quot;: [{&quot;$date&quot;:&quot;1989-12-17T08:00:00Z&quot;},{&quot;$date&quot;:&quot;1999-12-17T08:00:00Z&quot;}]}
}

Strings

{
  &quot;ENAME&quot;: {&quot;$between&quot;: [&quot;A&quot;,&quot;C&quot;]}
}

Null Ranges ($lte equivalent) 
(Supported by numbers and dates only)

{
  &quot;SALARY&quot;: {&quot;$between&quot;: [null,2000]}
}

Null Ranges ($gte equivalent)
(Supported by numbers and dates only)

{
  &quot;SALARY&quot;: {&quot;$between&quot;: [1000,null]}
}


### NULL operator ($null)

{
  &quot;ENAME&quot;: {&quot;$null&quot;: null}
}

### NOT NULL operator ($notnull)

{
  &quot;ENAME&quot;: {&quot;$notnull&quot;: null}
}


### AND operator ($and)
(Supports all operators, including $and and $or)

Column context delegation
(Operators inside $and will use the closest context defined in the JSON tree.)

{
  &quot;SALARY&quot;: {&quot;$and&quot;: [{&quot;$gt&quot;: 1000},{&quot;$lt&quot;:4000}]}
}

Column context override
(Example: salary greater than 1000 and name like S%) 

{
  &quot;SALARY&quot;: {&quot;$and&quot;: [{&quot;$gt&quot;: 1000},{&quot;ENAME&quot;: {&quot;$like&quot;:&quot;S%&quot;}} ] }
}

Implicit and in columns

```
{
  &quot;SALARY&quot;: [{&quot;$gt&quot;: 1000},{&quot;$lt&quot;:4000}] 
}
```

High order AND
(All first columns and or high order operators -- $and and $ors -- defined at the first level of the JSON will be joined and an implicit AND)
(Example: Salary greater than 1000 and name starts with S or T)

{
  &quot;SALARY&quot;: {&quot;$gt&quot;: 1000}, 
  &quot;ENAME&quot;: {&quot;$or&quot;: [{&quot;$like&quot;:&quot;S%&quot;}, {&quot;$like&quot;:&quot;T%&quot;}]} 
}

Invalid expression (operators $lt and $gt lack column context)

{
  &quot;$and&quot;: [{&quot;$lt&quot;: 5000},{&quot;$gt&quot;: 1000}]
}

Valid alternatives for the previous invalid expression

{
  &quot;$and&quot;: [{&quot;SALARY&quot;: {&quot;$lt&quot;: 5000}}, {&quot;SALARY&quot;: {&quot;$gt&quot;: 1000}}]
}

{
  &quot;SALARY&quot;: [{&quot;$lt&quot;: 5000},{&quot;$gt&quot;: 1000}]
}

{
  &quot;SALARY&quot;: {&quot;$and&quot;: [{&quot;$lt&quot;: 5000},{&quot;$gt&quot;: 1000}]}
}


OR operator ($or)
(Supports all operators including $and and $or)

Column context delegation
(Operators inside $or will use the closest context defined in the JSON tree)

{
  &quot;ENAME&quot;: {&quot;$or&quot;: [{&quot;$eq&quot;:&quot;SMITH&quot;},{&quot;$eq&quot;:&quot;KING&quot;}]}
}

Column context override
(Example: name starts with S or salary greater than 1000)

{
  &quot;SALARY&quot;: {&quot;$or&quot;: [{&quot;$gt&quot;: 1000},{&quot;ENAME&quot;: {&quot;$like&quot;:&quot;S%&quot;}} ] }
}</code></pre>
                <!-- Copyright (c) 2022, 2023, Oracle and/or its affiliates.

                This program is free software; you can redistribute it and/or modify
                it under the terms of the GNU General Public License, version 2.0,
                as published by the Free Software Foundation.

                This program is also distributed with certain software (including
                but not limited to OpenSSL) that is licensed under separate terms, as
                designated in a particular file or component or in included license
                documentation.  The authors of MySQL hereby grant you an additional
                permission to link the program and your derivative works with the
                separately licensed software that they have included with MySQL.
                This program is distributed in the hope that it will be useful,  but
                WITHOUT ANY WARRANTY; without even the implied warranty of
                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
                the GNU General Public License, version 2.0, for more details.

                You should have received a copy of the GNU General Public License
                along with this program; if not, write to the Free Software Foundation, Inc.,
                51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
                <h1 data-number="7" id="mrs-examples"><span
                class="header-section-number">7</span> MRS Examples</h1>
                <p>The MRS Shell Plugin ships with a set of example
                projects that showcase the possibilities of the MySQL
                REST Service.</p>
                <p>They are implemented as simple <a
                href="https://en.wikipedia.org/wiki/Progressive_web_app">Progressive
                Web Apps (PWA)</a> to showcase the features offered by
                MRS.</p>
                <!-- Copyright (c) 2022, 2023, Oracle and/or its affiliates.

                This program is free software; you can redistribute it and/or modify
                it under the terms of the GNU General Public License, version 2.0,
                as published by the Free Software Foundation.

                This program is also distributed with certain software (including
                but not limited to OpenSSL) that is licensed under separate terms, as
                designated in a particular file or component or in included license
                documentation.  The authors of MySQL hereby grant you an additional
                permission to link the program and your derivative works with the
                separately licensed software that they have included with MySQL.
                This program is distributed in the hope that it will be useful,  but
                WITHOUT ANY WARRANTY; without even the implied warranty of
                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
                the GNU General Public License, version 2.0, for more details.

                You should have received a copy of the GNU General Public License
                along with this program; if not, write to the Free Software Foundation, Inc.,
                51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
                <h2 data-number="7.1" id="mrs-notes-examples"><span
                class="header-section-number">7.1</span> MRS Notes
                Examples</h2>
                <p>The MRS Notes example implements a simple note taking
                application as a <a
                href="https://en.wikipedia.org/wiki/Progressive_web_app">Progressive
                Web Apps (PWA)</a> that allows for sharing notes between
                users.</p>
                <figure>
                <img
                src="../examples/mrs_notes/../../docs/images/mrs-notes-ss-phone.png"
                title="mrsNotes App running on a Mobile"
                alt="mrsNotes App running on a Mobile" />
                <figcaption aria-hidden="true">mrsNotes App running on a
                Mobile</figcaption>
                </figure>
                <h3 data-number="7.1.1"
                id="mrs-notes-developer-showcase"><span
                class="header-section-number">7.1.1</span> MRS Notes
                Developer Showcase</h3>
                <p>The following features are showcased in this
                example.</p>
                <ul>
                <li>Accessing MRS REST endpoints from JavaScript and
                TypeScript code.</li>
                <li>Using MRS service authentication REST endpoints to
                support user management</li>
                <li>Using <a href="https://jwt.io/">JSON Web Tokens
                (JWT)</a> to manage user sessions</li>
                </ul>
                <h3 data-number="7.1.2" id="mrs-notes-quick-guide"><span
                class="header-section-number">7.1.2</span> MRS Notes
                Quick Guide</h3>
                <p>To quickly get the MRS Notes Examples working, please
                feel free to follow this guide. If you want to learn
                more about the examples, please continue reading the
                chapters below.</p>
                <p>The following steps need to be taken to setup, build
                and deploy the MRS Notes example project on the MySQL
                REST Service.</p>
                <ol type="1">
                <li>Save the MRS Notes Example project to disk and open
                it with VS Code
                <code>VSCodeProject:examples/mrs_notes</code></li>
                <li><a
                href="#configuring-mysql-rest-service">Configure</a> the
                MySQL REST Service.</li>
                <li>Create a new MRS service
                (e.g. <code>/myService</code>).</li>
                <li>Deploy the mrs_notes MySQL database schema
                <code>examples/mrs_notes/db_schema/mrs_notes.sql</code></li>
                <li>Load the MRS schema dump into the MRS service
                <code>examples/mrs_notes/mrs_schema/mrsNotes.mrs.json</code></li>
                <li>Ensure a bootstrapped MySQL Router instance is
                running (if not, start it).</li>
                <li>Build and deploy the app by following the steps
                below.</li>
                </ol>
                <h4 data-number="7.1.2.1"
                id="deploying-the-typescript-example"><span
                class="header-section-number">7.1.2.1</span> Deploying
                the TypeScript Example</h4>
                <p>The MrsNotesTS project implements a full TypeScript
                demo app that allows sharing of notes between users.</p>
                <ol type="1">
                <li>If you have not done so in the previous section,
                save the following project to disk and open it with VS
                Code <code>VSCodeProject:examples/mrs_notes</code></li>
                <li>After the project folder has been opened in VS Code,
                set the focus to the TERMINAL tab and enter
                <code>npm install</code> to install the required node
                modules</li>
                <li>In the NPM Script View, run the
                <code>package.json/build</code> command that will create
                a folder called <code>dist</code> that contains all
                files needed for deployment.</li>
                <li>Right click on the <code>dist</code> folder in the
                Folders view and select
                <code>Upload Folder to MySQL REST Service</code> from
                the popup menu.</li>
                <li>In the MRS Static Content Set dialog set the
                <code>Request Path</code> the app should be using,
                e.g. <code>/app</code> and click <code>Upload</code> to
                upload the files to the MRS service.</li>
                <li>Open a web browser and access the full path
                specified in the previous step to open the app,
                e.g. <code>https://localhost:8443/myService/app/index.html</code></li>
                </ol>
                <h4 data-number="7.1.2.2"
                id="deploying-the-javascript-example"><span
                class="header-section-number">7.1.2.2</span> Deploying
                the JavaScript Example</h4>
                <p>The MrsNotes project also ships with a minimal
                JavaScript demo app that allows each user to store his
                own notes.</p>
                <ol type="1">
                <li>If you have not done so in the previous section,
                save the following project to disk and open it with VS
                Code <code>VSCodeProject:examples/mrs_notes</code></li>
                <li>Right click on the <code>js_app</code> folder in the
                Folders view and select
                <code>Upload Folder to MySQL REST Service</code> from
                the popup menu.</li>
                <li>Set the path the app should be using,
                e.g. <code>/app_js</code> and click <code>Upload</code>
                to upload the files.</li>
                <li>Open a web browser and access the path specified in
                the previous step to open the app,
                e.g. <code>https://localhost:8443/myService/app_js/index.html</code></li>
                </ol>
                <h3 data-number="7.1.3"
                id="mrs-setup-and-configuration-for-the-mrs-notes-examples"><span
                class="header-section-number">7.1.3</span> MRS Setup and
                Configuration for the MRS Notes Examples</h3>
                <p>Please refer to the MRS documentation on how to setup
                and configure a MRS service in detail.</p>
                <p>If you are using a local MRS deployment deployment
                you can use these simplified steps.</p>
                <h3 data-number="7.1.4"
                id="deploy-the-mrsnotes-mysql-database-schema"><span
                class="header-section-number">7.1.4</span> Deploy the
                mrsNotes MySQL database schema</h3>
                <p>The mrsNotes MySQL database schema is the center of
                the MRS project. It defines the structure of the data
                and its database tables store all the information the
                users enter while using the app.</p>
                <p>To create the mrsNotes schema the corresponding SQL
                script file needs to be executed. This can be done via
                the MySQL Shell or directly within VS Code using the
                MySQL Shell for VS Code extension.</p>
                <ul>
                <li><p>If you are browsing this documentation within VS
                Code click the button next to the SQL script name
                <code>examples/mrs_notes/db_schema/mrs_notes.sql</code></p></li>
                <li><p>If you want to use MySQL Shell on the command
                line, switch to the mrs_notes plugin directory and run
                the following command.</p>
                <p>mysqlsh dba@localhost –sql -f
                examples/mrs_notes/db_schema/mrs_notes.sql</p></li>
                </ul>
                <h4 data-number="7.1.4.1"
                id="mrsnotes-eer-diagram"><span
                class="header-section-number">7.1.4.1</span> mrsNotes
                EER Diagram</h4>
                <p>The following diagram shows all components of the
                mrsNotes schema.</p>
                <figure>
                <img
                src="../examples/mrs_notes/../../docs/images/examples-mrs_notes_schema.svg"
                title="mrsNotes MySQL Database Schema"
                alt="mrsNotes MySQL Database Schema" />
                <figcaption aria-hidden="true">mrsNotes MySQL Database
                Schema</figcaption>
                </figure>
                <p>The most important database table is the
                <code>note</code> table. It stores all notes that are
                created by the users.</p>
                <p>The <code>user</code> table holds the nickname of the
                user as well as the email address used for receiving
                invitation emails for shared notes.</p>
                <p>The <code>user_has_note</code> table is used to
                managed the sharing of notes with other users.</p>
                <p>As soon as selected notes need to be shareable
                between users it is necessary to add an abstraction
                layer. This layer then allows selective access to notes
                written by other users after they accepted the
                invitation to participate on the shared note.</p>
                <p>In this case the layer consists of one VIEW and four
                STORED PROCEDUREs.</p>
                <ul>
                <li>notes_all … a VIEW of all notes the user is allowed
                to see.</li>
                <li>note_share … a STORED PROCEDURE to share a note with
                another user.</li>
                <li>note_accept_share … a STORED PROCEDURE to accept a
                shared note.</li>
                <li>note_update … a STORED PROCEDURE to update a shared
                note</li>
                <li>note_delete … a STORED PROCEDURE to delete a shared
                note</li>
                </ul>
                <p>Copyright (c) 2022, 2023, Oracle and/or its
                affiliates.</p>
            </div>
        </div>
    </div>
</body>

</html>