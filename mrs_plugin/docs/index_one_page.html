<!DOCTYPE html>
<html lang="en" dir="ltr">
<!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.-->

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MySQL REST Service - Reference Manual</title>
    <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">
        <link rel="stylesheet" href="style/style_one_page.css">
                <!-- cSpell:ignore pagetitle -->
    <style type="text/css">
        code {
            white-space: pre;
        }
    </style>
    </head>

<body>
    <div class="content">
        <div class="header" id="document-top">
            <h1>
                <div class="iconBig bookIcon"></div>&nbsp;MySQL REST
Service - Reference Manual
            </h1>
            <h10>Version 1.19.18+9.4.0</h10>
        </div>
        <div class="main">
            <p><strong>MySQL REST Service - Developer’s
            Guide</strong></p>
            <p>This book explains how to install and configure the MySQL
            REST Service (MRS) as well as how to access the data through
            REST calls.</p>
            <ul>
            <li><a href="#introduction-to-the-mysql-rest-service">MRS
            Introduction</a></li>
            <li><a href="#architecture">MRS Deployment
            Architecture</a></li>
            <li><a href="#configuring-mysql-rest-service">MRS
            Configuration</a></li>
            <li><a
            href="#adding-rest-services-and-database-objects">Adding
            REST Services and Database Objects</a></li>
            <li><a href="#working-interactively-with-rest-services">GUI
            Interfaces for REST Service Configuration</a></li>
            <li><a
            href="#authentication-and-authorization">Authentication and
            Authorization</a></li>
            <li><a href="#mrs-examples">MRS Examples</a>
            <ul>
            <li><a href="#mrs-notes-example">MRS Notes Example</a></li>
            <li><a href="#mrs-scripts-example">MRS Scripts
            Example</a></li>
            </ul></li>
            </ul>
            <hr />
            <p><strong>MySQL REST Service - Quickstart
            Guide</strong></p>
            <p>This book provides a hands-on approach to learning how to
            use the MySQL REST service.</p>
            <ul>
            <li><a href="#quickstart-introduction">What is the MySQL
            REST Service</a></li>
            <li><a href="#setting-up-the-mysql-rest-service">Setting up
            the MySQL REST Service</a></li>
            <li><a href="#defining-rest-endpoints">Defining REST
            Endpoints</a></li>
            <li><a href="#accessing-rest-endpoints">Accessing REST
            Endpoints</a></li>
            <li><a href="#quickstart-appendix">Appendix</a></li>
            </ul>
            <hr />
            <p><strong>MySQL REST Service DDL - SQL Extension
            Reference</strong></p>
            <p>This document discusses the MySQL REST Service (MRS) DDL
            - SQL Extension. The MRS DDL - SQL Extension adds a set of
            MRS specific DDL statements to the MySQL Shell SQL handling
            in order to provide a familiar management interface to MySQL
            developers and DBAs.</p>
            <ul>
            <li><a href="#introduction">Introduction to the MRS DDL
            Extension</a></li>
            <li><a href="#configure-and-create">MRS SQL Reference:
            CONFIGURE and CREATE</a></li>
            <li><a href="#alter">MRS SQL Reference: ALTER</a></li>
            <li><a href="#drop">MRS SQL Reference: DROP</a></li>
            <li><a href="#grant-and-revoke">MRS SQL Reference: GRANT and
            REVOKE</a></li>
            <li><a href="#use-and-show">MRS SQL Reference: USE and
            SHOW</a></li>
            </ul>
            <hr />
            <p><strong>MRS Core REST APIs</strong></p>
            <p>This book provides examples of using the MySQL REST
            Service queries and other operations against tables and
            views after you have REST-enabled them.</p>
            <ul>
            <li><a href="#about-mrs-restful-web-services">About MRS
            RESTful Web Services</a></li>
            <li><a href="#get-schema-metadata">Get Schema
            Metadata</a></li>
            <li><a href="#get-object-metadata">Get Object
            Metadata</a></li>
            <li><a href="#get-object-data">Get Object Data</a></li>
            <li><a href="#insert-table-row">Insert Table Row</a></li>
            <li><a href="#delete-using-filter">Delete Using
            Filter</a></li>
            <li><a href="#filterobject-grammar">FilterObject
            Grammar</a></li>
            <li><a href="#filterobject-grammar-examples">Examples:
            FilterObject Specifications</a></li>
            </ul>
            <hr />
            <p><strong>MySQL REST Service - SDK Reference</strong></p>
            <p>This document explains how to work with the MRS Software
            Development Kit and discusses the Client API.</p>
            <ul>
            <li><a href="#introduction-to-the-mrs-sdk">Introduction to
            the MRS SDK</a></li>
            <li><a href="#working-with-a-rest-service">Working with a
            REST Service</a></li>
            <li><a href="#querying-data-across-tables">Querying Data
            Across Tables</a></li>
            <li><a href="#functions-and-procedures">Functions And
            Procedures</a></li>
            <li><a href="#contextual-fields-and-parameters">Contextual
            Fields and Parameters</a></li>
            <li><a href="#read-your-writes-consistency">Read Your Writes
            Consistency</a></li>
            <li><a href="#checking-for-null-column-values">Checking for
            NULL Column Values</a></li>
            <li><a href="#working-with-spatial-data-types">Working with
            Spatial Data Types</a></li>
            <li><a href="#working-with-date-and-time-data-types">Working
            with Date and Time Data Types</a></li>
            <li><a href="#working-with-vector-data-types">Working with
            Vector Data Types</a></li>
            <li><a href="#authentication">Authentication</a></li>
            <li><a href="#typescript-client-api-reference">TypeScript
            Client API Reference</a></li>
            <li><a href="#python-client-api-reference">Python Client API
            Reference</a></li>
            </ul>
            <hr />
            <p><strong>MySQL REST Service - Developer’s
            Guide</strong></p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="1"
            id="introduction-to-the-mysql-rest-service"><span
            class="header-section-number">1</span> Introduction to the
            MySQL REST Service</h1>
            <p>Welcome to the MySQL REST Service. This book features a
            detailed discussion of the MySQL REST Service, including
            architecture, configuration and deployment.</p>
            <p>To start with a hands-on approach, please check out the
            <a href="">Quickstart Guide</a> or take a
            look at the <a href="#mrs-notes-example">MRS Notes Example
            PWA</a> and follow the instructions for <a
            href="#build-and-deployment">Build and Deployment</a>
            there.</p>
            <h2 data-number="1.1"
            id="what-is-the-mysql-rest-service"><span
            class="header-section-number">1.1</span> What is the MySQL
            REST Service</h2>
            <p>The MySQL REST Service is a next-generation JSON Document
            Store solution, enabling fast and secure HTTPS access for
            data stored in MySQL, HeatWave, InnoDB ClusterSet and InnoDB
            ReplicaSet.</p>
            <p>Being a fully integrated MySQL solution, it focuses on
            ease-of-use, support of standards and high performance.</p>
            <p>The MySQL REST Service consists of four major building
            blocks, delivering an integrated solution for JSON
            Document-based application development.</p>
            <ol type="1">
            <li>RESTful Web Services</li>
            <li>REST SQL Extension</li>
            <li>Powerful Data Mapping</li>
            <li>Client SDK Generation</li>
            </ol>
            <figure>
            <img
            src="sections/devGuide/../../images/MrsFeatureOverview.svg"
            title="MySQL REST Service - Feature Overview"
            alt="MySQL REST Service - Feature Overview" />
            <figcaption aria-hidden="true">MySQL REST Service - Feature
            Overview</figcaption>
            </figure>
            <p><strong><em>Benefits</em></strong></p>
            <ul>
            <li>Auto-REST endpoints for relational and document oriented
            data, that can be enable with a few clicks.</li>
            <li>Directly built into MySQL Router, removes need for
            additional middle-ware.</li>
            <li>High performance web server solution to serve RESTful
            Web Services as well as Progressive Web Apps (PWAs).</li>
            <li>Excellent vertical scaling (up scaling) and well as
            horizontal scaling (scaling out) through number of MySQL
            Routers.</li>
            </ul>
            <p><strong><em>Experience</em></strong></p>
            <ul>
            <li>Direct VS Code Extension integration featuring
            point-and-click, WYSIWYG editors and live-querying of REST
            endpoints via TypeScript.</li>
            <li>Dedicated REST SQL extension support in MySQL Shell for
            scripting and development process integration.</li>
            <li>Client SDK generation support for popular languages to
            vastly simplify development process and project
            integration.</li>
            <li>Support for local development environment &amp;
            debugging.</li>
            </ul>
            <p><strong><em>Features</em></strong></p>
            <ul>
            <li>REST endpoints for database tables, views, procedures
            and function in addition to static data (e.g. PWAs) being
            served</li>
            <li>Powerful, built-in authentication, authorization (MySQL
            accounts, MRS accounts, OAuth2) and session management</li>
            <li>New REST SQL extension to be able to define REST
            services and endpoints directly in SQL scripts</li>
            <li>Client SDK generation with built-in features for
            authentication, document operations, read-own-write support
            in distributed MySQL solutions</li>
            </ul>
            <h2 data-number="1.2" id="application-use-cases"><span
            class="header-section-number">1.2</span> Application Use
            Cases</h2>
            <h3 data-number="1.2.1"
            id="which-applications-should-use-the-mysql-rest-service"><span
            class="header-section-number">1.2.1</span> Which
            applications should use the MySQL REST Service</h3>
            <p>The MySQL REST Service exposes RESTful Web Services for
            interacting with the data stored in MySQL solutions REST
            endpoints via HTTPS.</p>
            <p>This makes the MySQL REST Service an excellent choice for
            the following use cases.</p>
            <ul>
            <li>Mobile applications, as well as Progressive Web Apps
            (PWAs), that need to access data across the public
            internet.</li>
            <li>All modern document-oriented applications that expect to
            work with JSON documents rather than relational data.</li>
            <li>Extending existing applications with
            micro-services.</li>
            <li>Offering data REST endpoints to serverless architecture
            deployments.</li>
            </ul>
            <figure>
            <img
            src="sections/devGuide/../../images/MrsForAppDevelopment.svg"
            title="MySQL App Development" alt="MySQL App Development" />
            <figcaption aria-hidden="true">MySQL App
            Development</figcaption>
            </figure>
            <h3 data-number="1.2.2"
            id="which-applications-should-use-a-mysql-connector"><span
            class="header-section-number">1.2.2</span> Which
            applications should use a MySQL Connector</h3>
            <p>Using the MySQL protocol via a MySQL Connector is an
            established way to build high-performance MySQL database
            applications. It should be preferred to use this type of
            MySQL connection for the following use cases.</p>
            <ul>
            <li>Applications that need direct SQL access to the MySQL
            database.</li>
            <li>Applications that need to work with relational tables
            rather than JSON documents.</li>
            <li>Applications that do not benefit from an optimistic,
            ETag based concurrency model.</li>
            </ul>
            <h2 data-number="1.3" id="feature-set-overview"><span
            class="header-section-number">1.3</span> Feature Set
            Overview</h2>
            <table>
            <caption>Feature Overview</caption>
            <colgroup>
            <col style="width: 37%" />
            <col style="width: 62%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Feature</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>REST Service Lifecycle Management</td>
            <td>Shared development of new REST services, publishing of
            production-ready REST services</td>
            </tr>
            <tr class="even">
            <td>AutoREST</td>
            <td>Enabling REST access to a table, view, or procedure
            allows it to be accessed through RESTful services. AutoREST
            is a quick and easy way to expose database tables as REST
            resources, first introduced by <a
            href="https://docs.oracle.com/en/database/oracle/oracle-rest-data-services/22.2/orddg/introduction-to-Oracle-REST-Data-Services.html#GUID-A16BCCA2-8081-4062-A635-9F7C36FC394F/">ORDS</a>.</td>
            </tr>
            <tr class="odd">
            <td>REST data mapping Views</td>
            <td>REST data mapping views combine the advantages of
            relational schemas with the ease-of-use of document
            databases. They give your data a conceptual and an
            operational duality as it is organized both relationally and
            hierarchically.</td>
            </tr>
            <tr class="even">
            <td>Serving Static Content</td>
            <td>In addition to serving dynamic content using AutoREST it
            is possible to upload static content, like HTML, CSS, and
            image files. This feature is not meant to replace dedicated
            HTTP servers that support capabilities like server-side
            programming. It can aid the quick deployments of prototypes
            and proof-of-concept efforts that help bring ideas to
            life.</td>
            </tr>
            <tr class="odd">
            <td>End User Authentication</td>
            <td>MRS supports a number of authentication methods,
            including MRS REST service specific authentication, native
            MySQL authentication and OAuth2 authentication (Sign in with
            FaceBook and Google)</td>
            </tr>
            <tr class="even">
            <td>End User Authorization</td>
            <td>Built in support for row-level security, role based
            security, user-hierarchy based security, Group based
            security, Group-hierarchy based security as well as custom
            authorization support</td>
            </tr>
            <tr class="odd">
            <td>REST Service SDK API Generation</td>
            <td>Live SDK API updates for interactive prototyping using
            TypeScript, SDK API generation for application
            development</td>
            </tr>
            </tbody>
            </table>
            <p><strong><em>About REST APIs</em></strong></p>
            <p>Representational State Transfer (REST) is a style of
            software architecture for distributed hypermedia systems
            such as the World Wide Web. An API is described as RESTful
            when it conforms to the tenets of REST. Although a full
            discussion of REST is outside the scope of this document, a
            REST API has the following characteristics:</p>
            <ul>
            <li>Data is modelled as a set of resources. Resources are
            identified by URIs.</li>
            <li>A small, uniform set of operations are used to
            manipulate resources (for example, PUT, POST, GET,
            DELETE).</li>
            <li>A resource can have multiple representations (for
            example, a blog might have an HTML representation and an RSS
            representation).</li>
            <li>Services are stateless and because the client is likely
            to access related resources, these should be identified in
            the representation returned, typically by providing
            hypertext links.</li>
            </ul>
            <h2 data-number="1.4" id="supported-mysql-versions"><span
            class="header-section-number">1.4</span> Supported MySQL
            Versions</h2>
            <p>MySQL REST Service can be configured using MySQL Server
            versions from 8.0.39 onwards.</p>
            <p>A MySQL Router 9.3.1 or later is required to serve the
            REST endpoints and Progressive Web Apps. The MySQL Shell for
            VS Code extension includes a recent MySQL Router version for
            local development deployments.</p>
            <p>Alternatively, experimental packages of MySQL Server
            including the upcoming MySQL REST Service server component
            can be downloaded from <a
            href="https://labs.mysql.com">labs.mysql.com</a>.</p>
            <p>It is recommended to use the latest available version of
            MySQL Shell (9.4.0 and higher) to configure and work with
            the MySQL REST Service, regardless of the MySQL Server and
            MySQL Router versions.</p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="2" id="architecture"><span
            class="header-section-number">2</span> Architecture</h1>
            <h2 data-number="2.1" id="building-blocks"><span
            class="header-section-number">2.1</span> Building
            Blocks</h2>
            <p>The MySQL REST Service consists of the following
            components:</p>
            <ul>
            <li>A MySQL Solution (Heatwave, MySQL InnoDB ClusterSet, a
            standalone MySQL Server, etc.)
            <ul>
            <li>Serving a metadata schema
            <code>mysql_rest_service_metadata</code> that holds the MRS
            configuration.</li>
            <li>Serving the REST applications’ data.</li>
            </ul></li>
            <li>MySQL Router
            <ul>
            <li>One or many MySQL Router instances to serve the HTTPS
            REST interface.</li>
            <li>Either running in developer or production mode.</li>
            </ul></li>
            <li>MySQL Shell / MySQL Shell for VS Code
            <ul>
            <li>Support for the REST SQL extension, to configure and
            manage REST endpoints via REST SQL commands.</li>
            <li>Support for managing MRS through a graphical user
            interface (GUI) embedded inside VS Code.</li>
            <li>Generation of Client SDKs for given REST service.</li>
            </ul></li>
            </ul>
            <h2 data-number="2.2" id="development-setup"><span
            class="header-section-number">2.2</span> Development
            Setup</h2>
            <p>When working with the MySQL REST Service it is important
            to separate between two different types of setups.</p>
            <ol type="1">
            <li>A local development setup used to develop new REST
            services.
            <ul>
            <li>A local MySQL Shell installation to connect to and
            execute REST SQL extension commands.</li>
            <li>A local MySQL Router installation, running in developer
            mode.</li>
            </ul></li>
            <li>The production deployment that serves REST services that
            have been published.
            <ul>
            <li>The MySQL solution serving the metadata schema as well
            as the REST applications’ data.</li>
            <li>MySQL Router instance(s) running in production
            mode.</li>
            </ul></li>
            </ol>
            <p>Each of those setups serves a different set of REST
            services, depending on the REST services’ current <a
            href="#rest-service-lifecycle-management">lifecycle</a>
            states.</p>
            <p>The recommended way to configure a MySQL REST Service
            development setup is to use <a
            href="https://code.visualstudio.com/">VS Code</a> or <a
            href="https://vscodium.com/">VSCodium</a> with the <a
            href="https://marketplace.visualstudio.com/items?itemName=Oracle.mysql-shell-for-vs-code">MySQL
            Shell for VS Code</a> extension installed. This will
            simplify things like HTTPS certificate installation and
            bootstrapping the MySQL Router in development mode.</p>
            <h2 data-number="2.3" id="production-deployments"><span
            class="header-section-number">2.3</span> Production
            Deployments</h2>
            <p>MySQL REST Service (MRS) can be deployed in many
            different ways depending on the individual project
            requirements.</p>
            <p><strong><em>Deployments for Development</em></strong></p>
            <p>The smallest possible development environment consists of
            a single MySQL Server instance and a MySQL Router instance
            running on the same machine.</p>
            <p>The recommended deployment for development consists of an
            InnoDB Cluster deployed with a minimum of three MySQL Server
            instances and two MySQL Router instances.</p>
            <p>For cloud-based development, a MySQL Database Service
            instance with the high availability feature enabled and two
            compute instances with MySQL Router deployments should be
            used.</p>
            <p><strong><em>Production Deployments</em></strong></p>
            <p>In a production environment, an InnoDB Cluster set up
            with three or more MySQL Router instances should be used. It
            is recommended to use a load balancer to expose the HTTPS
            port of the MySQL Router instances to the public
            internet.</p>
            <p>For cloud-based development in production, a MySQL
            Database Service instance with the high availability feature
            enabled and three or more compute instances with MySQL
            Router deployments should be used. It is recommended to use
            a load balancer to expose the HTTPS port of the MySQL
            Routers to the public internet.</p>
            <figure>
            <img
            src="sections/devGuide/../../images/mrs-architecture.svg"
            title="MySQL REST Service Architecture Diagram"
            alt="MySQL REST Service Architecture Diagram" />
            <figcaption aria-hidden="true">MySQL REST Service
            Architecture Diagram</figcaption>
            </figure>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="3"
            id="configuring-mysql-rest-service"><span
            class="header-section-number">3</span> Configuring MySQL
            REST Service</h1>
            <p>To configure the MySQL REST Service (MRS), use these
            steps:</p>
            <ol type="1">
            <li>Deploy a MySQL solution.</li>
            <li><a
            href="#configuring-the-mrs-metadata-schema">Configure</a>
            the MRS metadata database schema.</li>
            <li><a
            href="#bootstrapping-and-running-mysql-routers-with-mrs-support">Bootstrap</a>
            and run one or more MySQL Router instances for MRS
            support.</li>
            </ol>
            <p>After performing these steps, MySQL REST Service is fully
            configured.</p>
            <p>The HTTP/S endpoints can then be accessed as configured
            during the MySQL Router bootstrap process.</p>
            <p><strong><em>Deployment of a MySQL
            solution</em></strong></p>
            <p>The following MySQL solutions are supported:</p>
            <ul>
            <li>MySQL HeatWave</li>
            <li>MySQL InnoDB Cluster</li>
            <li>MySQL InnoDB ClusterSet</li>
            <li>MySQL InnoDB ReplicaSet</li>
            <li>MySQL Operator</li>
            </ul>
            <p>For development purposes, a standalone MySQL Server
            instance is also supported. Avoid using a standalone setup
            in a production deployment because it provides no form of
            High Availability (HA).</p>
            <ul>
            <li>Standalone MySQL Server</li>
            </ul>
            <p>See the corresponding documentation about how to deploy
            and configure the different MySQL solutions.</p>
            <h2 data-number="3.1"
            id="configuring-the-mrs-metadata-schema"><span
            class="header-section-number">3.1</span> Configuring the MRS
            Metadata Schema</h2>
            <p>MySQL REST Service stores its configuration in the
            <code>mysql_rest_service_metadata</code> database schema. To
            deploy the metadata schema, perform one of the tasks
            described in this section.</p>
            <p>Note: The MySQL user that is used to connect to the MySQL
            Solution must have MySQL privileges to create database
            schemas and roles.</p>
            <h3 data-number="3.1.1"
            id="mrs-configuration-using-mysql-shell-for-vs-code"><span
            class="header-section-number">3.1.1</span> MRS Configuration
            Using MySQL Shell for VS Code</h3>
            <ol type="1">
            <li><p>Start VS Code, install the MySQL Shell for VS Code
            extension, and then add a DB Connection to the MySQL
            solution that should be configured for the MySQL REST
            Service.</p></li>
            <li><p>Right-click the connection in the DATABASE
            CONNECTIONS view and select Configure Instance for MySQL
            REST Service Support.</p></li>
            </ol>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-configure.png"
            title="Configure Instance for MySQL REST Service Support"
            alt="Configure Instance for MySQL REST Service Support" />
            <figcaption aria-hidden="true">Configure Instance for MySQL
            REST Service Support</figcaption>
            </figure>
            <p>The MRS metadata schema has now been configured.</p>
            <h3 data-number="3.1.2"
            id="mrs-configuration-using-mysql-shell"><span
            class="header-section-number">3.1.2</span> MRS Configuration
            Using MySQL Shell</h3>
            <p>The MySQL REST Service metadata schema can be configured
            from the MySQL Shell on the command line after connecting to
            the MySQL solution.</p>
            <p>Please note that a MySQL user with
            <code>ALL PRIVILEGES</code> and
            <code>WITH GRANT OPTION</code> needs to be used to configure
            the MySQL REST Service metadata schema. It is common
            practice to use the <code>root</code> MySQL user or a
            dedicated <code>dba</code> MySQL user to perform this
            operation.</p>
            <p>To configure the metadata schema the REST SQL extension
            <a
            href="#configure-rest-metadata"><code>CONFIGURE REST METADATA</code>
            statement</a> is used.</p>
            <p><strong><em>Example</em></strong></p>
            <p>The following example connects to a local MySQL Server
            instance using a <code>dba</code> MySQL user account and
            configures the MySQL REST Service metadata schema.</p>
            <div class="sourceCode" id="cb1"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mysqlsh dba@localhost</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span> Shell 9.3.0</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span><span class="op">&gt;</span> localhost:3306<span class="op">&gt;</span> SQL<span class="op">&gt;</span> CONFIGURE REST METADATA<span class="kw">;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Query</span> OK, 0 rows affected <span class="er">(</span><span class="ex">0.3998</span> sec<span class="kw">)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="ex">REST</span> metadata configured successfully.</span></code></pre></div>
            <p>After executing the <code>CONFIGURE REST METADATA</code>
            statement the MRS metadata schema has now been
            configured.</p>
            <h3 data-number="3.1.3"
            id="removing-the-mrs-metadata-schema"><span
            class="header-section-number">3.1.3</span> Removing the MRS
            Metadata Schema</h3>
            <p>If the MySQL REST Service support should be removed, the
            MySQL REST Service metadata schema can be dropped using the
            <code>DROP SCHEMA mysql_rest_service_metadata;</code>
            statement.</p>
            <p>Please note that a MySQL user account with required
            privileges to drop the
            <code>mysql_rest_service_metadata</code> has to be used.</p>
            <p><strong><em>Example</em></strong></p>
            <p>The following example connects to a local MySQL Server
            instance using a <code>dba</code> MySQL user account and
            drops the MySQL REST Service metadata schema.</p>
            <div class="sourceCode" id="cb2"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mysqlsh dba@localhost</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span> Shell 9.3.0</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span><span class="op">&gt;</span> localhost:3306<span class="op">&gt;</span> SQL<span class="op">&gt;</span> DROP SCHEMA mysql_rest_service_metadata<span class="kw">;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Query</span> OK, 38 rows affected <span class="er">(</span><span class="ex">0.0770</span> sec<span class="kw">)</span></span></code></pre></div>
            <h2 data-number="3.2"
            id="granting-users-access-to-the-mysql-rest-service"><span
            class="header-section-number">3.2</span> Granting Users
            Access to the MySQL REST Service</h2>
            <p>After the MySQL REST Service metadata schema has been
            configured, access to this schema needs to be granted to all
            MySQL users who should be able to work with the MySQL REST
            Service.</p>
            <p>In addition, access to application data which should be
            exposed via REST endpoints needs to be granted to MRS data
            provider role. This will allow the MySQL REST Service to
            serve the required data.</p>
            <h3 data-number="3.2.1" id="mrs-user-roles"><span
            class="header-section-number">3.2.1</span> MRS User
            Roles</h3>
            <p>The MySQL REST Service supports a multi-tiered access
            model that allows the correct role to be assigned to each
            MySQL users working with the service.</p>
            <p>The following MySQL roles can be assigned to MySQL user
            accounts.</p>
            <table>
            <caption>MRS User Roles</caption>
            <colgroup>
            <col style="width: 27%" />
            <col style="width: 27%" />
            <col style="width: 45%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Access Level</th>
            <th>MySQL Role Name</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>Root</td>
            <td>-</td>
            <td>MySQL Users with <code>ALL PRIVILEGES</code>, like the
            MySQL default <code>root</code> user, have full access to
            all features</td>
            </tr>
            <tr class="even">
            <td>REST Service Admin</td>
            <td><code>mysql_rest_service_admin</code></td>
            <td>MySQL users that are granted the
            ‘mysql_rest_service_admin’ role have full access to all
            features</td>
            </tr>
            <tr class="odd">
            <td>REST Schema Admin</td>
            <td><code>mysql_rest_service_schema_admin</code></td>
            <td>The ‘mysql_rest_service_schema_admin’ role allows MySQL
            users to add new REST schemas and endpoints to an existing
            REST service</td>
            </tr>
            <tr class="even">
            <td>REST Service Developer</td>
            <td><code>mysql_rest_service_dev</code></td>
            <td>REST Service Developers are allowed to define new REST
            endpoints for existing REST schemas</td>
            </tr>
            <tr class="odd">
            <td>REST Service User</td>
            <td><code>mysql_rest_service_user</code></td>
            <td>Any MySQL user that should be able to access REST
            endpoints needs to be granted the ‘mysql_rest_service_user’
            role.</td>
            </tr>
            </tbody>
            </table>
            <p>The MySQL <a
            href="https://dev.mysql.com/doc/refman/en/grant.html">GRANT</a>
            statement can be used to assign the given MySQL role to a
            MySQL user.</p>
            <p>Please note that the MySQL role needs to be made active
            for the MySQL user’s current session. This can be done by
            using the MySQL <a
            href="https://dev.mysql.com/doc/refman/en/set-role.html">SET
            ROLE</a> statement. To properly work with the MySQL Shell
            for VS Code extension, the MySQL role needs to included in
            the MySQL user’s DEFAULT roles, that can be set via the <a
            href="https://dev.mysql.com/doc/refman/en/set-default-role.html">SET
            DEFAULT ROLE</a> statement.</p>
            <p><strong><em>Example</em></strong></p>
            <p>The following example <a
            href="https://dev.mysql.com/doc/refman/en/grant.html">GRANTs</a>
            the <code>mysql_rest_service_admin</code> role to the
            <code>dba</code> MySQL user and ensures all MySQL roles,
            including the new <code>mysql_rest_service_admin</code>
            role, are made active when the MySQL user connects.</p>
            <div class="sourceCode" id="cb3"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span><span class="op">&gt;</span> localhost:3306<span class="op">&gt;</span> SQL<span class="op">&gt;</span> GRANT <span class="st">&#39;mysql_rest_service_admin&#39;</span> TO <span class="st">&#39;dba&#39;</span>@<span class="st">&#39;%&#39;</span><span class="kw">;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Query</span> OK, 0 rows affected <span class="er">(</span><span class="ex">0.0010</span> sec<span class="kw">)</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span><span class="op">&gt;</span> localhost:3306<span class="op">&gt;</span> SQL<span class="op">&gt;</span> SET DEFAULT ROLE ALL TO <span class="st">&#39;dba&#39;</span>@<span class="st">&#39;%&#39;</span><span class="kw">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Query</span> OK, 0 rows affected <span class="er">(</span><span class="ex">0.0012</span> sec<span class="kw">)</span></span></code></pre></div>
            <h3 data-number="3.2.2" id="mrs-provider-roles"><span
            class="header-section-number">3.2.2</span> MRS Provider
            Roles</h3>
            <p>In addition to the MRS user roles outline above, two
            additional roles are part of the MySQL REST Service. They
            are used by the actual MySQL Router/Server MRS components to
            operate the MySQL REST Service.</p>
            <table>
            <caption>MRS Provider Roles</caption>
            <colgroup>
            <col style="width: 27%" />
            <col style="width: 27%" />
            <col style="width: 45%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Access Level</th>
            <th>MySQL Role Name</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>Metadata Schema Read-Only</td>
            <td><code>mysql_rest_service_meta_provider</code></td>
            <td>The metadata provide role is used by the MySQL
            Router/Server MRS component to identify the REST services
            that need to be served.</td>
            </tr>
            <tr class="even">
            <td>Application Data Access</td>
            <td><code>mysql_rest_service_data_provider</code></td>
            <td>The data provide role is used by the MySQL Router/Server
            MRS component to read(/write) the application data that
            should be served by the REST services. This applies to all
            REST users authenticated via the ‘MRS’
            <code>REST AUTH VENDOR</code> as well as all OAuth2 vendors.
            REST Users authenticated via the ‘MySQL Internal’ vendor use
            their own privileges.</td>
            </tr>
            </tbody>
            </table>
            <p>When a REST endpoint has been defined, it is essential to
            ensure the required privileges to access the database schema
            objects have been granted to the
            <code>mysql_rest_service_data_provider</code> role.</p>
            <ul>
            <li>For REST views exposing a database table or view, the
            required privileges are automatically granted.</li>
            <li>For REST procedures and REST functions the
            <code>EXECUTE</code> privilege is automatically granted.
            Should the database procedure access other procedures or
            schema objects, a manual GRANT statement for the
            <code>mysql_rest_service_data_provider</code> role needs to
            be executed.</li>
            </ul>
            <p><strong><em>Example</em></strong></p>
            <p>The following example shows how to expose a database
            procedure <code>test.my_procedure</code> that calls a nested
            database procedure <code>test.my_sub_procedure</code>.</p>
            <p>The SQL script first creates the two procedures and then
            defines the <code>/myService/test/myProcedure</code> REST
            endpoint. The <code>EXECUTE</code> privilege on
            <code>test.my_procedure</code> is automatically assigned.
            But the REST endpoint would still raise an error as it
            misses the <code>EXECUTE</code> privilege on
            <code>test.my_sub_procedure</code>.</p>
            <p>Finally, the <code>GRANT</code> statement assigns the
            <code>EXECUTE</code> privilege on the
            <code>test.my_sub_procedure</code> to the
            <code>mysql_rest_service_data_provider</code> role. Now, the
            REST endpoint is fully functional.</p>
            <div class="sourceCode" id="cb4"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">SCHEMA</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> `test`;</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>DELIMITER %%</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> <span class="kw">PROCEDURE</span> <span class="cf">IF</span> <span class="kw">EXISTS</span> `test`.`my_procedure`%%</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PROCEDURE</span> `test`.`my_procedure`(<span class="kw">IN</span> arg1 <span class="dt">INTEGER</span>, <span class="kw">OUT</span> arg2 <span class="dt">INTEGER</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>SQL SECURITY <span class="kw">DEFINER</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">NOT</span> DETERMINISTIC</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CALL</span> `test`.`my_sub_procedure`(arg1, arg2);</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span>%%</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> <span class="kw">PROCEDURE</span> <span class="cf">IF</span> <span class="kw">EXISTS</span> `test`.`my_sub_procedure`%%</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PROCEDURE</span> `test`.`my_sub_procedure`(<span class="kw">IN</span> arg1 <span class="dt">INTEGER</span>, <span class="kw">OUT</span> arg2 <span class="dt">INTEGER</span>)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>SQL SECURITY <span class="kw">DEFINER</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="kw">NOT</span> DETERMINISTIC</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SET</span> arg2 <span class="op">=</span> arg1 <span class="op">*</span> <span class="dv">2</span>;</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span>%%</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>DELIMITER ;</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST SERVICE <span class="op">/</span>myService;</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>test <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">FROM</span> test;</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">PROCEDURE</span> <span class="op">/</span>myProcedure</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>test</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AS</span> `test`.`my_procedure`;</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="kw">EXECUTE</span> <span class="kw">ON</span> <span class="kw">PROCEDURE</span> `test`.`my_sub_procedure` <span class="kw">TO</span> <span class="st">&#39;mysql_rest_service_data_provider&#39;</span>;</span></code></pre></div>
            <h2 data-number="3.3"
            id="bootstrapping-and-running-mysql-routers-with-mrs-support"><span
            class="header-section-number">3.3</span> Bootstrapping and
            Running MySQL Routers with MRS Support</h2>
            <p>MySQL Router is an essential part of any MySQL solution
            and therefore often deployed in the same step as the MySQL
            Server instances. See the MySQL Router documentation for
            more details.</p>
            <p>A MySQL Router instance needs to be configured to support
            MRS. This is usually done by using the
            <code>mysqlrouter_bootstrap</code> command, which queries
            the user account for the necessary information.</p>
            <h3 data-number="3.3.1"
            id="using-mysql-shell-for-vs-code-to-bootstrap-and-run-mysql-router"><span
            class="header-section-number">3.3.1</span> Using MySQL Shell
            for VS Code to Bootstrap and Run MySQL Router</h3>
            <p>When working with a local development setup it is common
            to install the MySQL Router instance on the local
            development machine.</p>
            <p>In this case, MySQL Shell for VS Code can be used to
            simplify the bootstrap process and to launch the MySQL
            Router instance as follows:</p>
            <ol type="1">
            <li>Download and install the MySQL Router package on your
            local development machine
            <ul>
            <li>When not using the DMG on macOS or MSI package on
            Windows to install MySQL Router, be sure that the directory
            containing the MySQL Router binaries is in the system
            PATH.</li>
            </ul></li>
            <li>Inside MySQL Shell for VS Code, expand a DB Connection
            in the DATABASE CONNECTIONS view, right-click the
            <code>MySQL REST Service</code> tree item, and then select
            <code>Start Local MySQL Router Instance</code>.
            <ul>
            <li>If the MySQL Router has not been configured yet, the
            bootstrap operation runs in an integrated VS Code terminal
            and then starts MySQL Router.</li>
            <li>MySQL Router debug output can then be inspected in the
            VS Code terminal.</li>
            </ul></li>
            <li>To shut down MySQL Router, set the focus to the VS Code
            terminal showing the debug output and press
            <code>Ctrl</code> + <code>C.</code></li>
            </ol>
            <p>Note: The previous task only works for classic MySQL
            connections that are not using the MySQL SSH tunneling or
            MDS tunneling feature.</p>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-start-mysql-router.png"
            title="Bootstrap and Start MySQL Router"
            alt="Bootstrap and Start MySQL Router" />
            <figcaption aria-hidden="true">Bootstrap and Start MySQL
            Router</figcaption>
            </figure>
            <p>After the MySQL Router has been bootstrapped and started,
            MRS is available at
            <code>https://localhost:8443/&lt;service-name&gt;</code>.
            You can then proceed and <a
            href="#adding-rest-services-and-database-objects">add a REST
            service</a>.</p>
            <h3 data-number="3.3.2"
            id="bootstrapping-mysql-router-from-the-command-line"><span
            class="header-section-number">3.3.2</span> Bootstrapping
            MySQL Router From the Command Line</h3>
            <p>When deploying a new MySQL Router instance, it is advised
            to use the <code>mysqlrouter_bootstrap</code> command to
            bootstrap and configure the router, including the MRS
            configuration. This is also true for reconfiguring an
            existing MySQL Router instance for MRS support.</p>
            <div class="sourceCode" id="cb5"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mysqlrouter_bootstrap</span> dba@127.0.0.1:3306 <span class="at">--mrs</span> <span class="at">--directory</span> ~/.mysqlrouter</span></code></pre></div>
            <p>Follow the interactive steps on the command line to
            configure the router.</p>
            <p><strong><em>Manual Creation of MySQL User Account for
            MySQL Router Access</em></strong></p>
            <p>When using the <code>mysqlrouter_bootstrap</code> command
            to configure MySQL Router for MRS, access the user accounts
            described in this section can be created automatically.</p>
            <p>If you want to manage the required MySQL accounts
            manually, the following steps need to be performed:</p>
            <ol type="1">
            <li>Create the MySQL user account(or accounts)
            <ul>
            <li>If only one account is specified, MySQL Router uses it
            to access both the MRS metadata schema and application
            schema data. This account must have the
            <code>mysql_rest_service_meta_provider</code> and
            <code>mysql_rest_service_data_provider</code> roles.</li>
            <li>If two accounts are used, MySQL Router, uses one for the
            MRS metadata schema access and the other one for the
            application schema data. Assign the
            <code>mysql_rest_service_meta_provider</code> role to one
            user and <code>mysql_rest_service_data_provider</code> to
            the other.</li>
            </ul></li>
            <li>Bootstrap the MySQL Routers instance using the created
            MySQL accounts with the following options:
            <ul>
            <li><code>--mrs-mysql-metadata-account</code> used by the
            router to access the MRS metadata schema</li>
            <li><code>--mrs-mysql-data-account</code> used by the router
            to access the application schema</li>
            </ul></li>
            </ol>
            <p>As part of the MRS metadata schema creation, two SQL
            ROLEs have been created for MySQL Router to access
            MySQL:</p>
            <ul>
            <li>The ‘mysql_rest_service_meta_provider’ ROLE grants
            access to the required MRS metadata schema tables.</li>
            <li>The ‘mysql_rest_service_data_provider’ ROLE grants
            access to the served schema objects in the application
            database schemas.</li>
            </ul>
            <p>To create the MySQL account, connect to the MySQL setup
            with MySQL Shell or MySQL Shell for VS Code and execute the
            following SQL statements:</p>
            <div class="sourceCode" id="cb6"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="fu">USER</span> <span class="st">&#39;mysqlrouter_mrs_&lt;router_name&gt;&#39;</span>@<span class="st">&#39;&lt;router_host&gt;&#39;</span> <span class="kw">IDENTIFIED</span> <span class="kw">BY</span> <span class="st">&#39;password&#39;</span>;</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="st">&#39;mysql_rest_service_meta_provider&#39;</span>, <span class="st">&#39;mysql_rest_service_data_provider&#39;</span> <span class="kw">TO</span> <span class="st">&#39;mysqlrouter_mrs_&lt;router_name&gt;&#39;</span>@<span class="st">&#39;&lt;router_host&gt;&#39;</span>;</span></code></pre></div>
            <p>The user name specified for the account can then be used
            when calling the <code>mysqlrouter_bootstrap</code>
            command.</p>
            <table>
            <caption>MySQL Router MRS Bootstrap Account
            Options</caption>
            <colgroup>
            <col style="width: 37%" />
            <col style="width: 62%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Option</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td><code>--mrs-mysql-metadata-account=USER_NAME</code></td>
            <td>Setting the MRS metadata user</td>
            </tr>
            <tr class="even">
            <td><code>--mrs-mysql-data-account=USER_NAME</code></td>
            <td>Setting the MRS data user</td>
            </tr>
            </tbody>
            </table>
            <p><strong><em>Adding a MRS Configuration to an Existing
            MySQL Router Configuration</em></strong></p>
            <p>In case your MySQL Router instances are configured
            already, it is possible to add the MRS configuration later
            on.</p>
            <p>To get the path of the existing configuration file,
            execute <code>mysqlrouter --help</code> to show the exact
            location of the router config file.</p>
            <p>The following is an example when connecting to a single
            development server.</p>
            <div class="sourceCode" id="cb7"><pre
            class="sourceCode ini"><code class="sourceCode ini"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[DEFAULT]</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="dt">logging_folder </span><span class="ot">=</span><span class="st"> /var/log/mysqlrouter</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="dt">runtime_folder </span><span class="ot">=</span><span class="st"> /var/run/mysqlrouter</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="dt">config_folder </span><span class="ot">=</span><span class="st"> /etc/mysqlrouter</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="kw">[logger]</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="dt">level </span><span class="ot">=</span><span class="st"> DEBUG</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="kw">[routing:mrs_rw]</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="dt">bind_address</span><span class="ot">=</span><span class="st">0.0.0.0</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="dt">bind_port</span><span class="ot">=</span><span class="dv">6446</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="dt">destinations</span><span class="ot">=</span><span class="st">10.0.1.135:3306</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="dt">routing_strategy</span><span class="ot">=</span><span class="st">round-robin</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="dt">protocol</span><span class="ot">=</span><span class="st">classic</span></span></code></pre></div>
            <p>To enable MRS support on the router, the configuration
            file needs to be extended with the [http_server] section and
            the [rest_mrs] section.</p>
            <p>It is advised to use the
            <code>mysqlrouter_bootstrap</code> command to configure the
            router for MRS.</p>
            <div class="sourceCode" id="cb8"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mysqlrouter_bootstrap</span> dba@127.0.0.1:13000 <span class="at">--mrs</span> <span class="at">--directory</span> /export/mysql/src/mysql-trunk/boot</span></code></pre></div>
            <p>These parameters can be used to set the MRS configuration
            options.</p>
            <table>
            <caption>MySQL Router Bootstrap options</caption>
            <colgroup>
            <col style="width: 37%" />
            <col style="width: 62%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Option</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td><code>--mrs</code></td>
            <td>Include MRS configuration</td>
            </tr>
            <tr class="even">
            <td><code>--mrs-mysql-metadata-account=USER_NAME</code></td>
            <td>Setting the MRS metadata user</td>
            </tr>
            <tr class="odd">
            <td><code>--mrs-mysql-data-account=USER_NAME</code></td>
            <td>Setting the MRS data user</td>
            </tr>
            <tr class="even">
            <td><code>--mrs-global-secret=SECRET</code></td>
            <td>The global JWT secret that must be the same for every
            MySQL Router installation</td>
            </tr>
            <tr class="odd">
            <td><code>--mrs-developer MYSQL_USER_NAME</code></td>
            <td>Switches the MySQL Router to developer mode</td>
            </tr>
            <tr class="even">
            <td><code>--mrs-developer-debug-port</code> DEBUG_PORT</td>
            <td>The port used for local debugging of MRS Scripts</td>
            </tr>
            </tbody>
            </table>
            <p>The following example demonstrates connecting to a single
            development server and serving the REST services using
            HTTP.</p>
            <div class="sourceCode" id="cb9"><pre
            class="sourceCode ini"><code class="sourceCode ini"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[http_server]</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="dt">port</span><span class="ot">=</span><span class="dv">8443</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="dt">ssl</span><span class="ot">=</span><span class="dv">1</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="dt">ssl_cert</span><span class="ot">=</span><span class="st">/Users/myUser/.mysqlsh/plugin_data/gui_plugin/web_certs/server.crt</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="dt">ssl_key</span><span class="ot">=</span><span class="st">/Users/myUser/.mysqlsh/plugin_data/gui_plugin/web_certs/server.key</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="kw">[mysql_rest_service]</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="dt">mysql_read_only_route</span><span class="ot">=</span><span class="st">bootstrap_ro</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="dt">mysql_read_write_route</span><span class="ot">=</span><span class="st">bootstrap_rw</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="dt">mysql_user</span><span class="ot">=</span><span class="st">mysql_router_mrs16_250ho3u15n</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="dt">mysql_user_data_access</span><span class="ot">=</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="dt">router_id</span><span class="ot">=</span><span class="dv">16</span></span></code></pre></div>
            <h2 data-number="3.4"
            id="installing-the-mrs-server-component"><span
            class="header-section-number">3.4</span> Installing the MRS
            Server Component</h2>
            <blockquote>
            <p>Please note that the MRS Server Component is not
            available in production quality yet. Experimental packages
            of MySQL Server including the upcoming MySQL REST Service
            server component can be downloaded from <a
            href="https://labs.mysql.com">labs.mysql.com</a>.</p>
            </blockquote>
            <p>The MySQL REST Service server component can be managed
            the same way as any other <a
            href="https://dev.mysql.com/doc/refman/en/components.html">server
            component</a>.</p>
            <p>During installation, the MRS server component replaces
            the MySQL X Plugin to serve as the preferred MySQL Document
            Store solution. Rather than serving the MySQL X Protocol,
            the MySQL Server then enables clients to access MRS REST
            endpoints via the HTTPS protocol.</p>
            <blockquote>
            <p>Important: If any active clients are still using the
            MySQL X protocol, the MRS server component must not be
            installed before migrating these clients to the classic
            MySQL protocol. Alternatively, a MySQL Router instance can
            be deployed to serve the MRS REST endpoints.</p>
            </blockquote>
            <p>The MRS server component can be installed before <a
            href="#configuring-mysql-rest-service">configuring the MySQL
            instance for the MySQL REST Service support</a>. In this
            case, the component will remain in a waiting state until MRS
            has been configured. No HTTP access is available during this
            time.</p>
            <p>The following SQL command can be used to install the MRS
            server component.</p>
            <div class="sourceCode" id="cb10"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>INSTALL COMPONENT <span class="ot">&quot;file://component_mysql_rest_service&quot;</span>;</span></code></pre></div>
            <p><strong><em>Example</em></strong></p>
            <p>The following example installs the MRS server component
            and sets related MRS system variables at install time:</p>
            <div class="sourceCode" id="cb11"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>INSTALL COMPONENT <span class="ot">&quot;file://component_mysql_rest_service&quot;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SET</span> <span class="kw">GLOBAL</span> component_mysql_rest_service.use_ssl <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">GLOBAL</span> component_mysql_rest_service.mrs_user <span class="op">=</span> <span class="ot">&quot;miguel&quot;</span>;</span></code></pre></div>
            <h3 data-number="3.4.1"
            id="uninstalling-the-mrs-server-component"><span
            class="header-section-number">3.4.1</span> Uninstalling the
            MRS Server Component</h3>
            <p>To uninstall the MRS server component, the following SQL
            command can be used.</p>
            <ol type="1">
            <li><code>UNINSTALL COMPONENT "file://component_mysql_rest_service";</code></li>
            </ol>
            <p>If the MySQL X Plugin was available before, it will be
            loaded again when uninstalling the MRS server component.</p>
            <h3 data-number="3.4.2"
            id="mrs-server-component-configuration"><span
            class="header-section-number">3.4.2</span> MRS Server
            Component Configuration</h3>
            <p>The following MySQL system variables are available to
            configure the MRS server component.</p>
            <table>
            <caption>MRS System Variables Overview</caption>
            <colgroup>
            <col style="width: 27%" />
            <col style="width: 72%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>System Variable</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>component_mysql_rest_service.mrs_user</td>
            <td>Defines the <a
            href="#granting-users-access-to-the-mysql-rest-service">REST
            Service User</a>. Automatically generated when component is
            installed and the SysVar has not been set at install
            time.</td>
            </tr>
            <tr class="even">
            <td>component_mysql_rest_service.metadata_cache_user</td>
            <td>Metadata Cache User. Allows defining the account used by
            the component to query and access MySQL Database
            Architectures to handle transparent query routing. The
            account is automatically generated during installation if
            the system variable was not set at that time.</td>
            </tr>
            <tr class="odd">
            <td>component_mysql_rest_service.http_port</td>
            <td>Rest Service HTTP Port. If the MySQL X Plugin is enabled
            on the server, the MySQL X Protocol port will be used and
            the plugin will be disabled. If the X Plugin is disabled,
            the default port is 8543.</td>
            </tr>
            <tr class="even">
            <td>component_mysql_rest_service.use_ssl</td>
            <td>Enables TLSv1.2 (or later) support. If the server has it
            enabled/supported, then it’s enabled by default.</td>
            </tr>
            <tr class="odd">
            <td>component_mysql_rest_service.ssl_cert</td>
            <td>SSL certificate filename. Uses Server default
            certificate if not specified.</td>
            </tr>
            <tr class="even">
            <td>component_mysql_rest_service.ssl_key</td>
            <td>SSL key filename. Uses Server default key if not
            specified.</td>
            </tr>
            <tr class="odd">
            <td>component_mysql_rest_service.developer</td>
            <td>Rest Service Developer. Allows defining the developer
            username when the server is used in a development setup. If
            set, REST services that have not yet been published will be
            served, as well as REST services owned by the specified
            developer. Default is empty/disabled.</td>
            </tr>
            </tbody>
            </table>
            <p>To check current values of all related MySQL system
            variables, execute the following SHOW statement.</p>
            <div class="sourceCode" id="cb12"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>SHOW variables <span class="kw">LIKE</span> <span class="st">&#39;%mysql_rest_service%&#39;</span>;</span></code></pre></div>
            <p>To set a related MySQL system variable, execute the
            following statements that set the variable and then restart
            the MRS server component.</p>
            <div class="sourceCode" id="cb13"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SET</span> PERSIST component_mysql_rest_service.developer <span class="op">=</span> <span class="st">&#39;mike&#39;</span>;</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> component_mysql_rest_service_restart();</span></code></pre></div>
            <blockquote>
            <p>Please note that a restart of the MRS server component is
            required to activate the change.</p>
            </blockquote>
            <h3 data-number="3.4.3"
            id="mrs-server-component-status-variables"><span
            class="header-section-number">3.4.3</span> MRS Server
            Component Status Variables</h3>
            <p>The following MySQL status variables are available:</p>
            <table>
            <caption>MRS Status Variables Overview</caption>
            <colgroup>
            <col style="width: 27%" />
            <col style="width: 72%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Status Variable</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>component_mysql_rest_service.http_port_source</td>
            <td>Indicates how the HTTP port was configured. If set to
            <code>default</code> port 8543 is used. If set to
            <code>xplugin</code> the port was taken from the MySQL X
            Plugin. If set to <code>user</code> the port was
            individually configured by the user.</td>
            </tr>
            <tr class="even">
            <td>component_mysql_rest_service.ssl_cert_source</td>
            <td>Indicates how the SSL-certificate was configured. If set
            to <code>mysql</code> the MySQL Server configuration is
            used. If set to <code>user</code> the source was configured
            by the user.</td>
            </tr>
            <tr class="odd">
            <td>component_mysql_rest_service.ssl_key_source</td>
            <td>Indicates how the SSL-key was configured. If set to
            <code>mysql</code> the MySQL Server configuration is used.
            If set to <code>user</code> the source was configured by the
            user.</td>
            </tr>
            <tr class="even">
            <td>component_mysql_rest_service.current_mrs_user</td>
            <td>Indicates the <a
            href="#granting-users-access-to-the-mysql-rest-service">REST
            Service User</a> account currently in
            use. If the account was auto-generated, the name is suffixed
            with “(auto-generated)”.</td>
            </tr>
            <tr class="odd">
            <td>component_mysql_rest_service.current_metadata_cache_user</td>
            <td>Indicates the Metadata Cache account currently in use.
            If the account was auto-generated, the name is suffixed with
            “(auto-generated)”.</td>
            </tr>
            </tbody>
            </table>
            <p>To query a MRS status variable use a SELECT statement
            like the following.</p>
            <div class="sourceCode" id="cb14"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> VARIABLE_VALUE <span class="kw">FROM</span> performance_schema.global_status</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> VARIABLE_NAME <span class="op">=</span> <span class="st">&#39;component_mysql_rest_service.http_port_source&#39;</span>;</span></code></pre></div>
            <p>To query all Status Variables use a SELECT statement like
            the following.</p>
            <div class="sourceCode" id="cb15"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>SHOW STATUS <span class="kw">LIKE</span> <span class="st">&#39;component_mysql_rest_service%&#39;</span>;</span></code></pre></div>
            <h3 data-number="3.4.4" id="mrs-server-component-udfs"><span
            class="header-section-number">3.4.4</span> MRS Server
            Component UDFs</h3>
            <p>The following UDFs are available to control the MRS
            server component:</p>
            <table>
            <caption>MRS server component UDF Overview</caption>
            <colgroup>
            <col style="width: 27%" />
            <col style="width: 72%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>UDF Call</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td><code>SELECT component_mysql_rest_service_start();</code></td>
            <td>Starts the MRS server component after it has been
            stopped.</td>
            </tr>
            <tr class="even">
            <td><code>SELECT component_mysql_rest_service_stop();</code></td>
            <td>Stops the MRS server component.</td>
            </tr>
            <tr class="odd">
            <td><code>SELECT component_mysql_rest_service_restart();</code></td>
            <td>Restarts the MRS server component.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="3.4.5"
            id="mysql-database-architectures-support"><span
            class="header-section-number">3.4.5</span> MySQL Database
            Architectures Support</h3>
            <p>Version 15 of the Experimental package, available from <a
            href="https://labs.mysql.com">labs.mysql.com</a>, adds
            support for running the component within MySQL Database
            Architectures, enabling it to operate seamlessly in the
            following topologies:</p>
            <ul>
            <li>InnoDB Cluster</li>
            <li>InnoDB ReplicaSet</li>
            <li>InnoDB ClusterSet</li>
            </ul>
            <p>When the component detects that the MySQL instance is
            part of a managed topology, it automatically starts the
            metadata-cache plugin and integrates with it.</p>
            <blockquote>
            <p>Important: In the current release, the component must be
            installed and run only on the <strong>PRIMARY</strong>
            member of a managed topology. Attempting to run it on a
            <strong>SECONDARY</strong> member results in an error, and
            the component stops gracefully.</p>
            <p>To install it across all members, perform a
            <strong>switchover</strong> and repeat the installation on
            each member until all have it installed.</p>
            <p>This is a <strong>temporary limitation</strong>, future
            releases will support installing and running the component
            on all members of the topology.</p>
            </blockquote>
            <p>For more information on each topology, refer to the
            documentation:</p>
            <ul>
            <li><a
            href="https://dev.mysql.com/doc/mysql-shell/en/mysql-innodb-cluster.html">InnoDB
            Cluster Documentation</a></li>
            <li><a
            href="https://dev.mysql.com/doc/mysql-shell/en/mysql-innodb-replicaset.html">InnoDB
            ReplicaSet Documentation</a></li>
            <li><a
            href="https://dev.mysql.com/doc/mysql-shell/en/innodb-clusterset.html">InnoDB
            ClusterSet Documentation</a></li>
            </ul>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="4"
            id="adding-rest-services-and-database-objects"><span
            class="header-section-number">4</span> Adding REST Services
            and Database Objects</h1>
            <p>The MySQL REST Service supports the creation of a large
            number individual REST services.</p>
            <p>Each REST service has its own settings for URL path,
            authentication options, and other settings. A REST service
            can expose a selected list of REST schemas and REST objects,
            mapping to database schemas and objects.</p>
            <p>It is advised to setup an separate REST service for each
            application that consumes a set of REST endpoints.</p>
            <h2 data-number="4.1"
            id="rest-service-lifecycle-management"><span
            class="header-section-number">4.1</span> REST Service
            Lifecycle Management</h2>
            <p>REST services can be placed in a number of different
            states during their lifecycle.</p>
            <h3 data-number="4.1.1" id="development-state"><span
            class="header-section-number">4.1.1</span> Development
            State</h3>
            <p>When a new REST service is created, it will be only
            visible to developers. During this development state, REST
            schemas and object can be added, privileges be granted, the
            REST endpoints can be tested.</p>
            <p>In order to access the REST services in development
            state, a MySQL Router instance needs to be bootstrapped in
            developer mode. This type of setup is called a <a
            href="#development-setup">MySQL REST Service development
            setup</a>.</p>
            <h3 data-number="4.1.2" id="published-state"><span
            class="header-section-number">4.1.2</span> Published
            State</h3>
            <p>Once a REST service is ready to be published, the
            corresponding flag can be set on the REST service. This
            makes the REST service accessible by all authenticated
            clients.</p>
            <h3 data-number="4.1.3" id="disabled-state"><span
            class="header-section-number">4.1.3</span> Disabled
            State</h3>
            <p>Should a REST service be retired, it can be disabled by
            setting the corresponding flag on the REST service.</p>
            <h2 data-number="4.2"
            id="preconditions-for-adding-a-rest-service"><span
            class="header-section-number">4.2</span> Preconditions for
            Adding a REST Service</h2>
            <p>Before setting up a new REST service, ensure that the
            following preconditions are met:</p>
            <ul>
            <li>The MySQL REST Service must be configured on the
            targeting MySQL Solution. Please see the <a
            href="#configuring-mysql-rest-service">Configuration</a>
            section of this manual.</li>
            <li>The MySQL account used to connect to the targeting MySQL
            Solution needs to be granted the
            <code>mysql_rest_service_admin</code> MySQL role or a
            superset of privileges.</li>
            </ul>
            <p>To grant the <code>mysql_rest_service_admin</code> MySQL
            role, execute the following SQL statement.</p>
            <div class="sourceCode" id="cb16"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="st">&#39;mysql_rest_service_admin&#39;</span> <span class="kw">TO</span> <span class="st">&#39;user_account&#39;</span>@<span class="st">&#39;%&#39;</span>;</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Please ensure to include all roles in the next statement</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- that should become active when the user connects</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="fu">USER</span> <span class="st">&#39;user_account&#39;</span>@<span class="st">&#39;%&#39;</span> <span class="kw">DEFAULT</span> <span class="kw">ROLE</span> <span class="st">&#39;mysql_rest_service_admin&#39;</span>;</span></code></pre></div>
            <h2 data-number="4.3"
            id="setting-up-a-new-rest-service"><span
            class="header-section-number">4.3</span> Setting Up a New
            REST Service</h2>
            <p>A new REST service can be added in one of the following
            ways:</p>
            <ul>
            <li>MySQL Shell for VS Code provides a GUI dialog to create
            the REST service.</li>
            <li>MySQL Shell offers the MRS plugin that can be used to
            create a REST service interactively or with scripts in a
            terminal.</li>
            <li>When writing a script or plugin for MySQL Shell, the MRS
            plugin can be used to script the creation in Python or
            JavaScript.</li>
            </ul>
            <h3 data-number="4.3.1"
            id="adding-a-rest-service-using-mysql-shell-for-vs-code"><span
            class="header-section-number">4.3.1</span> Adding a REST
            Service Using MySQL Shell for VS Code</h3>
            <p>After configuring the MySQL REST Service on the target
            MySQL instance, the DB Connection in the DATABASE
            CONNECTIONS view (when expanded) shows a new tree item,
            <code>MySQL REST Service</code>.</p>
            <ol type="1">
            <li><p>Right-click the tree item
            <code>MySQL REST Service</code> and select
            <code>Add REST Service...</code> from the list to display
            the MySQL REST Service dialog.</p></li>
            <li><p>Specify values for the required parameters and click
            <code>OK</code> to add the new REST service.</p></li>
            </ol>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-add-service.png"
            title="Adding a REST Service" alt="Adding a REST Service" />
            <figcaption aria-hidden="true">Adding a REST
            Service</figcaption>
            </figure>
            <h3 data-number="4.3.2"
            id="adding-a-rest-service-using-mysql-shell"><span
            class="header-section-number">4.3.2</span> Adding a REST
            Service Using MySQL Shell</h3>
            <p>For MySQL Shell, the <code>mrs</code> plugin is used to
            work with the MySQL REST Service. The
            <code>mrs.add.service()</code> function adds a new REST
            service.</p>
            <p>When started without parameters, an interactive wizard
            prompt you for the required parameters. For example:</p>
            <div class="sourceCode" id="cb17"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span> <span class="op">&gt;</span> localhost:33060+ <span class="op">&gt;</span> Py <span class="op">&gt;</span> mrs.add.service<span class="er">(</span><span class="kw">)</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the context path for this service [/mrs]: /myservice</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the host name for this service <span class="er">(</span><span class="ex">e.g.</span> None or localhost<span class="kw">)</span> <span class="ex">[None]:</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> HTTP</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> HTTPS</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> select the protocol<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">the</span> service should support [HTTP,HTTPS]: 2</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Comments:</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> Default Service Options for Development</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> No options</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> Custom options</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> select how to initialize the options [Default Service Options for Development]:</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Service</span> /myservice created successfully.</span></code></pre></div>
            <p>Execute the following command to get detailed help
            information about the <code>mrs.add.service()</code>
            function.</p>
            <div class="sourceCode" id="cb18"><pre
            class="sourceCode js"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>\<span class="op">?</span> mrs<span class="op">.</span><span class="at">add</span><span class="op">.</span><span class="at">service</span></span></code></pre></div>
            <h3 data-number="4.3.3" id="rest-service-definitions"><span
            class="header-section-number">4.3.3</span> REST Service
            Definitions</h3>
            <h4 data-number="4.3.3.1" id="about-mrs-autorest"><span
            class="header-section-number">4.3.3.1</span> About MRS
            AutoREST</h4>
            <p>AutoREST is a quick and easy way to expose database
            schema tables, views, and procedures as REST resources.</p>
            <h4 data-number="4.3.3.2" id="rest-apis"><span
            class="header-section-number">4.3.3.2</span> REST APIs</h4>
            <p>Representational State Transfer (REST) is a style of
            software architecture for distributed hypermedia systems
            such as the World Wide Web. An API is described as RESTful
            when it conforms to the tenets of REST. Although a full
            discussion of REST is outside the scope of this document, a
            REST API has the following characteristics:</p>
            <ul>
            <li><p>Data is modelled as a set of resources. Resources are
            identified by URIs.</p></li>
            <li><p>A small, uniform set of operations are used to
            manipulate resources (for example, PUT, POST, GET,
            DELETE).</p></li>
            <li><p>A resource can have multiple representations (for
            example, a blog might have an HTML representation and an RSS
            representation).</p></li>
            <li><p>Services are stateless and since it is likely that
            the client will want to access related resources, these
            should be identified in the representation returned,
            typically by providing hypertext links.</p></li>
            </ul>
            <h4 data-number="4.3.3.3"
            id="restful-services-terminology"><span
            class="header-section-number">4.3.3.3</span> RESTful
            Services Terminology</h4>
            <p>This section introduces some common terms that are used
            throughout this document:</p>
            <ul>
            <li><p><strong>RESTful service:</strong> An HTTP web service
            that conforms to the tenets of the RESTful architectural
            style.</p></li>
            <li><p><strong>Resource module:</strong> An organizational
            unit that is used to group related resource
            templates.</p></li>
            <li><p><strong>Resource template:</strong> An individual
            RESTful service that is able to service requests for some
            set of URIs (Universal Resource Identifiers). The set of
            URIs is defined by the URI Pattern of the Resource
            Template</p></li>
            <li><p><strong>URI pattern:</strong> A pattern for the
            resource template. Can be either a route pattern or a URI
            template, although you are encouraged to use route
            patterns.</p></li>
            <li><p><strong>Route pattern:</strong> A pattern that
            focuses on decomposing the path portion of a URI into its
            component parts. For example, a pattern of /:object/:id?
            will match /emp/101 (matches a request for the item in the
            emp resource with id of 101) and will also match /emp/
            (matches a request for the emp resource, because the :id
            parameter is annotated with the ? modifier, which indicates
            that the id parameter is optional).</p></li>
            <li><p><strong>HTTP operation:</strong> HTTP (HyperText
            Transport Protocol) defines standard methods that can be
            performed on resources: GET (retrieve the resource
            contents), POST (store a new resource), PUT (update an
            existing resource), and DELETE (remove a resource).</p></li>
            </ul>
            <h2 data-number="4.4"
            id="adding-a-database-schemas-to-a-rest-service"><span
            class="header-section-number">4.4</span> Adding a Database
            Schemas to a REST Service</h2>
            <p>For each MySQL database schema a corresponding REST
            schema can be created and added to a REST service. It is
            possible to add the same MySQL database schema to different
            REST services by creating several REST schemas for the MySQL
            database schema.</p>
            <p>The REST schema can be created by using MySQL Shell for
            VS Code or MySQL Shell on the command line.</p>
            <p>Note: Adding a database schema as a REST schema is not
            equivalent to exposing all tables and views in the schema
            through the RESTful Web service. It just means making the
            MySQL REST Service aware that the schema exists and that it
            may have zero or more resources to expose via HTTP/S.</p>
            <p><strong><em>Preconditions for Adding Database Schemas and
            Objects</em></strong></p>
            <p>Before adding REST schemas and objects, ensure that the
            following preconditions are met:</p>
            <ul>
            <li>A REST service must be added first (see <a
            href="#adding-rest-services-and-database-objects">Adding a
            REST Service</a>).</li>
            <li>The MySQL account used to connect to the targeting MySQL
            Solution needs to be granted the
            <code>mysql_rest_service_schema_admin</code> MySQL role or a
            superset of privileges.</li>
            </ul>
            <p>To grant the <code>mysql_rest_service_schema_admin</code>
            MySQL role, execute the following SQL statement.</p>
            <div class="sourceCode" id="cb19"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="st">&#39;mysql_rest_service_schema_admin&#39;</span> <span class="kw">TO</span> <span class="st">&#39;user_account&#39;</span>@<span class="st">&#39;%&#39;</span>;</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Please ensure to include all roles in the next statement</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- that should become active when the user connects</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="fu">USER</span> <span class="st">&#39;user_account&#39;</span>@<span class="st">&#39;%&#39;</span> <span class="kw">DEFAULT</span> <span class="kw">ROLE</span> <span class="st">&#39;mysql_rest_service_schema_admin&#39;</span>;</span></code></pre></div>
            <h3 data-number="4.4.1"
            id="adding-a-schema-via-mrs-ddl"><span
            class="header-section-number">4.4.1</span> Adding a Schema
            via MRS DDL</h3>
            <p>On an active MySQL Shell connection execute the <a
            href="#create-rest-schema">CREATE REST SCHEMA</a>
            DDL statement referencing the corresponding MySQL database
            schema in the FROM clause. Please see the MRS SQL Reference
            for more details.</p>
            <p><strong><em>Example</em></strong></p>
            <p>The following example adds a REST schema for the
            <code>sakila</code> database schema to the REST service
            <code>/myService</code>.</p>
            <div class="sourceCode" id="cb20"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>sakila <span class="kw">ON</span> SERVICE <span class="op">/</span>myService</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> `sakila`</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">COMMENT</span> <span class="ot">&quot;The sakila schema&quot;</span>;</span></code></pre></div>
            <h3 data-number="4.4.2"
            id="adding-a-schema-using-the-mysql-shell-for-vs-code-ui"><span
            class="header-section-number">4.4.2</span> Adding a Schema
            using the MySQL Shell for VS Code UI</h3>
            <p>To add a database schema to a REST service:</p>
            <ol type="1">
            <li><p>Right-click the schema in the DATABASE CONNECTIONS
            view and select <code>Add Schema to REST Service</code>.
            This will open a dialog where all REST schema parameters can
            be set.</p></li>
            <li><p>Click <code>OK</code> to add the schema.</p></li>
            </ol>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-add-schema.png"
            title="Adding a Database Schema"
            alt="Adding a Database Schema" />
            <figcaption aria-hidden="true">Adding a Database
            Schema</figcaption>
            </figure>
            <h3 data-number="4.4.3"
            id="adding-a-rest-schema-with-a-mysql-shell-script"><span
            class="header-section-number">4.4.3</span> Adding a REST
            Schema with a MySQL Shell Script</h3>
            <p>To add a database schema to a REST service, call the
            <code>mrs.add.schema()</code> function.</p>
            <p>When started without parameters, an interactive wizard
            prompts you for the required parameters.</p>
            <div class="sourceCode" id="cb21"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">MySQL</span> <span class="op">&gt;</span> localhost:33060+ <span class="op">&gt;</span> JS <span class="op">&gt;</span> mrs.add.schema<span class="er">(</span><span class="kw">)</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> information_schema</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> performance_schema</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> sys</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>   <span class="ex">4</span> sakila</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>   <span class="ex">5</span> test</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>   <span class="ex">6</span> forum</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>   <span class="ex">7</span> ortho</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>   <span class="ex">8</span> mrs_notes</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the name or index of a schema: 4</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the request path for this schema [/sakila]: /sakila</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Should</span> the schema require authentication<span class="pp">?</span> [y/N]:</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="ex">How</span> many items should be listed per page<span class="pp">?</span> [Schema Default]:</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Comments:</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="ex">Options:</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="ex">Service</span> with path /sakila created successfully.</span></code></pre></div>
            <p>Execute the following command to get detailed help
            information about the <code>mrs.add.schema()</code>
            function.</p>
            <div class="sourceCode" id="cb22"><pre
            class="sourceCode js"><code class="sourceCode javascript"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>\<span class="op">?</span> mrs<span class="op">.</span><span class="at">add</span><span class="op">.</span><span class="at">schema</span></span></code></pre></div>
            <h2 data-number="4.5"
            id="adding-a-schema-table-view-or-procedure"><span
            class="header-section-number">4.5</span> Adding a Schema
            Table, View or Procedure</h2>
            <p>Adding database schema objects (tables, views, or
            procedures) to a MySQL REST Service (MRS) allows them to be
            accessed through RESTful Web services. Before database
            schema object can be added as REST objects, the database
            schema containing those objects has to be added as a REST
            schema.</p>
            <p>The following figure shows the a REST schema and its REST
            objects.</p>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-schema-and-objects.png"
            title="REST Schema and its Objects"
            alt="REST Schema and its Objects" />
            <figcaption aria-hidden="true">REST Schema and its
            Objects</figcaption>
            </figure>
            <p>Once a MySQL database schema has been added as a REST
            schema, its objects can be added. Database schema tables and
            views are added as <a href="#rest-data-mapping-views">REST
            data mapping views</a>, stored procedures are added as REST
            procedures.</p>
            <blockquote>
            <p>Note: REST data mapping views enabled application
            developers to take a document centric approach when
            implementing their applications. Please refer to the <a
            href="#rest-data-mapping-views">JSON data mapping view</a>
            section of this document to learn about the advantages of
            using REST data mapping views.</p>
            </blockquote>
            <p>The MySQL database schema objects can be added by using
            MySQL Shell for VS Code or MySQL Shell on the command
            line.</p>
            <h3 data-number="4.5.1"
            id="adding-a-schema-object-via-mrs-ddl"><span
            class="header-section-number">4.5.1</span> Adding a Schema
            Object via MRS DDL</h3>
            <p>On an active MySQL Shell connection execute the <a
            href="#create-rest-view">CREATE REST DATA MAPPING
            VIEW</a> DDL statement to add a database schema table or
            view as REST object. Please see the <a
            href="#create-rest-view">MRS SQL Reference</a> for
            more details.</p>
            <p>To add a stored procedure the <a
            href="#create-rest-procedure">CREATE REST
            PROCEDURE</a> DDL statement can be used.</p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example adds a REST data mapping view for
            the <code>sakila.city</code> database schema table.</p>
            <div class="sourceCode" id="cb23"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>city</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> `sakila`.`city` {</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    cityId: city_id @SORTABLE,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    city: city,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    countryId: country_id,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    lastUpdate: last_update</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>AUTHENTICATION REQUIRED;</span></code></pre></div>
            <p>The next example adds a REST procedure for the
            <code>sakila.film_in_stock</code> database schema stored
            procedure.</p>
            <div class="sourceCode" id="cb24"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">PROCEDURE</span> <span class="op">/</span>filmInStock</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> `sakila`.`film_in_stock`</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="kw">PARAMETERS</span> {</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    pFilmId: p_film_id @IN,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    pStoreId: p_store_id @IN,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    pFilmCount: p_film_count @OUT</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>RESULT MyServiceSakilaFilmInStock {</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    inventoryId: inventory_id @DATATYPE(<span class="ot">&quot;int&quot;</span>)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>AUTHENTICATION REQUIRED;</span></code></pre></div>
            <h3 data-number="4.5.2"
            id="adding-a-schema-object-with-mysql-shell-for-vs-code-ui"><span
            class="header-section-number">4.5.2</span> Adding a Schema
            Object with MySQL Shell for VS Code UI</h3>
            <p>To add a database schema object to a REST schema:</p>
            <ol type="1">
            <li><p>Right-click on the database object in the DATABASE
            CONNECTIONS view and select
            <code>Add Database Object to REST Service</code>. This will
            open the <a href="#mrs-dialog-reference">MySQL REST Object
            dialog</a>.</p></li>
            <li><p>Adjust all REST object settings accordingly.</p></li>
            <li><p>Press <code>OK</code> to add the database schema
            object.</p></li>
            </ol>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-add-db-object.png"
            title="Adding a Database Object"
            alt="Adding a Database Object" />
            <figcaption aria-hidden="true">Adding a Database
            Object</figcaption>
            </figure>
            <h3 data-number="4.5.3"
            id="adding-a-database-object-with-mysql-shell"><span
            class="header-section-number">4.5.3</span> Adding a Database
            Object with MySQL Shell</h3>
            <p>To add a database schema to a REST service call the
            <code>mrs.add.dbObject()</code> function.</p>
            <p>When started without parameters, an interactive wizard
            prompts you for the required parameters.</p>
            <div class="sourceCode" id="cb25"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">MySQL</span> <span class="op">&gt;</span> localhost:33060+ <span class="op">&gt;</span> JS <span class="op">&gt;</span> mrs.add.dbObject<span class="er">(</span><span class="kw">)</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> mrs_notes</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> sakila</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the name or index of a schema: 2</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> TABLE</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> VIEW</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> PROCEDURE</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the name or index of a database object type [TABLE]:</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> actor</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> address</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> category</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>   <span class="ex">4</span> city</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>   <span class="ex">5</span> country</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>   <span class="ex">6</span> customer</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>   <span class="ex">7</span> film</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>   <span class="ex">8</span> film_actor</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>   <span class="ex">9</span> film_category</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">10</span> film_text</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">11</span> inventory</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>  <span class="ex">12</span> language</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="ex">13</span> payment</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  <span class="ex">14</span> rental</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>  <span class="ex">15</span> staff</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>  <span class="ex">16</span> store</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the name or index of an database object: 4</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the request path for this object [/city]:</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> CREATE</span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> READ</span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> UPDATE</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>   <span class="ex">4</span> DELETE</span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> select the CRUD operations that should be supported, <span class="st">&#39;*&#39;</span> for all [READ]:</span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a>   <span class="ex">1</span> FEED</span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a>   <span class="ex">2</span> ITEM</span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a>   <span class="ex">3</span> MEDIA</span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> select the CRUD operation format [FEED]:</span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a><span class="ex">Should</span> the db_object require authentication<span class="pp">?</span> [y/N]:</span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a><span class="ex">Should</span> row ownership be required when querying the object<span class="pp">?</span> [y/N]:</span>
<span id="cb25-43"><a href="#cb25-43" aria-hidden="true" tabindex="-1"></a><span class="ex">How</span> many items should be listed per page<span class="pp">?</span> [Schema Default]:</span>
<span id="cb25-44"><a href="#cb25-44" aria-hidden="true" tabindex="-1"></a><span class="ex">Comments:</span></span>
<span id="cb25-45"><a href="#cb25-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-46"><a href="#cb25-46" aria-hidden="true" tabindex="-1"></a><span class="ex">Object</span> added successfully.</span></code></pre></div>
            <p>Execute the following command to get detailed help
            information about the <code>mrs.add.dbObject()</code>
            function.</p>
            <div class="sourceCode" id="cb26"><pre
            class="sourceCode js"><code class="sourceCode javascript"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>\<span class="op">?</span> mrs<span class="op">.</span><span class="at">add</span><span class="op">.</span><span class="at">dbObject</span></span></code></pre></div>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="5"
            id="working-interactively-with-rest-services"><span
            class="header-section-number">5</span> Working Interactively
            with REST Services</h1>
            <p>MySQL Shell for VS Code features a live, interactive
            workflow for designing REST Services.</p>
            <p>It allows developers to immediately test their newly
            created or modified REST data mapping views and REST
            procedures by using the MRS SDK TypeScript client API right
            from within a DB Notebook.</p>
            <p><strong><em>Preconditions for The Interactive
            Workflow</em></strong></p>
            <ul>
            <li>A MySQL Router instance needs to be <a
            href="#bootstrapping-and-running-mysql-routers-with-mrs-support">bootstrapped
            and running with MRS support</a>. When using a local
            development setup it is also possible to do this <a
            href="#using-mysql-shell-for-vs-code-to-bootstrap-and-run-mysql-router">directly
            from within VS Code</a>.</li>
            </ul>
            <h2 data-number="5.1"
            id="switching-to-typescript-mode"><span
            class="header-section-number">5.1</span> Switching to
            TypeScript Mode</h2>
            <p>After opening a database connection in MySQL Shell for VS
            Code the DB Notebook will be displayed. Switch the DB
            Notebook to TypeScript mode with <code>\ts</code> if it is
            in SQL mode.</p>
            <figure>
            <img
            src="sections/devGuide/../../images/msg-db-notebook-switch-to-ts.svg"
            title="DB Notebook - Switch to TS mode"
            alt="DB Notebook - Switch to TS mode" />
            <figcaption aria-hidden="true">DB Notebook - Switch to TS
            mode</figcaption>
            </figure>
            <h2 data-number="5.2" id="choosing-a-rest-service"><span
            class="header-section-number">5.2</span> Choosing a REST
            Service</h2>
            <p>In order to work with a REST service on a DB Notebook it
            needs to be set as <code>current</code> REST Service. This
            is similar to executing a SQL <code>USE db_name</code>
            statement to set the <code>current</code> database
            schema.</p>
            <p>To get information about the current REST service use the
            global <code>mrs</code> object and execute the
            <code>mrs.getStatus()</code> function. It will print
            information about the MRS status. The current REST service
            has the property <code>isCurrent</code> set to
            <code>true</code>.</p>
            <p><strong><em>Example</em></strong></p>
            <div class="sourceCode" id="cb27"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> mrs<span class="op">.</span><span class="fu">getStatus</span>()<span class="op">;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;configured&quot;</span><span class="op">:</span> true<span class="op">,</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;info&quot;</span><span class="op">:</span> <span class="st">&quot;2 REST services available.&quot;</span><span class="op">,</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;services&quot;</span><span class="op">:</span> [</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;serviceName&quot;</span><span class="op">:</span> <span class="st">&quot;myService&quot;</span><span class="op">,</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;url&quot;</span><span class="op">:</span> <span class="st">&quot;https://localhost:8443/myService&quot;</span><span class="op">,</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;isCurrent&quot;</span><span class="op">:</span> true</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;serviceName&quot;</span><span class="op">:</span> <span class="st">&quot;myPublicService&quot;</span><span class="op">,</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;url&quot;</span><span class="op">:</span> <span class="st">&quot;https://localhost:8443/myPublicService&quot;</span><span class="op">,</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;isCurrent&quot;</span><span class="op">:</span> false</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>Once a current REST service is set, the <a
            href="#document-top">MRS TypeScript Client API</a>
            for this service is automatically generated on-the-fly and
            made available to TypeScript code blocks on the DB
            Notebooks.</p>
            <p>The current REST service object be directly accessed via
            a global variable using the same name as listed by the
            <code>mrs.getStatus()</code> function in the
            <code>serviceName</code> property. The
            <code>serviceName</code> is directly derived from the REST
            service’s <code>url context root</code> path by converting
            it to <code>camel case</code> and removing all slashes
            <code>/</code>. E.g. a REST service with the
            <code>url context root</code> of <code>/myService</code>
            will be accessible as <code>myService</code>.</p>
            <p><strong><em>Example</em></strong></p>
            <div class="sourceCode" id="cb28"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> myService<span class="op">.</span><span class="at">url</span><span class="op">;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>https<span class="op">:</span><span class="co">//localhost:8443/myService</span></span></code></pre></div>
            <p>The current REST service can either be set from a DB
            Notebook via a TypeScript or through the VS Code UI.</p>
            <h3 data-number="5.2.1"
            id="using-typescript-to-setting-the-current-rest-service"><span
            class="header-section-number">5.2.1</span> Using Typescript
            to Setting the Current REST Service</h3>
            <p>The global <code>mrs</code> object automatically holds
            properties for all available REST services. The naming of
            the REST service properties matches the
            <code>serviceName</code> of each REST service as discussed
            in the previous section.</p>
            <p>Execute the
            <code>mrs.&lt;serviceName&gt;.setAsCurrent()</code> function
            to make the given REST service the current one. The VS Code
            auto-completion feature will assist with selecting the
            <code>serviceName</code>.</p>
            <p><strong><em>Example</em></strong></p>
            <div class="sourceCode" id="cb29"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> mrs<span class="op">.</span><span class="at">myPublicService</span><span class="op">.</span><span class="fu">setAsCurrent</span>()<span class="op">;</span></span></code></pre></div>
            <blockquote>
            <p>Note: The current REST service is only available after
            executing the full TypeScript code block with
            <code>[command] + [Return]</code> on macOS and
            <code>[Ctrl] + [Return]</code> on Linux and Windows. It uses
            an async message pipeline which cannot be awaited. For that
            reason, trying to access specific methods of the current
            REST service will not work in the same code block where it
            was changed.</p>
            </blockquote>
            <h3 data-number="5.2.2"
            id="using-vs-code-to-setting-the-current-rest-service"><span
            class="header-section-number">5.2.2</span> Using VS Code to
            Setting the Current REST Service</h3>
            <p>Browse the <code>DATABASE CONNECTIONS</code> View in VS
            Code’s <code>Primary Sidebar</code>, open the current DB
            Connection as well as the <code>MySQL REST Service</code>
            tree items and right click onto the desired MRS service and
            select <code>Set as Current REST Service</code> from the
            context menu.</p>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-context-menu-set-current-service.svg"
            title="Setting the Current REST Service"
            alt="Setting the Current REST Service" />
            <figcaption aria-hidden="true">Setting the Current REST
            Service</figcaption>
            </figure>
            <p>The current REST service is indicated by a solid, filled
            REST service icon. All other REST services use an icon with
            outlines only.</p>
            <h2 data-number="5.3" id="authentication"><span
            class="header-section-number">5.3</span> Authentication</h2>
            <p>If some of the REST objects require authentication and a
            REST Authentication App has been added to the REST service,
            use the <code>authenticate()</code> function of the REST
            service Client API object. This will show an login dialog
            where the credentials of a user account can be
            specified.</p>
            <div class="sourceCode" id="cb30"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> myService<span class="op">.</span><span class="fu">authenticate</span>()<span class="op">;</span></span></code></pre></div>
            <blockquote>
            <p>The <code>authenticate()</code> function only works with
            the built in MRS authentication vendor. Please make sure to
            set this vendor when adding the REST Authentication App.</p>
            </blockquote>
            <h2 data-number="5.4" id="querying-a-rest-object"><span
            class="header-section-number">5.4</span> Querying a REST
            Object</h2>
            <p>In the following examples case the
            <code>sakila.city</code> database table was used, as can be
            seen in the screenshot above.</p>
            <div class="sourceCode" id="cb31"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;city&quot;</span><span class="op">:</span> <span class="st">&quot;A Corua (La Corua)&quot;</span><span class="op">,</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;cityId&quot;</span><span class="op">:</span> 1<span class="op">,</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;countryId&quot;</span><span class="op">:</span> 87<span class="op">,</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="op">,</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>The fields can be filtered and a conditional
            <code>where</code> clause can be added. Please refer to the
            <a href="#document-top">MRS SDK Client API</a>
            documentation for more information.</p>
            <div class="sourceCode" id="cb32"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">find</span>({select<span class="op">:</span> [<span class="st">&quot;city&quot;</span><span class="op">,</span> <span class="st">&quot;cityId&quot;</span>]<span class="op">,</span> where<span class="op">:</span> {city<span class="op">:</span> {$like<span class="op">:</span> <span class="st">&quot;NE%&quot;</span>}}})<span class="op">;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>[</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;city&quot;</span><span class="op">:</span> <span class="st">&quot;Newcastle&quot;</span><span class="op">,</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;cityId&quot;</span><span class="op">:</span> 364<span class="op">,</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;city&quot;</span><span class="op">:</span> <span class="st">&quot;Nezahualcyotl&quot;</span><span class="op">,</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;cityId&quot;</span><span class="op">:</span> 365<span class="op">,</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
            <p>To quickly edit a REST DB Object using the <a
            href="#mrs-object-dialog">REST Object dialog</a>, the
            <code>edit()</code> function can be used. Please note that
            this function is only available on DB Notebooks.</p>
            <div class="sourceCode" id="cb33"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">edit</span>()</span></code></pre></div>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="6" id="rest-data-mapping-views"><span
            class="header-section-number">6</span> REST Data Mapping
            Views</h1>
            <h2 data-number="6.1"
            id="introduction-to-rest-data-mapping-views"><span
            class="header-section-number">6.1</span> Introduction to
            REST Data Mapping Views</h2>
            <p>REST data mapping views combine the advantages of
            relational schemas with the ease-of-use of document
            databases. They give your data a conceptual and an
            operational duality as it is organized both relationally and
            hierarchically. You can base different REST data mapping
            views on data stored in one or more of the same tables,
            providing different JSON hierarchies over the same, shared
            data. This means that applications can access (create,
            query, modify) the same data as a collection of JSON
            documents or as a set of related tables and columns, and
            both approaches can be employed at the same time.</p>
            <h3 data-number="6.1.1" id="use-cases"><span
            class="header-section-number">6.1.1</span> Use Cases</h3>
            <p>The MySQL REST Service offers full support for REST data
            mapping views. They are used to cover both, the relational
            use case (1) as well as the document centric use case
            (2).</p>
            <ol type="1">
            <li>Make a single relational table or view available via a
            REST endpoint
            <ul>
            <li>Exposes the rows of a table as a set of
            <strong>flat</strong> JSON documents</li>
            <li>Allows the application to use a traditional relational
            approach when needed</li>
            </ul></li>
            <li>Create a single REST endpoint for a set of related
            database schema tables
            <ul>
            <li>Exposes the related tables as <strong>nested</strong>
            JSON objects inside a set of JSON documents</li>
            <li>Allows the application to take an document oriented
            approach</li>
            </ul></li>
            </ol>
            <p>The following figure visualizes these two use cases.</p>
            <figure>
            <img
            src="sections/devGuide/../../images/rest-view-use-cases.svg"
            title="REST Data Mapping View - Use Cases"
            alt="REST Data Mapping View - Use Cases" />
            <figcaption aria-hidden="true">REST Data Mapping View - Use
            Cases</figcaption>
            </figure>
            <h3 data-number="6.1.2"
            id="rest-data-mapping-view-workflow"><span
            class="header-section-number">6.1.2</span> REST Data Mapping
            View Workflow</h3>
            <p>The REST data mapping views can be created using the <a
            href="#create-rest-view">CREATE REST DATA MAPPING
            VIEW</a> MRS DDL statement or <a
            href="#interactive-rest-view-design">interactively using the
            MRS Object Dialog</a> of the MySQL Shell for VS Code
            extension.</p>
            <p>Once a REST data mapping view has been created, it is
            extremely simple to access it using REST. The following
            workflow applies.</p>
            <ul>
            <li>GET a document from the REST data mapping view</li>
            <li>Make any changes needed to the document, including
            changes to the nested JSON objects</li>
            <li>PUT the document back into the REST data mapping
            view</li>
            </ul>
            <p>The next figure shows a typical JSON document update
            cycle.</p>
            <figure>
            <img
            src="sections/devGuide/../../images/rest-view-update-cycle.svg"
            title="REST VIEW - Update Cycle"
            alt="REST VIEW - Update Cycle" />
            <figcaption aria-hidden="true">REST VIEW - Update
            Cycle</figcaption>
            </figure>
            <p>The database automatically detects the changes in the new
            document and modifies the underlying rows, including all
            nested tables. All REST data mapping views that share the
            same data immediately reflect this change. This drastically
            simplifies application development since developers no
            longer have to worry about inconsistencies, compared to
            using traditional document databases.</p>
            <h2 data-number="6.2"
            id="lock-free-optimistic-concurrency-control"><span
            class="header-section-number">6.2</span> Lock-Free
            Optimistic Concurrency Control</h2>
            <p>REST data mapping views can be safely updated
            concurrently without the use of locks. Objects fetched from
            the database have a checksum computed, which is called ETag
            and is included in the returned object, in the
            <code>_metadata.etag</code> field.</p>
            <p>When that object is submitted back to MRS to be updated
            (via PUT), the ETag of the original object is compared to
            the current version of the ETag. If the rows corresponding
            to the object have changed since it was first fetched, the
            ETag would not match. In that case, the request fails with
            HTTP status code 412. The client must then fetch the object
            again and re-submit its update request based on an
            up-to-date version of the object.</p>
            <p>The object checksum includes all fields of the source row
            as well as any rows joined/included, even filtered fields.
            Fields can be explicitly excluded using the
            <code>@nocheck</code> attribute.</p>
            <p><strong><em>Example</em></strong></p>
            <p>If at first, <code>GET /myService/sakila/city/1</code>
            returns the following JSON document to the client.</p>
            <div class="sourceCode" id="cb34"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;city&quot;</span><span class="fu">:</span> <span class="st">&quot;A Corua (La Corua)&quot;</span><span class="fu">,</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;country&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;country&quot;</span><span class="fu">:</span> <span class="st">&quot;Spain&quot;</span><span class="fu">,</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span> <span class="dv">87</span><span class="fu">,</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span> <span class="dv">87</span><span class="fu">,</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="fu">,</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;etag&quot;</span><span class="fu">:</span> <span class="st">&quot;FFA2187AD4B98DF48EC40B3E807E0561A71D02C2F4F5A3B953AA6CB6E41CAD16&quot;</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <p>Next, the client updates the object and changes the city
            name to <code>A Coruña (La Coruña)</code> and submits it by
            calling <code>PUT /myService/sakila/city/1</code>.</p>
            <div class="sourceCode" id="cb35"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;city&quot;</span><span class="fu">:</span> <span class="st">&quot;A Coruña (La Coruña)&quot;</span><span class="fu">,</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;country&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;country&quot;</span><span class="fu">:</span> <span class="st">&quot;Spain&quot;</span><span class="fu">,</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span> <span class="dv">87</span><span class="fu">,</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span> <span class="dv">87</span><span class="fu">,</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="fu">,</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;etag&quot;</span><span class="fu">:</span> <span class="st">&quot;FFA2187AD4B98DF48EC40B3E807E0561A71D02C2F4F5A3B953AA6CB6E41CAD16&quot;</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <p>If the target object has been changed (e.g. by another
            user) between the <code>GET</code> and the <code>PUT</code>
            requests, the ETag check would fail and the PUT would result
            in error <code>412 Precondition Failed</code>.</p>
            <h2 data-number="6.3"
            id="interactive-rest-view-design"><span
            class="header-section-number">6.3</span> Interactive REST
            View Design</h2>
            <p>While REST data mapping views can be created by manually
            writing <a href="#create-rest-view">CREATE REST DATA
            MAPPING VIEW</a> MRS DDL statements, it is often much easier
            to design REST data mapping views in a visual editor.</p>
            <p><a
            href="https://marketplace.visualstudio.com/items?itemName=Oracle.mysql-shell-for-vs-code">MySQL
            Shell for VS Code</a> includes the MySQL REST Object dialog
            which features an advanced <code>Data Mapping</code>
            designer. Using this designer it is possible to create even
            complex, nested REST data mapping views within seconds.</p>
            <p>The <code>DDL Preview</code> button allows to preview the
            corresponding MRS DDL statement while interactively
            designing the REST data mapping view.</p>
            <h3 data-number="6.3.1"
            id="building-a-rest-data-mapping-view"><span
            class="header-section-number">6.3.1</span> Building a REST
            Data Mapping View</h3>
            <p>Building a REST data mapping view for a single relational
            table (or view) is straight forward. Using MySQL Shell for
            VS Code to <a
            href="adding-a-schema-object-with-mysql-shell-for-vs-code-ui">add
            the database schema table</a> automatically creates the
            corresponding REST data mapping view containing all columns
            of the table in a <strong>flat</strong> JSON object.</p>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-rest-object-editor.svg"
            title="REST Object Editor" alt="JSON Relational Editor" />
            <figcaption aria-hidden="true">JSON Relational
            Editor</figcaption>
            </figure>
            <p>Adding the database schema table via VS Code is equal to
            calling the <a href="#create-rest-view">CREATE REST
            DATA MAPPING VIEW</a> MRS DDL statement without a
            <code>graphQlObj</code> definition, which also adds all
            columns of the table as a <strong>flat</strong> JSON
            object.</p>
            <div class="sourceCode" id="cb36"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>city</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> `sakila`.`city`</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>AUTHENTICATION REQUIRED;</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>SHOW <span class="kw">CREATE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>city;</span></code></pre></div>
            <div class="sourceCode" id="cb37"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>+-----------------------------------------------+</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>| CREATE REST VIEW                              |</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>+-----------------------------------------------+</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>| CREATE OR REPLACE REST VIEW /city             |</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>|     ON SERVICE /myTestService SCHEMA /sakila  |</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>|     AS sakila.city {                          |</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>|         cityId: city_id,                      |</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>|         city: city,                           |</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>|         countryId: country_id,                |</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>|         lastUpdate: last_update               |</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>|     }                                         |</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>|     AUTHENTICATION REQUIRED;                  |</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>+-----------------------------------------------+</span></code></pre></div>
            <blockquote>
            <p>Note: In order to be able to access the REST object
            without authentication, the <code>Requires Auth</code>
            checkbox needs to be unchecked in the MySQL REST Object
            dialog or the <code>AUTHENTICATION NOT REQUIRED</code>
            clause needs to be added to the MRS DDL statement. This
            should only be done during development time or when a REST
            endpoint should be publicly available.</p>
            </blockquote>
            <h4 data-number="6.3.1.1"
            id="enabling-crud-operations"><span
            class="header-section-number">6.3.1.1</span> Enabling CRUD
            Operations</h4>
            <p>Since only the <code>READ</code> CRUD operation is
            enabled by default (see the <code>R</code> being highlighted
            next to the relational object), only read commands will be
            allowed on the REST object. To change this, toggle each
            <code>CRUD</code> letter (<code>C</code> - Create,
            <code>R</code> - Read, <code>U</code> - Update and
            <code>D</code> - Delete) to enable or disable the
            corresponding functionality in the MySQL REST Object
            dialog.</p>
            <p>The same can be achieved by using annotations in the MRS
            DDL statement.</p>
            <div class="sourceCode" id="cb38"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>city</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> `sakila`.`city` @INSERT @UPDATE @DELETE</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>AUTHENTICATION REQUIRED;</span></code></pre></div>
            <p>The following table shows the mapping between CRUD
            operations and SQL operations.</p>
            <table>
            <caption>CRUD Operation Mapping</caption>
            <thead>
            <tr class="header">
            <th>Letter</th>
            <th>CRUD Operation</th>
            <th>SQL Operation</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>C</td>
            <td>CREATE</td>
            <td>CREATE</td>
            </tr>
            <tr class="even">
            <td>R</td>
            <td>READ</td>
            <td>SELECT</td>
            </tr>
            <tr class="odd">
            <td>U</td>
            <td>UPDATE</td>
            <td>UPDATE</td>
            </tr>
            <tr class="even">
            <td>D</td>
            <td>DELETE</td>
            <td>DELETE</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="6.3.2"
            id="creating-a-nested-rest-data-mapping-view"><span
            class="header-section-number">6.3.2</span> Creating a Nested
            REST Data Mapping View</h3>
            <p>By enabling a referenced table, the columns of that table
            are included as a nested entry in the JSON result. Please
            note that this works with 1:1 and 1:n relationships.</p>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-rest-object-editor-2-referenced-table.png"
            title="Adding a Referenced Table"
            alt="Adding a Referenced Table" />
            <figcaption aria-hidden="true">Adding a Referenced
            Table</figcaption>
            </figure>
            <p>This leads to the following result.</p>
            <div class="sourceCode" id="cb39"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>GET /myService/sakila/city/1</span></code></pre></div>
            <div class="sourceCode" id="cb40"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;city&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;A Corua (La Corua)&quot;</span><span class="fu">,</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">1</span><span class="fu">,</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;country&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;country&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;Spain&quot;</span><span class="fu">,</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">87</span><span class="fu">,</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">87</span><span class="fu">,</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="fu">,</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;etag&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;FFA2187AD4B98DF48EC40B3E807E0561A71D02C2F4F5A3B953AA6CB6E41CAD16&quot;</span></span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <h3 data-number="6.3.3"
            id="creating-a-rest-data-mapping-view-with-an-unnested-referenced-table"><span
            class="header-section-number">6.3.3</span> Creating a REST
            Data Mapping View with an Unnested Referenced Table</h3>
            <p>If the columns of the referenced table should be added to
            the level above, the <code>Unnest...</code> dropdown can be
            used to select the column that should be selected for the
            reduce operation.</p>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-rest-object-editor-4-referenced-table-unnested.png"
            title="Unnest a Referenced Table"
            alt="Unnest a Referenced Table" />
            <figcaption aria-hidden="true">Unnest a Referenced
            Table</figcaption>
            </figure>
            <p>This leads to the following result.</p>
            <div class="sourceCode" id="cb41"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>GET /myService/sakila/city/1</span></code></pre></div>
            <div class="sourceCode" id="cb42"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;city&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;A Corua (La Corua)&quot;</span><span class="fu">,</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">1</span><span class="fu">,</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;country&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;Spain&quot;</span><span class="fu">,</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">87</span><span class="fu">,</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="fu">,</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;etag&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;48889BABCBBA1491D25DFE0D7A270FA3FDF8A16DA8E44E42C61759DE1F0D6E35&quot;</span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <h3 data-number="6.3.4"
            id="rest-view-object-identifiers"><span
            class="header-section-number">6.3.4</span> REST View Object
            Identifiers</h3>
            <p>When a REST View maps to a database table, the primary
            key(s) specified for that table constitute the identifier of
            the corresponding REST Documents. If a table has a composite
            primary key, the identifier is a comma-separated string with
            the values of each column that composes the primary key.</p>
            <div class="sourceCode" id="cb43"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> sakila.my_table (id1 <span class="dt">INT</span>, id2 <span class="dt">INT</span>, name <span class="dt">VARCHAR</span>(<span class="dv">3</span>), <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (id1, id2));</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> sakila.my_table <span class="kw">VALUES</span> (<span class="dv">1</span>, <span class="dv">1</span>, <span class="ot">&quot;foo&quot;</span>);</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>myTable</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AS</span> `sakila`.`my_table` @UPDATE;</span></code></pre></div>
            <p>Retrieving the specific REST document can be done as
            follows:</p>
            <div class="sourceCode" id="cb44"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>GET /myService/sakila/myTable/1,1</span></code></pre></div>
            <div class="sourceCode" id="cb45"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;id1&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">1</span><span class="fu">,</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;id2&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/myTable/1,1&quot;</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;foo&quot;</span><span class="fu">,</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;etag&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;48819BABCBBA1491DBBDFE0D7A270FA3FDF8A16DA8E44E42C61759DE1F0D6A38&quot;</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <p>Updating a specific REST document can be done as
            follows:</p>
            <div class="sourceCode" id="cb46"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>PUT /myService/sakila/myTable/1,1</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    &quot;id1&quot;: 1,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    &quot;id2&quot;: 2,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    &quot;name&quot;: &quot;bar&quot;</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <div class="sourceCode" id="cb47"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;id1&quot;</span><span class="fu">:</span><span class="er"> </span><span class="dv">1</span><span class="fu">,</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;id2&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span><span class="er"> </span><span class="ot">[</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;/myService/sakila/myTable/1,1&quot;</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;bar&quot;</span><span class="fu">,</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span><span class="er"> </span><span class="fu">{</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;etag&quot;</span><span class="fu">:</span><span class="er"> </span><span class="st">&quot;48819BABCBBA1491DBBDFE0D7A270FA3FDF8A16DA8E44E4AA62559DE1F0D6A42&quot;</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <p>However, if a database table does not have any primary
            key, it is no longer possible to access or modify specific
            documents using the corresponding REST View. The same
            problem occurs for a database view, where there is no
            concept of a primary key. In both cases, the REST View
            requires an explicit mapping between its fields and the
            underlying database table columns that can/must be used as
            identifiers. In the former, it should be a direct mapping
            between one or more REST View fields and the corresponding
            table columns. In the latter, the mapping must exist for
            <strong>ALL</strong> primary key columns of every table used
            by the database view, which must also be included in the
            result set produced by that view.</p>
            <p>For these specific scenarios, users can manually specify
            the REST View fields that map to their corresponding
            document identifiers.</p>
            <div class="sourceCode" id="cb48"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> sakila.my_table (id1 <span class="dt">INT</span>, id2 <span class="dt">INT</span>, name <span class="dt">VARCHAR</span>(<span class="dv">3</span>));</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>myTable</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> `sakila`.`my_table` @UPDATE {</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    id1: id1 @KEY,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    id2: id2 @KEY,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    name: name</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>};</span></code></pre></div>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="7" id="mrs-dialog-reference"><span
            class="header-section-number">7</span> MRS Dialog
            Reference</h1>
            <p>This section discusses the individual MRS UI dialogs
            offered by MySQL Shell for VS Code.</p>
            <h2 data-number="7.1" id="mrs-service-dialog"><span
            class="header-section-number">7.1</span> MRS Service
            Dialog</h2>
            <h3 data-number="7.1.1" id="rest-service-properties"><span
            class="header-section-number">7.1.1</span> REST Service
            Properties</h3>
            <p>Each REST service has a common set of properties.</p>
            <table>
            <caption>REST Service Properties</caption>
            <thead>
            <tr class="header">
            <th>Option</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>MRS Service Path</td>
            <td>The URL context root of this service</td>
            </tr>
            <tr class="even">
            <td>Comments</td>
            <td>Comments to describe this service</td>
            </tr>
            <tr class="odd">
            <td>Host Name</td>
            <td>If specified, only requests for this host are
            served</td>
            </tr>
            <tr class="even">
            <td>Supported Protocols</td>
            <td>The supported protocols (HTTPS by default)</td>
            </tr>
            <tr class="odd">
            <td>Enabled</td>
            <td>Specifies if the service is served by MySQL Router</td>
            </tr>
            <tr class="even">
            <td>Options</td>
            <td>Advanced options in JSON format</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="7.1.2"
            id="rest-service-advanced-options"><span
            class="header-section-number">7.1.2</span> REST Service
            Advanced Options</h3>
            <p>The following advanced options can be set in JSON
            format:</p>
            <ul>
            <li>headers: Accepts a JSON object with one or more HTTP
            header names as key and its setting as value.</li>
            <li>http:
            <ul>
            <li>allowedOrigin: If set to <code>auto</code>, MySQL Router
            dynamically sets the header
            <code>Access-Control-Allow-Origin</code> to the domain
            generating the request. Alternatively, this can be set to a
            specific domain <code>https://example.com</code> or a list
            of domains (for example,
            <code>["https://example.com", "https://example.net"]</code>).</li>
            </ul></li>
            <li>logging:
            <ul>
            <li>exceptions: If set to <code>true</code>, exceptions are
            logged.</li>
            <li>requests:
            <ul>
            <li>body: If set to <code>true</code>, the full body of all
            requests are logged.</li>
            <li>headers: If set to <code>true,</code> only the headers
            of all requests are logged.</li>
            </ul></li>
            <li>response:
            <ul>
            <li>body: If set to <code>true</code>, the full body of all
            responses are logged.</li>
            <li>headers: If set to <code>true</code>, only the headers
            of all responses are logged.</li>
            </ul></li>
            <li>returnInternalErrorDetails: If set to <code>true</code>,
            the cause errors with code 500 are sent to the client.</li>
            <li>includeLinksInResults: If set to `false``, the results
            do not include navigation links.</li>
            </ul></li>
            </ul>
            <h4 data-number="7.1.2.1"
            id="default-rest-service-options"><span
            class="header-section-number">7.1.2.1</span> Default REST
            Service Options</h4>
            <p>The example that follows shows the options that are used
            as default when deploying a new service.</p>
            <p>Note: These options are only recommended for development
            and must be changed for use in production.</p>
            <p>By setting <code>allowedOrigin</code> to
            <code>auto</code> MySQL Router dynamically sets the header
            <code>Access-Control-Allow-Origin</code> to the domain that
            generates the request. This is done to work around
            Cross-origin resource sharing (CORS) checks of web browsers
            during development time.</p>
            <div class="sourceCode" id="cb49"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;headers&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;Access-Control-Allow-Credentials&quot;</span><span class="fu">:</span> <span class="st">&quot;true&quot;</span><span class="fu">,</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;Access-Control-Allow-Headers&quot;</span><span class="fu">:</span> <span class="st">&quot;Content-Type, Authorization, X-Requested-With, Origin, X-Auth-Token&quot;</span><span class="fu">,</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;Access-Control-Allow-Methods&quot;</span><span class="fu">:</span> <span class="st">&quot;GET, POST, PUT, DELETE, OPTIONS&quot;</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;http&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;allowedOrigin&quot;</span><span class="fu">:</span> <span class="st">&quot;auto&quot;</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;logging&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;exceptions&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;request&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;body&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;headers&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">},</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;response&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;body&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;headers&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;returnInternalErrorDetails&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <p>When deploying a REST service in production, the
            following settings need to be changed:</p>
            <ol type="1">
            <li>Change <code>allowedOrigin</code> to the domain, or
            domains, the REST service is running on (for example,
            <code>"https://mydomain.com"</code> when deploying on a
            production server).</li>
            <li>Set <code>returnInternalErrorDetails</code> to
            <code>false</code>.</li>
            <li>Adjust the logging settings as needed.</li>
            </ol>
            <h2 data-number="7.2" id="mrs-schema-dialog"><span
            class="header-section-number">7.2</span> MRS Schema
            Dialog</h2>
            <h3 data-number="7.2.1" id="rest-schema-properties"><span
            class="header-section-number">7.2.1</span> REST Schema
            Properties</h3>
            <p>Each REST schema has a common set of properties.</p>
            <table>
            <caption>REST Schema Properties</caption>
            <colgroup>
            <col style="width: 37%" />
            <col style="width: 62%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Option</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>MRS Service Path</td>
            <td>The path of the REST service for this REST schema</td>
            </tr>
            <tr class="even">
            <td>Comments</td>
            <td>Comments to describe this MRS schema</td>
            </tr>
            <tr class="odd">
            <td>REST Schema Path</td>
            <td>The request path to access the schema (must start with
            /)</td>
            </tr>
            <tr class="even">
            <td>Schema Name</td>
            <td>The name of the corresponding database schema</td>
            </tr>
            <tr class="odd">
            <td>Items per Page</td>
            <td>The default number of items to be returned when
            requesting REST objects of this schema</td>
            </tr>
            <tr class="even">
            <td>Enabled</td>
            <td>Whether or not the REST objects of this REST schema are
            exposed through the REST interface</td>
            </tr>
            <tr class="odd">
            <td>Requires Authentication</td>
            <td>Whether or not authentication is required to access the
            REST objects of this REST schema</td>
            </tr>
            <tr class="even">
            <td>Options</td>
            <td>Additional options in JSON format</td>
            </tr>
            </tbody>
            </table>
            <h2 data-number="7.3" id="mrs-object-dialog"><span
            class="header-section-number">7.3</span> MRS Object
            Dialog</h2>
            <p>The following aspects can be set through the dialog.</p>
            <ul>
            <li>Basic Settings
            <ul>
            <li>The database schema object that should be exposed via
            MRS</li>
            <li>The URL path of how to access the REST object</li>
            </ul></li>
            <li>Security
            <ul>
            <li>Whether the object is publicly available or requires
            authentication</li>
            <li>The CRUD operations that are allowed</li>
            <li>The CRUD operations that are allowed on referenced
            tables</li>
            <li>Whether row ownership should be enforced to enable row
            level security</li>
            </ul></li>
            <li>Data Mapping
            <ul>
            <li>Which columns of the database schema object should be
            exposed and how they should be named</li>
            <li>Which referenced tables should be included, either
            nested or unnested or reduced to a single field</li>
            </ul></li>
            </ul>
            <figure>
            <img
            src="sections/devGuide/../../images/vsc-mrs-object-dialog.svg"
            title="The MySQL REST Object Dialog"
            alt="The MySQL REST Object Dialog" />
            <figcaption aria-hidden="true">The MySQL REST Object
            Dialog</figcaption>
            </figure>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="8"
            id="authentication-and-authorization"><span
            class="header-section-number">8</span> Authentication and
            Authorization</h1>
            <h2 data-number="8.1" id="overview"><span
            class="header-section-number">8.1</span> Overview</h2>
            <p>As a HTTP REST service, MRS performs its own
            authentication and authorization checks separately from the
            MySQL server.</p>
            <p>In general, anyone or anything that intends to access a
            MRS endpoint needs to first authenticate with it as a
            specific user account. That user must also have specific
            privileges to access that object and execute the desired
            HTTP method (GET, POST etc).</p>
            <p>MRS defines 5 distinct types of users according to the
            type of activities they’re allowed to perform in a MRS
            deployment. These users map to 5 MySQL roles created during
            MRS configuration, which can be granted in any combination
            to one or more MySQL user accounts.</p>
            <p>All roles have the minimal set of MySQL privileges
            necessary, mostly restricted to internal MRS metadata
            tables. By default, they have no access to any other schemas
            or tables. However, some roles must be granted varying
            levels of access to user schemas, tables and other DB
            objects necessary for their purpose.</p>
            <h3 data-number="8.1.1" id="mrs-administrative-users"><span
            class="header-section-number">8.1.1</span> MRS
            Administrative Users</h3>
            <p>Administrative tasks (configuration, creating and
            managing endpoints etc) are performed through MySQL Shell.
            The operations that a user is allowed to perform depend on
            the MySQL user that was used to connect MySQL Shell to MySQL
            (i.e. the Username that was set when the Connection was
            created in MySQL Shell for VSCode or passed in the command
            line of <code>mysqlsh</code>).</p>
            <p>Note that any MySQL root or admin users that have full
            privileges to MySQL will also have full privileges to MRS
            instances. Therefore, it is recommended that MRS management
            is done using a dedicated MySQL user with minimal
            privileges.</p>
            <h4 data-number="8.1.1.1"
            id="service-administrator-mysql_rest_service_admin"><span
            class="header-section-number">8.1.1.1</span> Service
            Administrator (<code>mysql_rest_service_admin</code>)</h4>
            <p>A Service Administrator is allowed to:</p>
            <ul>
            <li>add, manage and remove MRS services</li>
            <li>add, manage and remove endpoint schemas</li>
            <li>add, manage and remove endpoints to tables, views and
            routines to MRS schemas</li>
            <li>add, manage and remove authentication apps</li>
            <li>add, manage and remove user accounts and roles</li>
            <li>add, manage and remove content sets and files (static
            files that can be served via HTTP)</li>
            <li>manage and monitor MySQL Router status and logs</li>
            <li>view the MRS audit log</li>
            </ul>
            <p>Service administrators must have the
            <code>mysql_rest_service_admin</code> MySQL role.</p>
            <h4 data-number="8.1.1.2"
            id="schema-administrator-mysql_rest_schema_admin"><span
            class="header-section-number">8.1.1.2</span> Schema
            Administrator (<code>mysql_rest_schema_admin</code>)</h4>
            <p>The main purpose of a Schema Administrator is to create
            REST endpoint schemas, so that objects of that schema can be
            published as endpoints of a MRS service. They need access to
            both MRS metadata tables and user schemas</p>
            <p>A Schema Administrator is allowed to:</p>
            <ul>
            <li>add, manage and remove endpoint schemas</li>
            <li>add, manage and remove endpoints to tables, views and
            routines to MRS schemas</li>
            <li>add, manage and remove content sets and files</li>
            <li>monitor MySQL Router status and logs</li>
            <li>view the MRS audit log</li>
            </ul>
            <p>Schema administrators must have the
            <code>mysql_rest_schema_admin</code> MySQL role. In addition
            to that role, Schema Administrator users must be able to
            view and grant all relevant privileges on objects that they
            wish to create endpoints for (e.g. <code>SELECT</code>,
            <code>INSERT</code>, <code>UPDATE</code>,
            <code>DELETE</code> on tables that will be published and
            updatable, <code>WITH GRANT OPTION</code>). These privileges
            will automatically be re-granted by MySQL Shell to the
            <code>mysql_rest_service_data_provider</code> role, so that
            MySQL Router can do whatever is required by the endpoint
            configuration.</p>
            <h4 data-number="8.1.1.3"
            id="developer-mysql_rest_service_dev"><span
            class="header-section-number">8.1.1.3</span> Developer
            (<code>mysql_rest_service_dev</code>)</h4>
            <p>Developers have mostly the same privileges as Schema
            Administrators, except they cannot add new schemas to a
            service.</p>
            <p>Developers are allowed to:</p>
            <ul>
            <li>use/reference existing endpoints schemas</li>
            <li>add, manage and remove endpoints to tables, views and
            routines to MRS schemas</li>
            <li>add, manage and remove content sets and files</li>
            <li>monitor MySQL Router status and logs</li>
            <li>view the MRS audit log</li>
            </ul>
            <p>Developers must have the
            <code>mysql_rest_service_dev</code> MySQL role. In addition
            to that role, Developer users must be able to grant all
            relevant privileges on objects that they wish to create
            endpoints for (e.g. <code>SELECT</code>,
            <code>INSERT</code>, <code>UPDATE</code>,
            <code>DELETE</code> on tables that will be published and
            updatable, <code>WITH GRANT OPTION</code>). These privileges
            will automatically be re-granted by MySQL Shell to the
            <code>mysql_rest_service_data_provider</code> role, so that
            MySQL Router can do whatever is required by the endpoint
            configuration.</p>
            <h3 data-number="8.1.2" id="mrs-service-user"><span
            class="header-section-number">8.1.2</span> MRS Service
            User</h3>
            <p>When bootstrapping MySQL Router for MRS, a MySQL user
            account is automatically created for MRS. That account has
            these 2 roles granted:</p>
            <h4 data-number="8.1.2.1"
            id="data-access-mysql_rest_service_data_provider"><span
            class="header-section-number">8.1.2.1</span> Data Access
            (<code>mysql_rest_service_data_provider</code>)</h4>
            <p>This is the MySQL role MySQL Router uses to execute SQL
            necessary to serve HTTP REST requests on behalf of MRS
            users. This role must have grants on all MySQL objects that
            are exposed as REST endpoints.</p>
            <p>The MySQL Shell automatically manages privileges granted
            to this role, as DB objects are added as REST endpoints.</p>
            <p>Note that access control for MRS users is performed at
            REST endpoint level by MRS; but all REST requests,
            regardless of the MRS user they’re originating from, will be
            executed through the same MySQL user. Care must be taken
            when exposing views and stored procedures to avoid granting
            access to objects to unintended users.</p>
            <h4 data-number="8.1.2.2"
            id="metadata-access-mysql_rest_service_meta_provider"><span
            class="header-section-number">8.1.2.2</span> Metadata Access
            (<code>mysql_rest_service_meta_provider</code>)</h4>
            <p>The MySQL Router uses this role when querying the MRS
            metadata for endpoint configuration, MRS user account
            information etc. This role only has access to internal
            metadata tables.</p>
            <h2 data-number="8.2" id="authentication-management"><span
            class="header-section-number">8.2</span> Authentication
            Management</h2>
            <p>MRS currently supports the following authentication
            methods.</p>
            <h3 data-number="8.2.1"
            id="mrs-rest-service-specific-authentication"><span
            class="header-section-number">8.2.1</span> MRS REST Service
            Specific Authentication</h3>
            <p>Authentication is handled my MRS against MRS REST Service
            specific accounts. Applications use SCRAM (Salted Challenge
            Response Authentication Mechanism) to securely authenticate
            a user.</p>
            <h3 data-number="8.2.2"
            id="mysql-internal-authentication"><span
            class="header-section-number">8.2.2</span> MySQL Internal
            Authentication</h3>
            <p>Authentication is handled my MRS against MySQL server
            user accounts. Applications send the credentials (username
            and password) in clear text as part of a JSON request
            payload to the MySQL Router for authenticating a user.</p>
            <p>This authentication method is recommended for HTTPS-only
            REST services and is most suitable for applications that are
            not exposed publicly.</p>
            <h3 data-number="8.2.3" id="oauth2-authentication"><span
            class="header-section-number">8.2.3</span> OAuth2
            Authentication</h3>
            <p>Several OAuth2 services from 3rd-party vendors are
            supported by MRS; for example, sign in with FaceBook, Google
            or the OCI OAuth2 service. In order for a MRS service to
            authenticate against those vendors, one needs to be
            registered as a developer with those vendors and a vendor
            specific authentication apps need to be created. Then the
            OAuth2 specific settings - like APP ID and APP SECRET - need
            to be configured on the MRS side.</p>
            <h4 data-number="8.2.3.1" id="configuring-oci-oauth2"><span
            class="header-section-number">8.2.3.1</span> Configuring OCI
            OAuth2</h4>
            <p>After logging into the OCI web console, select
            <code>Identity &amp; Security</code> and then
            <code>Domains</code> from the <code>Navigation Menu</code>
            or directly go to <a
            href="https://cloud.oracle.com/identity/domains">cloud.oracle.com/identity/domains</a>.</p>
            <p>Select the root compartment in the
            <code>List scope</code> and click on the
            <code>Default</code> domain.</p>
            <h5 data-number="8.2.3.1.1"
            id="looking-up-the-url-option"><span
            class="header-section-number">8.2.3.1.1</span> Looking Up
            the URL Option</h5>
            <p>After the <code>Default</code> domain has been opened,
            take note of the <code>Domain URL</code> on the
            <code>Domain information</code> tab. This URL needs to be
            provided when creating the REST authentication app.</p>
            <h5 data-number="8.2.3.1.2"
            id="creating-an-oci-oauth2-integrated-application"><span
            class="header-section-number">8.2.3.1.2</span> Creating an
            OCI OAuth2 Integrated Application</h5>
            <p>Click on the <code>Integrated applications</code> link on
            the left hand side, then click the
            <code>Add application</code> button at the top.</p>
            <ol type="1">
            <li>Select <code>Confidential Application</code> and confirm
            by clicking <code>Launch workflow</code> button.</li>
            <li>Set a <code>Name</code> and <code>Description</code> for
            your REST application and press <code>Next</code>.</li>
            <li>Choose
            <code>Configure this application as a resource server now</code>.
            <ul>
            <li>Set the <code>Primary audience</code> to
            <code>MySQL-REST-Service</code>.</li>
            </ul></li>
            <li>Choose
            <code>Configure this application as a client now</code>
            <ul>
            <li>In the <code>Authorization</code> section, check the
            <code>Client credentials</code> and
            <code>Authorization code</code> checkboxes.</li>
            <li>Enter the correct <code>Redirect URL</code> using the
            format
            <code>https://&lt;router-address&gt;/&lt;rest-service&gt;/authentication/login?authApp=&lt;authAppName&gt;&amp;sessionType=&lt;bearer | cookie&gt;</code>.
            <ul>
            <li>Example:
            <code>https://rest.example.com/myService/authentication/login?authApp=OCI&amp;sessionType=cookie</code></li>
            </ul></li>
            <li>Ensure the <code>Client type</code> is set to
            <code>Confidential</code>.</li>
            <li>In the <code>Allowed operations</code> sections check
            the <code>Introspect</code> checkbox.</li>
            <li>Turn the <code>Bypass consent</code> on.</li>
            <li>Set <code>Client IP address</code> to
            <code>Anywhere</code>.</li>
            <li>Set <code>Authorized resourced</code> to
            <code>All</code>.</li>
            </ul></li>
            <li>Select to <code>Skip</code> the
            <code>Web tier policy</code> and press
            <code>Finish</code>.</li>
            </ol>
            <p>You will be taken to your new
            <code>Integrated Application</code>. In the
            <code>OAuth configuration / General Information</code>
            section the <code>Client ID</code> and the
            <code>Client secret</code> are show. These need to be
            provided when creating the REST authentication app.</p>
            <p>Please see the <a
            href="#create-rest-auth-app">CREATE REST AUTH
            APP</a> section how to create a REST authentication app
            using the <code>"OCI OAuth2"</code> vendor next.</p>
            <h4 data-number="8.2.3.2"
            id="configuring-the-redirection-url-of-a-rest-service"><span
            class="header-section-number">8.2.3.2</span> Configuring the
            Redirection URL of a REST service</h4>
            <p>After configuring the OAuth2 vendor specific
            authentication app and creating the corresponding REST
            authentication app, the redirection URL of the REST service
            needs to be configured.</p>
            <p>The redirection URL tells the MySQL Router which URL it
            should send the user to after the authentication process
            against the OAuth2 server has been completed for a specific
            REST service.</p>
            <p>The redirection URL can be set using the <a
            href="#alter-rest-service"><code>ALTER REST SERVICE</code></a>
            command. Please see <a
            href="#rest-service-authentication-settings">REST
            service authentication settings</a> for more details.</p>
            <p>Alternatively the redirection URL can be set by opening
            the REST service dialog and switching to the
            <code>Authentication</code> tab sheet.</p>
            <h2 data-number="8.3" id="authorization-management"><span
            class="header-section-number">8.3</span> Authorization
            Management</h2>
            <p>Access to a given REST resource can have several levels
            of restrictions when using MRS:</p>
            <ul>
            <li>Public access - no authorization is needed to access the
            REST resource and its data</li>
            <li>Full access - after authentication the user has full
            access to all data of the REST resource</li>
            <li>Limited access - after authentication the user has only
            access to a subset of the data of the REST resource</li>
            </ul>
            <p>MRS has built-in support for several authorization
            models. These authorization models define which data of a
            given REST resource that end users can see and
            manipulate:</p>
            <ul>
            <li>User-ownership based - users can see their own data</li>
            <li>Privilege based, managed using roles</li>
            <li>User-hierarchy based</li>
            <li>Group based</li>
            <li>Group-hierarchy based</li>
            </ul>
            <p>If the use case of a given project matches one of the
            offered authorization models, then a custom authorization
            does not need to be implemented.</p>
            <p>From an endpoint’s perspective, access to REST resources
            can be controlled at the following levels:</p>
            <ul>
            <li>Service</li>
            <li>Schema</li>
            <li>Object</li>
            </ul>
            <p>That is, if a user has read access to a schema, then they
            will have read access to all objects in that schema of a
            service.</p>
            <p>It is possible to grant CREATE, READ, UPDATE and DELETE
            privileges at any of these levels.</p>
            <h3 data-number="8.3.1" id="mrs-roles"><span
            class="header-section-number">8.3.1</span> MRS Roles</h3>
            <p>A MRS role encapsulates a set of privileges for REST
            endpoints which can be granted as a whole to individual MRS
            users of a service. Roles can also be organized
            hierarchically, or extended into new roles with additional
            privileges.</p>
            <p>For example, in a simple blog application that has an
            endpoint for <code>/myService/blog/post</code>, we could
            have 3 roles:</p>
            <ul>
            <li><code>reader</code>, who can only read posts;</li>
            <li><code>poster</code>, who can create and update posts,
            besides reading them and</li>
            <li><code>editor</code>, which has the same privileges as a
            <code>poster</code>, but can also delete them</li>
            </ul>
            <p>The following snippet creates these 3 roles and grants
            them to three different user.</p>
            <div class="sourceCode" id="cb50"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a># This example assumes a MySQL <span class="kw">database</span> <span class="kw">schema</span> <span class="ot">&quot;blog&quot;</span> <span class="kw">and</span> a <span class="kw">schema</span> <span class="kw">table</span> <span class="ot">&quot;post&quot;</span> has been created <span class="kw">before</span>.</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">SCHEMA</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> blog;</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> blog.post(<span class="kw">id</span> <span class="dt">INT</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> AUTO_INCREMENT, message TEXT);</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST SERVICE <span class="op">/</span>myTestService;</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="kw">USE</span> REST SERVICE <span class="op">/</span>myTestService;</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>blog <span class="kw">FROM</span> blog;</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>post <span class="kw">ON</span> <span class="kw">SCHEMA</span> <span class="op">/</span>blog <span class="kw">AS</span> blog.post;</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;reader&quot;</span>;</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> REST <span class="kw">READ</span> <span class="kw">ON</span> <span class="kw">SCHEMA</span> <span class="op">/</span>blog <span class="dt">OBJECT</span> <span class="op">/</span>post <span class="kw">TO</span> <span class="ot">&quot;reader&quot;</span>;</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;poster&quot;</span> <span class="kw">EXTENDS</span> <span class="ot">&quot;reader&quot;</span>;</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> REST <span class="kw">CREATE</span>, <span class="kw">UPDATE</span> <span class="kw">ON</span> <span class="kw">SCHEMA</span> <span class="op">/</span>blog <span class="dt">OBJECT</span> <span class="op">/</span>post <span class="kw">TO</span> <span class="ot">&quot;poster&quot;</span>;</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;editor&quot;</span> <span class="kw">EXTENDS</span> <span class="ot">&quot;poster&quot;</span>;</span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> REST <span class="kw">DELETE</span> <span class="kw">ON</span> <span class="kw">SCHEMA</span> <span class="op">/</span>blog <span class="dt">OBJECT</span> <span class="op">/</span>post <span class="kw">TO</span> <span class="ot">&quot;editor&quot;</span>;</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>SHOW REST <span class="kw">ROLES</span>;</span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST AUTH APP <span class="ot">&quot;TestAuthApp&quot;</span> VENDOR MRS;</span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="fu">USER</span> <span class="ot">&quot;ulf&quot;</span>@<span class="ot">&quot;TestAuthApp&quot;</span> <span class="kw">IDENTIFIED</span> <span class="kw">BY</span> <span class="ot">&quot;********&quot;</span>;</span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;reader&quot;</span> <span class="kw">TO</span> <span class="ot">&quot;ulf&quot;</span>@<span class="ot">&quot;TestAuthApp&quot;</span>;</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="fu">USER</span> <span class="ot">&quot;alfredo&quot;</span>@<span class="ot">&quot;TestAuthApp&quot;</span> <span class="kw">IDENTIFIED</span> <span class="kw">BY</span> <span class="ot">&quot;********&quot;</span>;</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;poster&quot;</span> <span class="kw">TO</span> <span class="ot">&quot;alfredo&quot;</span>@<span class="ot">&quot;TestAuthApp&quot;</span>;</span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="fu">USER</span> <span class="ot">&quot;mike&quot;</span>@<span class="ot">&quot;TestAuthApp&quot;</span> <span class="kw">IDENTIFIED</span> <span class="kw">BY</span> <span class="ot">&quot;********&quot;</span>;</span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;editor&quot;</span> <span class="kw">TO</span> <span class="ot">&quot;mike&quot;</span>@<span class="ot">&quot;TestAuthApp&quot;</span>;</span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a># Now, these three users can login <span class="kw">with</span> <span class="kw">the</span> specified <span class="kw">password</span> via MRS authentication.</span></code></pre></div>
            <p>By default, roles are specific to a service. The service
            to which a role belongs to can be specified directly in the
            <code>CREATE REST ROLE</code> in the statement but if
            omitted, it will be created in the current default service.
            Role names only need to be unique within a service:</p>
            <div class="sourceCode" id="cb51"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;myrole&quot;</span> <span class="kw">ON</span> SERVICE <span class="op">/</span>myOtherService;</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a># <span class="kw">The</span> <span class="kw">role</span> <span class="kw">is</span> created <span class="kw">in</span> service <span class="op">/</span>myTestService, which <span class="kw">is</span> <span class="kw">the</span> <span class="kw">current</span> <span class="kw">default</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;myrole&quot;</span>;</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>SHOW <span class="kw">CREATE</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;myrole&quot;</span> <span class="kw">ON</span> SERVICE <span class="op">/</span>myTestService;</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>SHOW <span class="kw">CREATE</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;myrole&quot;</span> <span class="kw">ON</span> SERVICE <span class="op">/</span>myOtherService;</span></code></pre></div>
            <p>It is also possible to create roles that can be used from
            any service, by specifying the <code>ON ANY SERVICE</code>
            clause:</p>
            <div class="sourceCode" id="cb52"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">ROLE</span> <span class="ot">&quot;globalRole&quot;</span> <span class="kw">ON</span> <span class="kw">ANY</span> SERVICE;</span></code></pre></div>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="9" id="mrs-examples"><span
            class="header-section-number">9</span> MRS Examples</h1>
            <p>The MRS Shell Plugin ships with a set of example projects
            that showcase the possibilities of the MySQL REST
            Service.</p>
            <p>The MRS Notes example implements as simple <a
            href="https://en.wikipedia.org/wiki/Progressive_web_app">Progressive
            Web Apps (PWA)</a> to showcase the features offered by
            MRS.</p>
            <p>The MRS Scripts example includes a set of examples that
            showcase server side rendering of HTML pages.</p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h2 data-number="9.1" id="mrs-notes-example"><span
            class="header-section-number">9.1</span> MRS Notes
            Example</h2>
            <p>The MRS Notes example implements a simple note taking
            application as a <a
            href="https://en.wikipedia.org/wiki/Progressive_web_app">Progressive
            Web Apps (PWA)</a> that allows for sharing notes between
            users.</p>
            <figure>
            <img
            src="../examples/mrs_notes/../../docs/images/mrs-notes-ss-phone.png"
            title="mrsNotes App running on a Mobile"
            alt="mrsNotes App running on a Mobile" />
            <figcaption aria-hidden="true">mrsNotes App running on a
            Mobile</figcaption>
            </figure>
            <h3 data-number="9.1.1"
            id="mrs-notes-developer-showcase"><span
            class="header-section-number">9.1.1</span> MRS Notes
            Developer Showcase</h3>
            <p>The following features are showcased in this example.</p>
            <ul>
            <li>Accessing MRS REST endpoints from JavaScript and
            TypeScript code.</li>
            <li>Using MRS service authentication REST endpoints to
            support user management</li>
            <li>Using <a href="https://jwt.io/">JSON Web Tokens
            (JWT)</a> to manage user sessions</li>
            </ul>
            <h3 data-number="9.1.2" id="mrs-notes-quick-guide"><span
            class="header-section-number">9.1.2</span> MRS Notes Quick
            Guide</h3>
            <p>To quickly get the MRS Notes Examples working, please
            feel free to follow this guide. If you want to learn more
            about the examples, please continue reading the chapters
            below.</p>
            <p>The following steps need to be taken to setup, build and
            deploy the MRS Notes example project on the MySQL REST
            Service.</p>
            <ol type="1">
            <li>Save the MRS Notes Example project to disk and open it
            with VS Code
            <code>VSCodeProject:examples/mrs_notes</code></li>
            <li><a href="#configuring-mysql-rest-service">Configure</a>
            the MySQL REST Service.</li>
            <li>Create a new MRS service
            (e.g. <code>/myService</code>).</li>
            <li>Deploy the mrs_notes MySQL database schema
            <code>examples/mrs_notes/db_schema/mrs_notes.sql</code></li>
            <li>Load the MRS schema dump into the MRS service
            <code>examples/mrs_notes/mrs_schema/mrsNotes.mrs.json</code></li>
            <li>Ensure a bootstrapped MySQL Router instance is running
            (if not, start it).</li>
            <li>Build and deploy the app by following the steps
            below.</li>
            </ol>
            <h4 data-number="9.1.2.1"
            id="deploying-the-typescript-example"><span
            class="header-section-number">9.1.2.1</span> Deploying the
            TypeScript Example</h4>
            <p>The MrsNotes project implements a TypeScript demo app
            that allows to create, manipulate and share notes between
            users.</p>
            <ol type="1">
            <li>If you have not done so in the previous section, save
            the following project to disk and open it with VS Code
            <code>VSCodeProject:examples/mrs_notes</code></li>
            <li>After the project folder has been opened in VS Code,
            navigate to the <code>NPM SCRIPTS</code> View in the sidebar
            and right-click on <code>package.json</code> to select
            <code>Run Install</code>. Alternatively, set the focus to
            the TERMINAL tab and enter <code>npm install</code> to
            install the required node modules</li>
            <li>In the <code>NPM SCRIPTS</code> View, run the
            <code>package.json/build</code> command that will create a
            folder called <code>dist</code> that contains all files
            needed for deployment.</li>
            <li>Right click on the <code>dist</code> folder in the
            Folders view and select
            <code>Upload Folder to MySQL REST Service</code> from the
            popup menu.</li>
            <li>In the REST Content Set dialog set the
            <code>Request Path</code> the app should be using,
            e.g. <code>/app</code> and click <code>OK</code> to upload
            the files to the MRS service.</li>
            <li>Open a web browser and access the full path specified in
            the previous step to open the app,
            e.g. <code>https://localhost:8443/myService/app/index.html</code></li>
            </ol>
            <h3 data-number="9.1.3"
            id="mrs-setup-and-configuration-for-the-mrs-notes-examples"><span
            class="header-section-number">9.1.3</span> MRS Setup and
            Configuration for the MRS Notes Examples</h3>
            <p>Please refer to the MRS documentation on how to setup and
            configure a MRS service in detail.</p>
            <p>If you are using a local MRS deployment deployment you
            can use these simplified steps.</p>
            <h3 data-number="9.1.4"
            id="deploy-the-mrsnotes-mysql-database-schema"><span
            class="header-section-number">9.1.4</span> Deploy the
            mrsNotes MySQL database schema</h3>
            <p>The mrsNotes MySQL database schema is the center of the
            MRS project. It defines the structure of the data and its
            database tables store all the information the users enter
            while using the app.</p>
            <p>To create the mrsNotes schema the corresponding SQL
            script file needs to be executed. This can be done via the
            MySQL Shell or directly within VS Code using the MySQL Shell
            for VS Code extension.</p>
            <ul>
            <li><p>If you are browsing this documentation within VS Code
            click the button next to the SQL script name
            <code>examples/mrs_notes/db_schema/mrs_notes.sql</code></p></li>
            <li><p>If you want to use MySQL Shell on the command line,
            switch to the mrs_notes plugin directory and run the
            following command.</p>
            <p>mysqlsh dba@localhost –sql -f
            examples/mrs_notes/db_schema/mrs_notes.sql</p></li>
            </ul>
            <h4 data-number="9.1.4.1" id="mrsnotes-eer-diagram"><span
            class="header-section-number">9.1.4.1</span> mrsNotes EER
            Diagram</h4>
            <p>The following diagram shows all components of the
            mrsNotes schema.</p>
            <figure>
            <img
            src="../examples/mrs_notes/../../docs/images/examples-mrs_notes_schema.svg"
            title="mrsNotes MySQL Database Schema"
            alt="mrsNotes MySQL Database Schema" />
            <figcaption aria-hidden="true">mrsNotes MySQL Database
            Schema</figcaption>
            </figure>
            <p>The most important database table is the
            <code>note</code> table. It stores all notes that are
            created by the users.</p>
            <p>The <code>user</code> table holds the nickname of the
            user as well as the email address used for receiving
            invitation emails for shared notes.</p>
            <p>The <code>user_has_note</code> table is used to managed
            the sharing of notes with other users.</p>
            <p>As soon as selected notes need to be shareable between
            users it is necessary to add an abstraction layer. This
            layer then allows selective access to notes written by other
            users after they accepted the invitation to participate on
            the shared note.</p>
            <p>In this case the layer consists of one VIEW and four
            STORED PROCEDUREs.</p>
            <ul>
            <li>notes_all … a VIEW of all notes the user is allowed to
            see.</li>
            <li>note_share … a STORED PROCEDURE to share a note with
            another user.</li>
            <li>note_accept_share … a STORED PROCEDURE to accept a
            shared note.</li>
            <li>note_update … a STORED PROCEDURE to update a shared
            note</li>
            <li>note_delete … a STORED PROCEDURE to delete a shared
            note</li>
            </ul>
            <!-- Copyright (c) 2024, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h2 data-number="9.2" id="mrs-scripts-example"><span
            class="header-section-number">9.2</span> MRS Scripts
            Example</h2>
            <p>The MRS Scripts Example project implements a set of
            simple MRS scripts, including two examples of how to perform
            Server Side Rendering with MRS.</p>
            <h3 data-number="9.2.1"
            id="mrs-scripts-example-quick-guide"><span
            class="header-section-number">9.2.1</span> MRS Scripts
            Example Quick Guide</h3>
            <p>To quickly get the MRS Notes Examples working, please
            feel free to follow this guide. If you want to learn more
            about the examples, please continue reading the chapters
            below.</p>
            <p>The following steps need to be taken to setup, build and
            deploy the MRS Scripts Example project on the MySQL REST
            Service.</p>
            <ol type="1">
            <li>Save the MRS Notes Example project to disk and open it
            with VS Code
            <code>VSCodeProject:examples/mrs_scripts</code></li>
            <li><a href="#configuring-mysql-rest-service">Configure</a>
            the MySQL REST Service.</li>
            <li>Create a new MRS service
            (e.g. <code>/myService</code>).</li>
            <li>Ensure a bootstrapped MySQL Router instance is running
            (if not, start it).</li>
            <li>Build and deploy the MRS Scripts by following the steps
            below.</li>
            </ol>
            <h4 data-number="9.2.1.1"
            id="deploying-the-mrs-scripts-examples"><span
            class="header-section-number">9.2.1.1</span> Deploying the
            MRS Scripts Examples</h4>
            <p>The MRS Script Examples are written in TypeScript and
            need to be built before they can be uploaded to MRS. Please
            follow these steps to deploy the examples.</p>
            <ol type="1">
            <li>If you have not done so in the previous section, save
            the following project to disk and open it with VS Code
            <code>VSCodeProject:examples/mrs_scripts</code></li>
            <li>After the project folder has been opened in VS Code,
            navigate to the <code>NPM SCRIPTS</code> View in the sidebar
            and right-click on <code>package.json</code> to select
            <code>Run Install</code>. Alternatively, set the focus to
            the TERMINAL tab and enter <code>npm install</code> to
            install the required node modules</li>
            <li>In the <code>NPM SCRIPTS</code> View, run the
            <code>package.json/build</code> command that will create a
            folder called <code>build</code> that contains all files
            needed for deployment.</li>
            <li>Right click on the background below the last file in the
            Folders view and select
            <code>Upload Folder to MySQL REST Service</code> from the
            popup menu.</li>
            <li>In the REST Content Set dialog make sure that the
            <code>Enable MRS Scripts</code> checkbox is checked and
            click <code>OK</code> to upload the files to the MRS
            service.</li>
            <li>Open a web browser and access the full path specified in
            the previous step to open the app,
            e.g. <code>https://localhost:8443/myService/testScripts/preactTestPage.html</code></li>
            </ol>
            <h4 data-number="9.2.1.2"
            id="using-mysql-shell-to-deploy-the-mrs-scripts-examples"><span
            class="header-section-number">9.2.1.2</span> Using MySQL
            Shell to Deploy the MRS Scripts Examples</h4>
            <p>Apart from using the MySQL Shell for VS Code extension it
            is also possible to use the MySQL Shell to upload the MRS
            Scripts to MRS.</p>
            <div class="sourceCode" id="cb53"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="ex">~/.mysqlsh-gui/mysqlsh</span> dba@localhost <span class="at">--sql</span> <span class="at">-e</span> <span class="st">&#39;CREATE OR REPLACE REST CONTENT SET /mrsScriptsContent ON SERVICE /myService FROM &quot;~/path_to_project_folder/mrs_scripts&quot; LOAD SCRIPTS&#39;</span></span></code></pre></div>
            <hr />
            <p><strong>MySQL REST Service - Quickstart
            Guide</strong></p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="10" id="quickstart-introduction"><span
            class="header-section-number">10</span> Quickstart
            Introduction</h1>
            <p>Welcome to the MySQL REST Service (MRS). It provides a
            fast and powerful way to serve JSON documents to client
            applications via a HTTPS REST interface.</p>
            <p>To learn more about the MySQL REST Service please check
            out the <a href="index.html#introduction">Developer
            Guide</a>.</p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="11"
            id="setting-up-the-mysql-rest-service"><span
            class="header-section-number">11</span> Setting up the MySQL
            REST Service</h1>
            <p>To get started with the MySQL REST Service, you must
            first deploy a MySQL solution. In this guide, we will use a
            local MySQL Server installation. If you have an existing
            MySQL server or InnoDB ClusterSet installed, you can use
            that setup instead. This is also true if you are working
            with a HeatWave instance.</p>
            <h2 data-number="11.1"
            id="setting-up-a-local-mysql-server"><span
            class="header-section-number">11.1</span> Setting up a local
            MySQL Server</h2>
            <p>Please go to the <a
            href="https://dev.mysql.com/downloads/mysql/">MySQL download
            page</a> and select a MySQL Server version. It is
            recommended to download the latest MySQL Innovation or LTS
            release. Download the appropriate packages for your local
            operating system and perform the local installation either
            on <a
            href="https://dev.mysql.com/doc/mysql-installation-excerpt/en/macos-installation.html">MacOS</a>,
            <a
            href="https://dev.mysql.com/doc/mysql-installation-excerpt/en/linux-installation.html">Linux</a>
            or <a
            href="https://dev.mysql.com/doc/mysql-installation-excerpt/en/windows-installation.html">Windows</a>.</p>
            <p>After the MySQL Server has been installed, make sure that
            it is started up and that a database connection can be
            established, using the MySQL Shell for VS Code
            extension.</p>
            <h2 data-number="11.2" id="setting-up-vs-code"><span
            class="header-section-number">11.2</span> Setting up VS
            Code</h2>
            <p>The recommended way to configure a MySQL REST Service
            development setup is to use <a
            href="https://code.visualstudio.com/">VS Code</a> or <a
            href="https://vscodium.com/">VSCodium</a> with the MySQL
            Shell for VS Code extension installed.</p>
            <p>After downloading and installing VS Code, select the
            Extensions icon in the Activity Bar on the left hand side
            and enter MySQL Shell, then click the <code>Install</code>
            button.</p>
            <p>When using VSCodium, please see here how to <a
            href="#enabling-ms-marketplace-on-vscodium">enable the MS
            Marketplace</a> first. With the MS Marketplace enabled,
            select the Extensions icon in the Activity Bar on the left
            hand side, enter MySQL Shell and then click the
            <code>Install</code> button.</p>
            <h3 data-number="11.2.1"
            id="mysql-shell-welcome-wizard"><span
            class="header-section-number">11.2.1</span> MySQL Shell
            Welcome Wizard</h3>
            <p>When first launching the MySQL Shell VS Code extension, a
            Welcome Wizard will be shown. Please follow the required
            steps to configure the extension.</p>
            <p>In case of an issue, the extension can be reset by
            bringing up the VS Code Command Palette and selecting the
            <code>Reset MySQL Shell for VS Code Extension</code> or by
            selecting the corresponding popup menu item of the
            <code>DATABASE CONNECTIONS</code> view in the Primary Side
            Bar.</p>
            <h3 data-number="11.2.2" id="adding-a-db-connection"><span
            class="header-section-number">11.2.2</span> Adding a DB
            Connection</h3>
            <p>After successfully configuring the MySQL Shell VS Code
            extension, select its icon in the VS Code Activity Bar on
            the left hand side. Then click the
            <code>DB Connection Overview</code> entry in the
            <code>OPEN EDITORS</code> view in the Primary Side Bar.</p>
            <p>On the <code>DB Connection Overview</code> page, click
            the <code>New Connection</code> tile in the
            <code>Database Connections</code> list. This will bring up
            the <code>Database Connection Configuration</code>
            dialog.</p>
            <ul>
            <li>Choose a <code>Caption</code> for the new DB Connection,
            e.g. <code>MRS Development</code>.</li>
            <li>Set the <code>User Name</code> to <code>root</code></li>
            <li>Click <code>OK</code> to create the DB Connection.</li>
            </ul>
            <p>A new DB Connection tile will show up in the
            <code>DB Connection Overview</code>, as well as a new DB
            Connection entry in the <code>DATABASE CONNECTIONS</code>
            view in the Primary Side Bar.</p>
            <h3 data-number="11.2.3" id="opening-a-db-connection"><span
            class="header-section-number">11.2.3</span> Opening a DB
            Connection</h3>
            <p>Click the new tile to open the database connection. Enter
            the password and select whether to store it.</p>
            <p>A new <code>DB Notebook</code> page will be opened,
            showing an SQL prompt.</p>
            <h2 data-number="11.3"
            id="configuring-a-mysql-instance-for-mysql-rest-service-support"><span
            class="header-section-number">11.3</span> Configuring a
            MySQL Instance for MySQL REST Service Support</h2>
            <p>Support for the MySQL REST Service has to be explicitly
            configured on a given MySQL setup, before it can be
            used.</p>
            <p>This configuration can either be performed directly in
            the MySQL Shell for VS Code extension or via the <a
            href="index.html#mrs-configuration-using-mysql-shell">REST
            SQL extension available</a> in the MySQL Shell.</p>
            <blockquote>
            <p>When using a HeatWave setup on OCI, please browse the
            HeatWave documentation on how to enable REST service support
            for the given HeatWave instance.</p>
            </blockquote>
            <h3 data-number="11.3.1"
            id="configuring-mrs-in-mysql-shell-for-vs-code"><span
            class="header-section-number">11.3.1</span> Configuring MRS
            in MySQL Shell for VS Code</h3>
            <p>Using the MySQL Shell for VS Code extension, locate the
            <code>DATABASE CONNECTIONS</code> view in the Primary Side
            Bar and right-click on the DB Connection entry
            <code>MRS Development</code> created above. This will bring
            up the popup menu.</p>
            <p>Select
            <code>Configuring Instance for MySQL REST Service Support</code>
            in the DB Connection’s popup menu, which will bring up the
            <code>MySQL REST Service</code> dialog.</p>
            <figure>
            <img
            src="sections/quickStart/../../images/vsc-mrs-configure.png"
            title="Configure Instance for MySQL REST Service Support"
            alt="Configure Instance for MySQL REST Service Support" />
            <figcaption aria-hidden="true">Configure Instance for MySQL
            REST Service Support</figcaption>
            </figure>
            <p>On the <code>MySQL REST Service</code> dialog provide a
            <code>REST User Name</code> and a
            <code>REST User Password</code>. Please note that the
            password has a minimum length of 8 characters and must
            contain a lower case character, and upper case character, a
            number and a special character. The REST user specified on
            this dialog can later be used to log into REST services.</p>
            <p>Click <code>OK</code> to configure the instance for MySQL
            REST Service support. This process will create a dedicated
            metadata schema on the MySQL instance, which holds all
            metadata information about the REST services and
            endpoints.</p>
            <p>After MySQL has been configured for MySQL REST Service
            support, a new <code>MySQL REST Service</code> child entry
            can be seen when expanding the DB Connection entry in the
            <code>DATABASE CONNECTIONS</code> view in the Primary Side
            Bar.</p>
            <h3 data-number="11.3.2"
            id="adding-the-mrs-authentication-app-for-heatwave"><span
            class="header-section-number">11.3.2</span> Adding the MRS
            Authentication App for HeatWave</h3>
            <p>When you are working against a HeatWave instance, the
            REST user mentioned above needs to be created
            explicitly.</p>
            <p>Open the <code>MySQL REST Service</code> child entry of
            the DB Connection, click on the
            <code>REST Authentication Apps</code> item with the right
            mouse button and select
            <code>Add New Authentication App</code>.</p>
            <p>This will show the <code>REST Authentication App</code>
            dialog. Select the vendor <code>MRS</code> and click
            <code>OK</code> to have the new REST authentication app be
            created.</p>
            <p>Expand the <code>REST Authentication Apps</code> item in
            the tree view and right click on the new <code>MRS</code>
            entry. Select <code>Add User</code> from the popup menu when
            clicking the <code>MRS</code> entry with the right mouse
            button.</p>
            <p>Provide a <code>User Name</code> and a
            <code>User Password</code> and click <code>OK</code> to have
            the REST user created.</p>
            <h2 data-number="11.4"
            id="assigning-rest-user-privileges"><span
            class="header-section-number">11.4</span> Assigning REST
            User Privileges</h2>
            <p>When working with MySQL, it is recommended that the
            <code>root</code> account be used exclusively for
            configuration purposes. Create dedicated MySQL user accounts
            for general administrative and development tasks
            instead.</p>
            <h3 data-number="11.4.1" id="dba-account"><span
            class="header-section-number">11.4.1</span> DBA Account</h3>
            <blockquote>
            <p>When working with HeatWave, a dedicated MySQL user
            account with administrative privileges was already created
            during HeatWave deployment. This MySQL user account can be
            used instead. Please proceed to <a
            href="#granting-rest-service-admin-privileges">Granting REST
            Service Admin Privileges</a>.</p>
            </blockquote>
            <p>To create a database administrator account named
            <code>dba</code> the following SQL commands can be used.</p>
            <p>This account will have full privileges on all database
            schemas. To adjust the list of schemas, modify the
            <code>GRANT ALL ON *.*</code> statement accordingly.</p>
            <div class="sourceCode" id="cb54"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="fu">USER</span> <span class="st">&#39;dba&#39;</span>@<span class="st">&#39;%&#39;</span> <span class="kw">IDENTIFIED</span> <span class="kw">BY</span> <span class="st">&#39;********&#39;</span>;</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="kw">ALL</span> <span class="kw">ON</span> <span class="op">*</span>.<span class="op">*</span> <span class="kw">TO</span> <span class="st">&#39;dba&#39;</span>@<span class="st">&#39;%&#39;</span> <span class="kw">WITH</span> <span class="kw">GRANT</span> <span class="kw">OPTION</span>;</span></code></pre></div>
            <p>After creating the new account, remember to update the DB
            Connection and replace the <code>User Name</code>
            <code>root</code> with <code>dba</code>. This can be done by
            clicking on the DB Connection entry with the right mouse
            button and selecting <code>Edit DB Connection</code>.</p>
            <h3 data-number="11.4.2"
            id="granting-rest-service-admin-privileges"><span
            class="header-section-number">11.4.2</span> Granting REST
            Service Admin Privileges</h3>
            <p>Any existing MySQL user account can be promoted to a REST
            service administrator by granting the
            <code>mysql_rest_service_admin</code> role. This role has to
            be added to the default MySQL roles that are assigned when a
            MySQL user connects.</p>
            <p>The following two statements grant the required MySQL
            role and assign all roles to be loaded by default.</p>
            <div class="sourceCode" id="cb55"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="st">&#39;mysql_rest_service_admin&#39;</span> <span class="kw">TO</span> <span class="st">&#39;dba&#39;</span>@<span class="st">&#39;%&#39;</span>;</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SET</span> <span class="kw">DEFAULT</span> <span class="kw">ROLE</span> <span class="kw">ALL</span> <span class="kw">TO</span> <span class="st">&#39;dba&#39;</span>@<span class="st">&#39;%&#39;</span>;</span></code></pre></div>
            <blockquote>
            <p>Please note that the
            <code>mysql_rest_service_admin</code> role is only available
            after configuring the MySQL instance for MySQL REST Service
            support.</p>
            </blockquote>
            <p>The MySQL REST Service supports several MySQL roles to
            manage fine-grained access for administrators and
            developers. Please check the <a
            href="index.html#mrs-user-roles">MRS User Roles</a>
            documentation for more details.</p>
            <h2 data-number="11.5"
            id="deploying-a-mysql-router-for-development"><span
            class="header-section-number">11.5</span> Deploying a MySQL
            Router for Development</h2>
            <p>When developing REST services, it is highly recommended
            to deploy a local MySQL Router instance. This allows
            developers to locally test the REST services they are
            working on without publishing them on the production
            systems. Please see the <a
            href="index.html#rest-service-lifecycle-management">REST
            Service Lifecycle Management</a> for details.</p>
            <p>To bootstrap and start a local MySQL Router in
            development mode, select
            <code>Bootstrap Local MySQL Router Instance</code> from the
            <code>MySQL REST Service</code> items popup menu.</p>
            <p>A terminal will appear.</p>
            <ul>
            <li>Enter the password of the MySQL user and hit the
            <code>return</code> key.</li>
            <li>Next, enter a JWT secret. Since this is a local
            development server, a simple secret like <code>1234</code>
            can be used. Please note that the same, strong JWT secret
            has to be used on all production routers.</li>
            </ul>
            <p>Now, a local development instance of the MySQL Router has
            been bootstrapped.</p>
            <p>Select <code>Start Local MySQL Router Instance</code>
            from the <code>MySQL REST Service</code> items popup menu to
            start up the router.</p>
            <p>The terminal will display the MySQL Router log output in
            real time. This log output is very helpful when debugging
            REST endpoints.</p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="12" id="defining-rest-endpoints"><span
            class="header-section-number">12</span> Defining REST
            Endpoints</h1>
            <p>After configuring a MySQL instance for MySQL REST Service
            support, you can define new REST services and endpoints.
            This can be done using the graphical user interface built
            into the MySQL Shell extension for Visual Studio Code or
            directly via the MySQL Shell REST SQL extension.</p>
            <h2 data-number="12.1"
            id="deploying-the-sakila-schema"><span
            class="header-section-number">12.1</span> Deploying the
            Sakila Schema</h2>
            <p>All further examples in the quickstart guide use the
            <code>Sakila</code> example database schema. To follow
            along, please install that schema.</p>
            <ol type="1">
            <li>Download the Sakila schema from <a
            href="https://downloads.mysql.com/docs/sakila-db.zip">https://downloads.mysql.com/docs/sakila-db.zip</a></li>
            <li>Double-click the downloaded ZIP file to extract it. This
            will create a folder <code>sakila-db</code> containing two
            SQL scripts.</li>
            <li>Using the MySQL Shell for VS Code extension, locate the
            <code>DATABASE CONNECTIONS</code> view in the Primary Side
            Bar and right-click on the DB Connection entry
            <code>MRS Development</code> created above. From the popup
            menu select <code>Load SQL Script from Disk...</code> and
            select the <code>sakila-schema.sql</code> script.</li>
            <li>After the script has loaded, click the first lightning
            bolt in the toolbar to execute the full script. Monitor the
            output until the line
            <code>✓ SQL Script execution completed in ___s. 46 statements executed successfully.</code>
            is displayed.</li>
            <li>Use <code>Load SQL Script from Disk...</code> again and
            select the <code>sakila-data.sql</code> script. Execute it
            and monitor the output for
            <code>✓ SQL Script execution completed in ___s. 62 statements executed successfully.</code></li>
            </ol>
            <p>The <code>sakila</code> schema should now be displayed in
            the <code>DATABASE CONNECTIONS</code> view in the Primary
            Side Bar as a child entry of the
            <code>MRS Development</code> connection.</p>
            <h2 data-number="12.2" id="creating-a-rest-service"><span
            class="header-section-number">12.2</span> Creating a REST
            Service</h2>
            <p>To create a REST service, click with the right mouse
            button on the <code>MySQL REST Service</code> child entry of
            the <code>MRS Development</code> connection in the
            <code>DATABASE CONNECTIONS</code> view in the Primary Side
            Bar.</p>
            <figure>
            <img
            src="sections/quickStart/../../images/vsc-mrs-add-service.png"
            title="Adding a REST Service" alt="Adding a REST Service" />
            <figcaption aria-hidden="true">Adding a REST
            Service</figcaption>
            </figure>
            <p>This will bring up the <code>MySQL REST Service</code>
            dialog. You can set a REST service path and a REST Service
            Name or accept the defaults of <code>/myService</code> for
            now.</p>
            <p>The REST service will be created without being
            <code>Published</code> and the REST authentication app
            <code>MRS</code> will be linked by default. To also allow
            logins with MySQL user accounts, the REST authentication app
            <code>MySQL</code> can be linked as well.</p>
            <p>Click <code>OK</code> to have the REST service
            created.</p>
            <p>The new REST Service will now be displayed as a child to
            the <code>MySQL REST Service</code> item in the tree
            view.</p>
            <h3 data-number="12.2.1"
            id="creating-a-rest-service-with-rest-sql"><span
            class="header-section-number">12.2.1</span> Creating a REST
            Service with REST SQL</h3>
            <p>Alternatively to using the graphical user interface the
            REST SQL extension can be used to create the REST
            service.</p>
            <div class="sourceCode" id="cb56"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST SERVICE <span class="op">/</span>myService</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ADD</span> AUTH APP <span class="st">&#39;MRS&#39;</span>;</span></code></pre></div>
            <h2 data-number="12.3" id="adding-a-rest-endpoint"><span
            class="header-section-number">12.3</span> Adding a REST
            Endpoint</h2>
            <p>After a REST service has been created, a new REST
            endpoint can be added. It is possible to add database schema
            tables, views, procedures and functions, as well as static
            files.</p>
            <p>On the <code>DATABASE CONNECTIONS</code> view in the
            Primary Side Bar, expand the <code>sakila</code> database
            schema tree item as well as the <code>Tables</code> item of
            the DB Connection entry.</p>
            <p>Click the database schema table <code>city</code> using
            the right mouse button and select
            <code>Add Database Object to REST Service</code> from the
            popup menu.</p>
            <figure>
            <img
            src="sections/quickStart/../../images/vsc-mrs-add-db-object.png"
            title="Adding a Database Object"
            alt="Adding a Database Object" />
            <figcaption aria-hidden="true">Adding a Database
            Object</figcaption>
            </figure>
            <p>A notification will be show on the lower right area of
            the window displaying the following question.</p>
            <div class="sourceCode" id="cb57"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>The database schema sakila has not been added to the REST service.</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>Do you want to add the schema now?</span></code></pre></div>
            <p>Before adding a database schema object as a REST
            endpoint, it is required to add their database schema as a
            REST schema first. Click <code>Yes</code> to add the
            database schema as a REST schema.</p>
            <p>The <code>MySQL REST Object</code> dialog will be
            displayed.</p>
            <figure>
            <img
            src="sections/quickStart/../../images/vsc-mrs-object-dialog.svg"
            title="The MySQL REST Object Dialog"
            alt="The MySQL REST Object Dialog" />
            <figcaption aria-hidden="true">The MySQL REST Object
            Dialog</figcaption>
            </figure>
            <p>It shows the full request path that will be used for the
            REST endpoint, consisting of the parts
            <code>REST Service Path</code> <code>REST Schema Path</code>
            <code>REST Object Path</code>. In this case the path will be
            <code>/myService/sakila/city</code>.</p>
            <blockquote>
            <p>Since we want this REST endpoint to not require
            authentication, disable the <code>Auth. Required</code>
            option in the <code>Access Control</code> section, top
            right.</p>
            </blockquote>
            <p>On the <code>Data Mapping</code> tab sheet, the mapping
            of JSON fields to database columns can be seen. It is
            possible to rename JSON fields or add referenced tables as
            nested JSON documents. See <a
            href="index.html#rest-data-mapping-views">Data Mapping
            Views</a> for more details.</p>
            <p>To enable write access on the REST endpoint, click the
            <code>INSERT</code> <code>UPDATE</code> <code>DELETE</code>
            buttons next to the database schema name.</p>
            <p>Click <code>OK</code> to create the REST endpoint.</p>
            <h3 data-number="12.3.1"
            id="adding-a-rest-endpoint-via-rest-sql"><span
            class="header-section-number">12.3.1</span> Adding a REST
            Endpoint via REST SQL</h3>
            <p>The same operations as doing in the user interface above
            can also be done via the REST SQL extension.</p>
            <p>In a first step, the database schema can be added to the
            REST service as a REST schema.</p>
            <div class="sourceCode" id="cb58"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>sakila <span class="kw">ON</span> SERVICE <span class="op">/</span>myService</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> `sakila`;</span></code></pre></div>
            <p>Next, the <code>sakila.city</code> database schema table
            can be added.</p>
            <div class="sourceCode" id="cb59"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>city <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AS</span> `sakila`.`city` @INSERT @UPDATE @DELETE</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    AUTHENTICATION <span class="kw">NOT</span> REQUIRED;</span></code></pre></div>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="13" id="accessing-rest-endpoints"><span
            class="header-section-number">13</span> Accessing REST
            Endpoints</h1>
            <p>A MySQL Router instance must be used to access any REST
            endpoint. When developing on a REST service, please make
            sure to deploy a <a
            href="#deploying-a-mysql-router-for-development">MySQL
            Router in development mode</a>.</p>
            <h2 data-number="13.1" id="web-browser-access"><span
            class="header-section-number">13.1</span> Web Browser
            Access</h2>
            <p>To access a REST endpoint, expand the REST service entry
            in the <code>DATABASE CONNECTIONS</code> tree view until you
            reach the REST object. Right-click on <code>city</code> REST
            endpoint and select
            <code>Open REST Object Request Path in Web Browser</code>
            from the popup menu.</p>
            <p>This will open up a web browser pointing at the REST
            endpoint URL
            <code>https://localhost:8443/myService/sakila/city</code>
            and display the JSON document returned from accessing the
            REST endpoint via the GET method.</p>
            <blockquote>
            <p>The port number of the URL depends on the internal ID of
            the DB Connection and is different for each connection.</p>
            </blockquote>
            <div class="sourceCode" id="cb60"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;items&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;city&quot;</span><span class="fu">:</span> <span class="st">&quot;A Coruña (La Coruña)&quot;</span><span class="fu">,</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>                <span class="fu">{</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>                <span class="fu">}</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>            <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span> <span class="dv">87</span><span class="fu">,</span></span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="fu">,</span></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>                <span class="dt">&quot;etag&quot;</span><span class="fu">:</span> <span class="st">&quot;09785343A8A790724C995E20AE6844EA2A78E9CFD57BE64063B2FC56E12D8FFC&quot;</span></span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>            <span class="fu">}</span></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;city&quot;</span><span class="fu">:</span> <span class="st">&quot;Abha&quot;</span><span class="fu">,</span></span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>                <span class="fu">{</span></span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="st">&quot;/myService/sakila/city/2&quot;</span></span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a>                <span class="fu">}</span></span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a>            <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;cityId&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;countryId&quot;</span><span class="fu">:</span> <span class="dv">82</span><span class="fu">,</span></span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="fu">,</span></span>
<span id="cb60-29"><a href="#cb60-29" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;_metadata&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb60-30"><a href="#cb60-30" aria-hidden="true" tabindex="-1"></a>                <span class="dt">&quot;etag&quot;</span><span class="fu">:</span> <span class="st">&quot;B069A2EEC4663506F97019A369BD77AB086A9BA5FB1DD224C36B67CF687A6B14&quot;</span></span>
<span id="cb60-31"><a href="#cb60-31" aria-hidden="true" tabindex="-1"></a>            <span class="fu">}</span></span>
<span id="cb60-32"><a href="#cb60-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb60-33"><a href="#cb60-33" aria-hidden="true" tabindex="-1"></a>        <span class="er">...</span></span>
<span id="cb60-34"><a href="#cb60-34" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb60-35"><a href="#cb60-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;limit&quot;</span><span class="fu">:</span> <span class="dv">25</span><span class="fu">,</span></span>
<span id="cb60-36"><a href="#cb60-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;offset&quot;</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb60-37"><a href="#cb60-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;hasMore&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb60-38"><a href="#cb60-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;count&quot;</span><span class="fu">:</span> <span class="dv">25</span><span class="fu">,</span></span>
<span id="cb60-39"><a href="#cb60-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb60-40"><a href="#cb60-40" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb60-41"><a href="#cb60-41" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="st">&quot;self&quot;</span><span class="fu">,</span></span>
<span id="cb60-42"><a href="#cb60-42" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="st">&quot;/myService/sakila/city/&quot;</span></span>
<span id="cb60-43"><a href="#cb60-43" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb60-44"><a href="#cb60-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb60-45"><a href="#cb60-45" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="st">&quot;next&quot;</span><span class="fu">,</span></span>
<span id="cb60-46"><a href="#cb60-46" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="st">&quot;/myService/sakila/city/?offset=25&quot;</span></span>
<span id="cb60-47"><a href="#cb60-47" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb60-48"><a href="#cb60-48" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb60-49"><a href="#cb60-49" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <h2 data-number="13.2" id="typescript-prompt"><span
            class="header-section-number">13.2</span> TypeScript
            Prompt</h2>
            <p>The MySQL Shell for VS Code supports and interactive
            workflow to prototype REST access using TypeScript.</p>
            <p>After opening a database connection in MySQL Shell for VS
            Code the DB Notebook will be displayed. Switch the DB
            Notebook to TypeScript mode with <code>\ts</code> if it is
            in SQL mode.</p>
            <figure>
            <img
            src="sections/quickStart/../../images/msg-db-notebook-switch-to-ts.svg"
            title="DB Notebook - Switch to TS mode"
            alt="DB Notebook - Switch to TS mode" />
            <figcaption aria-hidden="true">DB Notebook - Switch to TS
            mode</figcaption>
            </figure>
            <p>First, you can check the status of the MySQL REST Service
            by executing the <code>mrs.getStatus();</code> command.
            Since the automatically generated Client SDK is fully type
            safe, auto completion support will be provided all the
            way.</p>
            <div class="sourceCode" id="cb61"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> mrs<span class="op">.</span><span class="fu">getStatus</span>()<span class="op">;</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;configured&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;info&quot;</span><span class="op">:</span> <span class="st">&quot;1 REST service available.&quot;</span><span class="op">,</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;services&quot;</span><span class="op">:</span> [</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;serviceName&quot;</span><span class="op">:</span> <span class="st">&quot;myService&quot;</span><span class="op">,</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;url&quot;</span><span class="op">:</span> <span class="st">&quot;https://localhost:8443/myService&quot;</span><span class="op">,</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;isCurrent&quot;</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>Next we can do a <code>findFirst()</code> operation on
            the <code>/myService/sakila/city</code> endpoint to fetch
            the first city in the list. Again, the auto completion
            feature should guide the way.</p>
            <div class="sourceCode" id="cb62"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;city&quot;</span><span class="op">:</span> <span class="st">&quot;A Coruña (La Coruña)&quot;</span><span class="op">,</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;cityId&quot;</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">87</span><span class="op">,</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>Searching for a specific city can be done by using the
            <code>find()</code> method and using a where clause.</p>
            <div class="sourceCode" id="cb63"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">find</span>({where<span class="op">:</span> {city<span class="op">:</span> { <span class="st">&#39;$like&#39;</span><span class="op">:</span> <span class="st">&#39;Van%&#39;</span>}}})</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>[</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;city&quot;</span><span class="op">:</span> <span class="st">&quot;Vancouver&quot;</span><span class="op">,</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;cityId&quot;</span><span class="op">:</span> <span class="dv">565</span><span class="op">,</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
            <p>Many more methods are available when using the Client
            SDK. Please see the <a href="#sdk-cheat-sheet">SDK
            Reference</a> for more details.</p>
            <h2 data-number="13.3" id="access-via-curl"><span
            class="header-section-number">13.3</span> Access via
            CURL</h2>
            <p>Instead of using a web browser, the REST endpoint can be
            accessed using any other HTTP client as well.</p>
            <p>Using <code>curl</code> is a popular way to fetch data
            via HTTP from the command line. It is installed by default
            on MacOS machines and can easily be installed on Linux and
            Windows.</p>
            <p>To access the city REST endpoint, the following can be
            executed on a terminal. The JSON data will be formatted
            using the jq tool.</p>
            <div class="sourceCode" id="cb64"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-s</span> <span class="st">&quot;https://localhost:8443/myService/sakila/city&quot;</span> <span class="kw">|</span> <span class="ex">jq</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;items&quot;</span><span class="ex">:</span> [</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;city&quot;</span><span class="ex">:</span> <span class="st">&quot;A Coruña (La Coruña)&quot;</span>,</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;links&quot;</span><span class="ex">:</span> [</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">{</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;rel&quot;</span><span class="ex">:</span> <span class="st">&quot;self&quot;</span>,</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;href&quot;</span><span class="ex">:</span> <span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">}</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>      <span class="ex">],</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;cityId&quot;</span><span class="ex">:</span> 1,</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;countryId&quot;</span><span class="ex">:</span> 87,</span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;lastUpdate&quot;</span><span class="ex">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span>,</span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;_metadata&quot;</span><span class="ex">:</span> {</span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;etag&quot;</span><span class="ex">:</span> <span class="st">&quot;09785343A8A790724C995E20AE6844EA2A78E9CFD57BE64063B2FC56E12D8FFC&quot;</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>      <span class="kw">}</span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>    <span class="ex">},</span></span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span></span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;city&quot;</span><span class="ex">:</span> <span class="st">&quot;Abha&quot;</span>,</span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;links&quot;</span><span class="ex">:</span> [</span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a>        <span class="kw">{</span></span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;rel&quot;</span><span class="ex">:</span> <span class="st">&quot;self&quot;</span>,</span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;href&quot;</span><span class="ex">:</span> <span class="st">&quot;/myService/sakila/city/2&quot;</span></span>
<span id="cb64-25"><a href="#cb64-25" aria-hidden="true" tabindex="-1"></a>        <span class="kw">}</span></span>
<span id="cb64-26"><a href="#cb64-26" aria-hidden="true" tabindex="-1"></a>      <span class="ex">],</span></span>
<span id="cb64-27"><a href="#cb64-27" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;cityId&quot;</span><span class="ex">:</span> 2,</span>
<span id="cb64-28"><a href="#cb64-28" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;countryId&quot;</span><span class="ex">:</span> 82,</span>
<span id="cb64-29"><a href="#cb64-29" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;lastUpdate&quot;</span><span class="ex">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span>,</span>
<span id="cb64-30"><a href="#cb64-30" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;_metadata&quot;</span><span class="ex">:</span> {</span>
<span id="cb64-31"><a href="#cb64-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;etag&quot;</span><span class="ex">:</span> <span class="st">&quot;B069A2EEC4663506F97019A369BD77AB086A9BA5FB1DD224C36B67CF687A6B14&quot;</span></span>
<span id="cb64-32"><a href="#cb64-32" aria-hidden="true" tabindex="-1"></a>      <span class="kw">}</span></span>
<span id="cb64-33"><a href="#cb64-33" aria-hidden="true" tabindex="-1"></a>    <span class="ex">},</span></span>
<span id="cb64-34"><a href="#cb64-34" aria-hidden="true" tabindex="-1"></a>    <span class="ex">...</span></span>
<span id="cb64-35"><a href="#cb64-35" aria-hidden="true" tabindex="-1"></a>  <span class="ex">],</span></span>
<span id="cb64-36"><a href="#cb64-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;limit&quot;</span><span class="ex">:</span> 25,</span>
<span id="cb64-37"><a href="#cb64-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;offset&quot;</span><span class="ex">:</span> 0,</span>
<span id="cb64-38"><a href="#cb64-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;hasMore&quot;</span><span class="ex">:</span> true,</span>
<span id="cb64-39"><a href="#cb64-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;count&quot;</span><span class="ex">:</span> 25,</span>
<span id="cb64-40"><a href="#cb64-40" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;links&quot;</span><span class="ex">:</span> [</span>
<span id="cb64-41"><a href="#cb64-41" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span></span>
<span id="cb64-42"><a href="#cb64-42" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;rel&quot;</span><span class="ex">:</span> <span class="st">&quot;self&quot;</span>,</span>
<span id="cb64-43"><a href="#cb64-43" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;href&quot;</span><span class="ex">:</span> <span class="st">&quot;/myService/sakila/city/&quot;</span></span>
<span id="cb64-44"><a href="#cb64-44" aria-hidden="true" tabindex="-1"></a>    <span class="ex">},</span></span>
<span id="cb64-45"><a href="#cb64-45" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span></span>
<span id="cb64-46"><a href="#cb64-46" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;rel&quot;</span><span class="ex">:</span> <span class="st">&quot;next&quot;</span>,</span>
<span id="cb64-47"><a href="#cb64-47" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;href&quot;</span><span class="ex">:</span> <span class="st">&quot;/myService/sakila/city/?offset=25&quot;</span></span>
<span id="cb64-48"><a href="#cb64-48" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span></span>
<span id="cb64-49"><a href="#cb64-49" aria-hidden="true" tabindex="-1"></a>  <span class="ex">]</span></span>
<span id="cb64-50"><a href="#cb64-50" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code></pre></div>
            <p>To perform a find operation we can specify the additional
            <code>q</code> parameter. To learn more about the core REST
            API syntax please browse the corresponding <a
            href="restApi.html#mrs-core-rest-apis">Core REST APIs</a>
            manual.</p>
            <div class="sourceCode" id="cb65"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="va">url</span><span class="op">=</span>https://localhost:8443/myService/sakila/city</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-s</span> <span class="st">&quot;</span><span class="va">$url</span><span class="st">?q=</span><span class="va">$(</span><span class="bu">echo</span> <span class="st">&#39;{&quot;city&quot;:{&quot;$like&quot;:&quot;Van%&quot;}}&#39;</span><span class="kw">|</span><span class="ex">jq</span> <span class="at">-sRr</span> @uri<span class="va">)</span><span class="st">&quot;</span> <span class="kw">|</span> <span class="ex">jq</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;items&quot;</span><span class="ex">:</span> [</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;city&quot;</span><span class="ex">:</span> <span class="st">&quot;Vancouver&quot;</span>,</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;links&quot;</span><span class="ex">:</span> [</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">{</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;rel&quot;</span><span class="ex">:</span> <span class="st">&quot;self&quot;</span>,</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;href&quot;</span><span class="ex">:</span> <span class="st">&quot;/myService/sakila/city/565&quot;</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">}</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>      <span class="ex">],</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;cityId&quot;</span><span class="ex">:</span> 565,</span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;countryId&quot;</span><span class="ex">:</span> 20,</span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;lastUpdate&quot;</span><span class="ex">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span>,</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;_metadata&quot;</span><span class="ex">:</span> {</span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;etag&quot;</span><span class="ex">:</span> <span class="st">&quot;E5162E0999E4A016B8AEA25FE6E5C79C6F171B3A207B4143C20B1D3380C6BABA&quot;</span></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>      <span class="kw">}</span></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">],</span></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;limit&quot;</span><span class="ex">:</span> 25,</span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;offset&quot;</span><span class="ex">:</span> 0,</span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;hasMore&quot;</span><span class="ex">:</span> false,</span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;count&quot;</span><span class="ex">:</span> 1,</span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;links&quot;</span><span class="ex">:</span> [</span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span></span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;rel&quot;</span><span class="ex">:</span> <span class="st">&quot;self&quot;</span>,</span>
<span id="cb65-28"><a href="#cb65-28" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;href&quot;</span><span class="ex">:</span> <span class="st">&quot;/myService/sakila/city/&quot;</span></span>
<span id="cb65-29"><a href="#cb65-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span></span>
<span id="cb65-30"><a href="#cb65-30" aria-hidden="true" tabindex="-1"></a>  <span class="ex">]</span></span>
<span id="cb65-31"><a href="#cb65-31" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div>
            <h2 data-number="13.4" id="deploying-a-web-app"><span
            class="header-section-number">13.4</span> Deploying a Web
            App</h2>
            <p>The MySQL REST Service not only serves dynamic database
            schema data, but also static files. This feature can be used
            to upload a Progressive Web App (PWA) and have the MySQL
            Routers serve the PWA. In that case, no additional web
            server setup is needed.</p>
            <p>One popular PWA is the OpenAPI Web UI (also called <a
            href="https://github.com/swagger-api/swagger-ui">SwaggerUI</a>).
            It provides a user friendly interface to work with REST
            endpoints based on their OpenAPI definition.</p>
            <p>To deploy a OpenAPI Web UI instance for the REST service
            created above, right click on the REST service item DATABASE
            CONNECTIONS view and select the
            <code>Deploy OpenAPI Web UI</code> popup menu item.</p>
            <blockquote>
            <p>Please note that this operation requires an internet
            connection that can reach <code>github.com</code>.</p>
            </blockquote>
            <p>This will show the <code>MRS Content Set</code> dialog.
            Leave all settings unchanged and click the <code>OK</code>
            button.</p>
            <p>The OpenAPI Web UI will now be downloaded from
            <code>github.com</code>, patched with a dark mode and
            enabling authentication with MRS. After this operation is
            completed, a notification will be show stating
            <code>The MRS static content set has been added successfully. 10 files have been uploaded</code>.</p>
            <p>Now, navigate to the REST service item DATABASE
            CONNECTIONS view and right-click on the
            <code>/OpenApiUi</code> REST content set item. Select the
            <code>Open Content Set Request Path in Web Browser</code>
            popup menu item.</p>
            <p>This will open the URL
            <code>https://localhost:8443/myService/openApiUi/</code> in
            a web browser and render the OpenAPI Web UI for the
            <code>/myService</code>, giving access to the different HTTP
            methods for the <code>/myService/sakila/city</code>
            endpoint.</p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="14" id="quickstart-appendix"><span
            class="header-section-number">14</span> Quickstart
            Appendix</h1>
            <h2 data-number="14.1"
            id="enabling-ms-marketplace-on-vscodium"><span
            class="header-section-number">14.1</span> Enabling MS
            Marketplace on VSCodium</h2>
            <p>In order to use extensions from the MS Marketplace on <a
            href="https://vscodium.com/">VSCodium</a>, a configuration
            file has to be created.</p>
            <ol type="1">
            <li><p>Open an editor of your choice and paste the following
            content.</p>
            <div class="sourceCode" id="cb66"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;nameShort&quot;</span><span class="fu">:</span> <span class="st">&quot;Visual Studio Code&quot;</span><span class="fu">,</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;nameLong&quot;</span><span class="fu">:</span> <span class="st">&quot;Visual Studio Code&quot;</span><span class="fu">,</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;extensionsGallery&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;serviceUrl&quot;</span><span class="fu">:</span> <span class="st">&quot;https://marketplace.visualstudio.com/_apis/public/gallery&quot;</span><span class="fu">,</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;cacheUrl&quot;</span><span class="fu">:</span> <span class="st">&quot;https://vscode.blob.core.windows.net/gallery/index&quot;</span><span class="fu">,</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;itemUrl&quot;</span><span class="fu">:</span> <span class="st">&quot;https://marketplace.visualstudio.com/items&quot;</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div></li>
            <li><p>Save the file at the following location.</p>
            <ul>
            <li>MacOS:
            <code>$HOME/Library/Application Support/VSCodium/product.json</code></li>
            <li>Windows:
            <code>$HOME\AppData\Roaming\VSCodium\product.json</code></li>
            </ul></li>
            <li><p>Restart VSCodium.</p></li>
            </ol>
            <blockquote>
            <p>To revert to using VSCodium’s default marketplace, simply
            delete the project.json file and restart VSCodium.</p>
            </blockquote>
            <hr />
            <p><strong>MySQL REST Service DDL - SQL Extension
            Reference</strong></p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="15" id="introduction"><span
            class="header-section-number">15</span> Introduction</h1>
            <p>It has been an essential goal of the MySQL REST Service
            (MRS) to provide a management interface that feels familiar
            to MySQL developers and DBAs and integrates well into their
            existing processes.</p>
            <p>For this purpose the MySQL REST Service plugins directly
            into the <a
            href="https://dev.mysql.com/downloads/shell/">MySQL
            Shell</a> and <a
            href="https://marketplace.visualstudio.com/items?itemName=Oracle.mysql-shell-for-vs-code">MySQL
            Shell for VS Code</a>. It extends the available SQL commands
            to include DDL (Data Definition Language) statements that
            allow managing the MySQL REST Service in an easy and
            seamless way.</p>
            <p>This makes the process of creating a MySQL REST Service
            for your application as easy as creating a database schema
            or table.</p>
            <p><strong><em>Example</em></strong></p>
            <p>The following script configures the MySQL REST Service,
            creates a new REST service <code>/myService</code> and adds
            a REST schema <code>/sakila</code> and a REST data mapping
            view <code>/actor</code> that lists all actors and their
            film titles.</p>
            <div class="sourceCode" id="cb67"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>CONFIGURE REST METADATA;</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST SERVICE <span class="op">/</span>myService;</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="kw">USE</span> REST SERVICE <span class="op">/</span>myService;</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>sakila <span class="kw">FROM</span> `sakila`;</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="kw">USE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>sakila;</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>actor</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> `sakila`.`actor` {</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>    actorId: actor_id @SORTABLE,</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>    firstName: first_name,</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>    lastName: last_name,</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>    lastUpdate: last_update,</span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>    filmActor: sakila.film_actor @UNNEST {</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>        film: sakila.film @UNNEST {</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>            title: title</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>AUTHENTICATION REQUIRED;</span></code></pre></div>
            <blockquote>
            <p>Note: Please ensure to install the <a
            href="https://downloads.mysql.com/docs/sakila-db.zip">MySQL
            sakila example database schema</a> before running the MRS
            DDL script above.</p>
            </blockquote>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="16" id="configure-and-create"><span
            class="header-section-number">16</span> CONFIGURE and
            CREATE</h1>
            <h2 data-number="16.1" id="configure-rest-metadata"><span
            class="header-section-number">16.1</span> CONFIGURE REST
            METADATA</h2>
            <p>The CONFIGURE REST METADATA statement is used to perform
            the initial configuration of the MySQL REST Service on a
            MySQL Server instance or InnoDB Cluster/Set.</p>
            <p>It will create the
            <code>mysql_rest_service_metadata</code> database
            schema.</p>
            <p>Please note that the MySQL account used to execute the
            statement needs the required privileges to create database
            schemas.</p>
            <p><strong><em>Syntax</em></strong></p>
            <pre class="antlr"><code>configureRestMetadataStatement:
    CONFIGURE REST METADATA restMetadataOptions?
;

restMetadataOptions: (
        enabledDisabled
        | jsonOptions
        | updateIfAvailable
    )+
;</code></pre>
            <p>configureRestMetadataStatement ::= <img
            src="sections/sql/../../images/sql/configureRestMetadataStatement.svg"
            title="configureRestMetadataStatement"
            alt="configureRestMetadataStatement" /></p>
            <p>restMetadataOptions ::= <img
            src="sections/sql/../../images/sql/restMetadataOptions.svg"
            title="restMetadataOptions" alt="restMetadataOptions" /></p>
            <p><strong><em>Example</em></strong></p>
            <div class="sourceCode" id="cb69"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>CONFIGURE REST METADATA;</span></code></pre></div>
            <h3 data-number="16.1.1"
            id="enable-or-disable-the-mysql-rest-service"><span
            class="header-section-number">16.1.1</span> Enable or
            Disable the MySQL REST Service</h3>
            <p>The enabledDisabled option specifies if the MySQL REST
            Service should be enabled or disabled after the
            configuration operation. The default is set to enable the
            MySQL REST Service.</p>
            <pre class="antlr"><code>enabledDisabled:
    ENABLED
    | DISABLED
;</code></pre>
            <p>enabledDisabled ::= <img
            src="sections/sql/../../images/sql/enabledDisabled.svg"
            title="enabledDisabled" alt="enabledDisabled" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example configures the MySQL REST Service
            and enables it and updates the metadata schema, if
            possible.</p>
            <div class="sourceCode" id="cb71"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>CONFIGURE REST METADATA</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>    ENABLED</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">UPDATE</span> <span class="cf">IF</span> AVAILABLE;</span></code></pre></div>
            <p>The following example configures the MySQL REST Service
            and enables the GTID cache and sets authentication
            options.</p>
            <div class="sourceCode" id="cb72"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>CONFIGURE REST METADATA</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    ENABLED</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    OPTIONS {</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>        <span class="ot">&quot;gtid&quot;</span>: {</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;cache&quot;</span>: {</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>                <span class="ot">&quot;enable&quot;</span>: <span class="kw">true</span>,</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>                <span class="ot">&quot;refreshRate&quot;</span>: <span class="dv">5</span>,</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>                <span class="ot">&quot;refreshWhenIncreasesBy&quot;</span>: <span class="dv">500</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>        <span class="ot">&quot;authentication&quot;</span>: {</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;throttling&quot;</span>: {</span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>                <span class="ot">&quot;perAccount&quot;</span>: {</span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">&quot;minimumTimeBetweenRequestsInMs&quot;</span>: <span class="dv">1500</span>,</span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">&quot;maximumAttemptsPerMinute&quot;</span>: <span class="dv">5</span></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>                },</span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>                <span class="ot">&quot;perHost&quot;</span>: {</span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">&quot;minimumTimeBetweenRequestsInMs&quot;</span>: <span class="dv">1500</span>,</span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">&quot;maximumAttemptsPerMinute&quot;</span>: <span class="dv">5</span></span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a>                },</span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a>                <span class="ot">&quot;blockWhenAttemptsExceededInSeconds&quot;</span>: <span class="dv">120</span></span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb72-23"><a href="#cb72-23" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb72-24"><a href="#cb72-24" aria-hidden="true" tabindex="-1"></a>    };</span></code></pre></div>
            <h3 data-number="16.1.2"
            id="rest-configuration-json-options"><span
            class="header-section-number">16.1.2</span> REST
            Configuration Json Options</h3>
            <p>The jsonOptions allow to set a number of specific options
            for the MySQL REST Service. Specify the <code>MERGE</code>
            keyword to merge the given options with the existing
            options. If <code>MERGE</code> is omitted, all existing
            options will be overwritten with the specified options.</p>
            <pre class="antlr"><code>jsonOptions:
    MERGE? OPTIONS jsonValue
;</code></pre>
            <p>jsonOptions ::= <img
            src="sections/sql/../../images/sql/jsonOptions.svg"
            title="jsonOptions" alt="jsonOptions" /></p>
            <p>These options can include the following JSON keys.</p>
            <ul>
            <li><code>authentication</code>
            <ul>
            <li>Defines global authentication parameters valid for all
            MySQL Routers</li>
            <li><code>throttling</code>
            <ul>
            <li>Used to limit the authentication attempts to prevent
            brute force attacks on account information</li>
            <li><code>perAccount</code>
            <ul>
            <li>Settings that apply per MRS account</li>
            <li><code>minimumTimeBetweenRequestsInMs</code>
            <ul>
            <li>Sets the minimum time between connection attempts. If a
            client tries to authenticate faster than that the request
            will be rejected. The value is given in milliseconds.</li>
            </ul></li>
            <li><code>maximumAttemptsPerMinute</code>
            <ul>
            <li>Sets the maximum amount of attempts per minute. If a
            client tries to authenticate more often that that further
            attempts will be blocked for the amount of seconds specified
            in the <code>blockWhenAttemptsExceededInSeconds</code>
            value.</li>
            </ul></li>
            </ul></li>
            <li><code>perHost</code>
            <ul>
            <li>Settings that apply per host from where a client tries
            to connect</li>
            <li><code>minimumTimeBetweenRequestsInMs</code></li>
            <li><code>maximumAttemptsPerMinute</code></li>
            </ul></li>
            <li><code>blockWhenAttemptsExceededInSeconds</code>
            <ul>
            <li>Sets the amount of time the account or client host will
            be blocked from authentication. The value is given in
            seconds.</li>
            </ul></li>
            </ul></li>
            </ul></li>
            <li><code>gtid</code>
            <ul>
            <li>Defines global settings for the MySQL GTID handling,
            using the following fields.</li>
            <li><code>cache</code>
            <ul>
            <li>Is used to configure the MySQL Router’s GTID cache.</li>
            <li><code>enable</code>
            <ul>
            <li>If set to <code>true</code> GTIDs will be cached by the
            MySQL Router.</li>
            </ul></li>
            <li><code>refreshRate</code>
            <ul>
            <li>Defines how often the GTID cache will be refreshed. Set
            seconds, e.g. 5.</li>
            </ul></li>
            <li><code>refreshWhenIncreasesBy</code>
            <ul>
            <li>In addition to the time based refresh, the GTID cache
            can also be refreshed based on the number of transactions
            that happened since the last refresh. Set in number of
            transactions, e.g. 500.</li>
            </ul></li>
            </ul></li>
            </ul></li>
            <li><code>responseCache</code>
            <ul>
            <li>Global options for the REST endpoint response cache,
            which keeps an in-memory cache of responses to GET requests
            on tables, views, procedures and functions. To enable
            caching of an endpoint, you must also set the
            <code>cacheTimeToLive</code> option for each object to be
            cached.</li>
            <li><code>maxCacheSize</code>
            <ul>
            <li>Maximum size of the cache. Default is 1M.</li>
            </ul></li>
            </ul></li>
            <li><code>fileCache</code>
            <ul>
            <li>Global options for the static file data cache, which
            keeps an in-memory cache of responses to GET requests on
            content set files.</li>
            <li><code>maxCacheSize</code>
            <ul>
            <li>Maximum size of the cache. Default is 1M.</li>
            </ul></li>
            </ul></li>
            <li><code>defaultStaticContent</code>
            <ul>
            <li>Allows the definition of static content for the root
            path <code>/</code> that will be returned for file paths
            matching the given JSON keys. A JSON key
            <code>index.html</code> will be served as
            <code>/index.html</code> by the MySQL Router. The file
            content needs to be Base64 encoded. If the same JSON key is
            used for <code>defaultStaticContent</code> as well as for
            <code>defaultRedirects</code>, the redirect is
            prioritized.</li>
            </ul></li>
            <li><code>defaultRedirects</code>
            <ul>
            <li>Is used to define internal redirects performed by the
            MySQL Router. This can be used to expose content of a REST
            service on the root path <code>/</code>. A JSON key
            <code>index.html</code> holding the value
            <code>/myService/myContentSet/index.html</code> will exposed
            the corresponding file from the given path as
            <code>/index.html</code>.</li>
            </ul></li>
            <li><code>directoryIndexDirective</code>
            <ul>
            <li>Holds an ordered list of files that should be returned
            when a directory path has been requested. The first matching
            file that is available will be returned. The
            <code>directoryIndexDirective</code> is recursively applies
            to all directory paths exposed by the MySQL Router. To
            change the <code>directoryIndexDirective</code> for a given
            REST service or REST static content set, the corresponding
            option needs to be set for those objects.</li>
            </ul></li>
            </ul>
            <p>All other keys will be ignored and can be used to store
            custom metadata about the service. It is a good practice to
            include a unique prefix when adding custom keys to avoid
            them be overwritten by future MRS options.</p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following JsonValue will define the static content
            for <code>/index.html</code>, <code>/favicon.ico</code> and
            <code>/favicon.svg</code>. It will also direct the MySQL
            Router to return the contents of <code>/index.html</code> if
            the root path <code>/</code> is requested,
            e.g. <code>https://my.example.com/</code></p>
            <div class="sourceCode" id="cb74"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;defaultStaticContent&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;index.html&quot;</span><span class="fu">:</span> <span class="st">&quot;PCFET0NUW...&quot;</span><span class="fu">,</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;favicon.ico&quot;</span><span class="fu">:</span> <span class="st">&quot;AAABAAMAM...&quot;</span><span class="fu">,</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;favicon.svg&quot;</span><span class="fu">:</span> <span class="st">&quot;PD94bWwmV...&quot;</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;directoryIndexDirective&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;index.html&quot;</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <p>In this example an internal redirect of
            <code>/index.html</code> to
            <code>/myService/myContentSet/index.html</code> is
            performed, directly serving the <code>index.html</code> page
            of <code>/myService/myContentSet</code>. This overwrites the
            <code>index.html</code> definition in
            <code>defaultStaticContent</code>.</p>
            <p>This is useful to directly serve a specific app on the
            root path <code>/</code>.</p>
            <div class="sourceCode" id="cb75"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;defaultStaticContent&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;index.html&quot;</span><span class="fu">:</span> <span class="st">&quot;PCFET0NUW...&quot;</span><span class="fu">,</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;favicon.ico&quot;</span><span class="fu">:</span> <span class="st">&quot;AAABAAMAM...&quot;</span><span class="fu">,</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;favicon.svg&quot;</span><span class="fu">:</span> <span class="st">&quot;PD94bWwmV...&quot;</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;defaultRedirects&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;index.html&quot;</span><span class="fu">:</span> <span class="st">&quot;/myService/myContentSet/index.html&quot;</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;directoryIndexDirective&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;index.html&quot;</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <h3 data-number="16.1.3"
            id="updating-the-mysql-rest-service-metadata-schema"><span
            class="header-section-number">16.1.3</span> Updating the
            MySQL REST Service Metadata Schema</h3>
            <p>If the updateIfAvailable is defined, the configure
            operation will include an update of the
            <code>mysql_rest_service_metadata</code> database
            schema.</p>
            <pre class="antlr"><code>updateIfAvailable:
    UPDATE (IF AVAILABLE)?
;</code></pre>
            <p>updateIfAvailable ::= <img
            src="sections/sql/../../images/sql/updateIfAvailable.svg"
            title="updateIfAvailable" alt="updateIfAvailable" /></p>
            <h2 data-number="16.2" id="create-rest-service"><span
            class="header-section-number">16.2</span> CREATE REST
            SERVICE</h2>
            <p>The CREATE REST SERVICE statement is used to create a new
            or replace an existing REST service.</p>
            <p>The MySQL REST Service supports the creation of many
            individual REST services. It is good practice to create a
            separate REST service for each REST application.</p>
            <p>Each REST service can have its own options,
            authentication apps and supports a different set of
            authentication users.</p>
            <p>Please note that service will not be published at
            creation time by default. They will only be served by MySQL
            Routers that are bootstrapped for development purposes. To
            publish a REST service after all REST schemas and REST
            objects have been created please use the <a
            href="#alter-rest-service"><code>ALTER REST SERVICE</code></a>
            statement and set the PUBLISHED option.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>createRestServiceStatement:    (
        CREATE OR REPLACE REST SERVICE
        | CREATE REST SERVICE (
            IF NOT EXISTS
        )?
    ) serviceRequestPath restServiceOptions?
;

serviceRequestPath:
    serviceDevelopersIdentifier? requestPathIdentifier
;

restServiceOptions: (
        enabledDisabled
        | publishedUnpublished
        | restProtocol
        | restAuthentication
        | jsonOptions
        | comments
        | metadata
        | addAuthApp
        | removeAuthApp
    )+
;</code></pre>
            <p>createRestServiceStatement ::= <img
            src="sections/sql/../../images/sql/createRestServiceStatement.svg"
            title="CREATE REST SERVICE Statement"
            alt="CREATE REST SERVICE Statement" /></p>
            <p>serviceRequestPath ::= <img
            src="sections/sql/../../images/sql/serviceRequestPath.svg"
            title="serviceRequestPath" alt="serviceRequestPath" /></p>
            <p>restServiceOptions ::= <img
            src="sections/sql/../../images/sql/restServiceOptions.svg"
            title="restServiceOptions" alt="restServiceOptions" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example creates a REST service
            <code>/myService</code>. Please note that you need to set
            the <code>PUBLISHED</code> option to make the REST service
            publicly available.</p>
            <div class="sourceCode" id="cb78"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST SERVICE <span class="op">/</span>myService</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">COMMENT</span> <span class="ot">&quot;A simple REST service&quot;</span>;</span></code></pre></div>
            <p>The next example shows how to set the REST service
            options.</p>
            <div class="sourceCode" id="cb79"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST SERVICE <span class="op">/</span>myTestService</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>    COMMENTS <span class="ot">&quot;A simple REST service&quot;</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    AUTHENTICATION</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>        PATH <span class="ot">&quot;/authentication&quot;</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>        REDIRECTION <span class="kw">DEFAULT</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">VALIDATION</span> <span class="kw">DEFAULT</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>        PAGE CONTENT <span class="kw">DEFAULT</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    OPTIONS {</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>        <span class="ot">&quot;headers&quot;</span>: {</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;Access-Control-Allow-Credentials&quot;</span>: <span class="ot">&quot;true&quot;</span>,</span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;Access-Control-Allow-Headers&quot;</span>: <span class="ot">&quot;Content-Type, Authorization, X-Requested-With, Origin, X-Auth-Token&quot;</span>,</span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;Access-Control-Allow-Methods&quot;</span>: <span class="ot">&quot;GET, POST, PUT, DELETE, OPTIONS&quot;</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>        <span class="ot">&quot;http&quot;</span>: {</span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;allowedOrigin&quot;</span>: <span class="ot">&quot;auto&quot;</span></span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>        <span class="ot">&quot;logging&quot;</span>: {</span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;exceptions&quot;</span>: <span class="kw">true</span>,</span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;request&quot;</span>: {</span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>                <span class="ot">&quot;body&quot;</span>: <span class="kw">true</span>,</span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a>                <span class="ot">&quot;headers&quot;</span>: <span class="kw">true</span></span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb79-23"><a href="#cb79-23" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;response&quot;</span>: {</span>
<span id="cb79-24"><a href="#cb79-24" aria-hidden="true" tabindex="-1"></a>                <span class="ot">&quot;body&quot;</span>: <span class="kw">true</span>,</span>
<span id="cb79-25"><a href="#cb79-25" aria-hidden="true" tabindex="-1"></a>                <span class="ot">&quot;headers&quot;</span>: <span class="kw">true</span></span>
<span id="cb79-26"><a href="#cb79-26" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb79-27"><a href="#cb79-27" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb79-28"><a href="#cb79-28" aria-hidden="true" tabindex="-1"></a>        <span class="ot">&quot;returnInternalErrorDetails&quot;</span>: <span class="kw">true</span>,</span>
<span id="cb79-29"><a href="#cb79-29" aria-hidden="true" tabindex="-1"></a>        <span class="ot">&quot;includeLinksInResults&quot;</span>: <span class="kw">false</span></span>
<span id="cb79-30"><a href="#cb79-30" aria-hidden="true" tabindex="-1"></a>    };</span></code></pre></div>
            <h3 data-number="16.2.1"
            id="building-a-servicerequestpath"><span
            class="header-section-number">16.2.1</span> Building a
            ServiceRequestPath</h3>
            <p>When creating or accessing a REST service a
            <code>serviceRequestPath</code> has to be specified which
            uniquely identifies the REST service across the MySQL REST
            Service.</p>
            <p>It consists of three components.</p>
            <ul>
            <li><code>serviceDevelopersIdentifier</code> (optional) -
            When set, the REST service is only available to the
            developers listed.</li>
            <li><code>requestPathIdentifier</code> - The URL context
            root path the REST service will be served from.</li>
            </ul>
            <p>In many cases setting the
            <code>requestPathIdentifier</code> will be sufficient.</p>
            <p>The <code>serviceDevelopersIdentifier</code> will be set
            automatically when a REST service is cloned for development
            by a given developer. Should such a REST service be made
            available to more developers, the list of developers can be
            extended via an <a
            href="#alter-rest-service"><code>ALTER REST SERVICE</code></a>
            command.</p>
            <pre class="antlr"><code>serviceDevelopersIdentifier:
    serviceDeveloperIdentifier (
        COMMA serviceDeveloperIdentifier
    )* AT_SIGN
;

requestPathIdentifier:
    REST_REQUEST_PATH
    | BACK_TICK_QUOTED_ID
    | {if AnsiQuotes} DOUBLE_QUOTED_TEXT
;</code></pre>
            <p>serviceDevelopersIdentifier ::= <img
            src="sections/sql/../../images/sql/serviceDevelopersIdentifier.svg"
            title="serviceDevelopersIdentifier"
            alt="serviceDevelopersIdentifier" /></p>
            <p>requestPathIdentifier ::= <img
            src="sections/sql/../../images/sql/requestPathIdentifier.svg"
            title="requestPathIdentifier"
            alt="requestPathIdentifier" /></p>
            <h3 data-number="16.2.2"
            id="enabling-or-disabling-a-rest-service-at-creation-time"><span
            class="header-section-number">16.2.2</span> Enabling or
            Disabling a REST Service at Creation Time</h3>
            <p>The <code>enabledDisabled</code> option specifies whether
            the REST service should be enabled or disabled. REST
            services are created in the ENABLED state by default. The
            state can be changed via the <a
            href="#alter-rest-service"><code>ALTER REST SERVICE</code></a>
            statement.</p>
            <p>Please also see the <code>publishedUnpublished</code>
            option which determines if a REST service is served by MySQL
            Routers.</p>
            <pre class="antlr"><code>enabledDisabled:
    ENABLED
    | DISABLED
;</code></pre>
            <p>enabledDisabled ::= <img
            src="sections/sql/../../images/sql/enabledDisabled.svg"
            title="enabledDisabled" alt="enabledDisabled" /></p>
            <h3 data-number="16.2.3"
            id="publishing-a-rest-service-at-creation-time"><span
            class="header-section-number">16.2.3</span> Publishing a
            REST Service at Creation Time</h3>
            <p>The <code>publishedUnpublished</code> option specifies
            whether the REST service should be in <code>PUBLISHED</code>
            or <code>UNPUBLISHED</code> state. REST services are created
            in the <code>UNPUBLISHED</code> state by default.</p>
            <p>A REST service in <code>UNPUBLISHED</code> state will
            only be served by MySQL Routers that are bootstrapped for
            development using the
            <code>--mrs-development &lt;user&gt;</code> option. To make
            a REST service publicly available on all MySQL Routers it
            needs to be set to the <code>PUBLISHED</code> state using
            the <a
            href="#alter-rest-service"><code>ALTER REST SERVICE</code></a>
            statement.</p>
            <pre class="antlr"><code>publishedUnpublished:
    PUBLISHED
    | UNPUBLISHED
;</code></pre>
            <p>publishedUnpublished ::= <img
            src="sections/sql/../../images/sql/publishedUnpublished.svg"
            title="publishedUnpublished"
            alt="publishedUnpublished" /></p>
            <h3 data-number="16.2.4"
            id="setting-the-rest-service-protocol"><span
            class="header-section-number">16.2.4</span> Setting the REST
            Service Protocol</h3>
            <p>In general it is advised to run the MySQL REST Service
            using HTTPS only and changing the REST service protocol
            default (HTTPS) is not required.</p>
            <p>There might still be special use cases when configuring
            the MySQL Router using HTTP is acceptable, e.g. when using a
            reverse proxy on the same machine that is handling the HTTPS
            part and not using MySQL internal authentication which
            requires passwords to be transferred in plain text. But even
            in that specific example the REST service protocol must be
            set to HTTPS as the reverse proxy offers the REST service
            via HTTPS.</p>
            <p>Should there still be a configuration setup that requires
            the REST service to be accessible by clients via HTTP, the
            REST service protocol can be switched to HTTP.</p>
            <p>This setting is used in one place.</p>
            <ul>
            <li>When performing an OAuth2 authentication request, the
            protocol is used to build the redirect URL parameter in the
            first authentication request to the OAuth2 server. The
            protocol used in the redirect URL parameter must match the
            external protocol the REST service is reachable on. In case
            of using a reverse proxy, the <code>X-Forwarded-Proto</code>
            request header will overwrite this setting when made
            available by the proxy.</li>
            </ul>
            <pre class="antlr"><code>restProtocol:
    PROTOCOL (HTTP | HTTPS)
;</code></pre>
            <h3 data-number="16.2.5"
            id="assigning-a-rest-authentication-app-to-a-rest-service"><span
            class="header-section-number">16.2.5</span> Assigning a REST
            Authentication App to a REST Service</h3>
            <p>To enable authentication for a REST service, a REST
            authentication app needs to be linked to the REST service.
            REST authentication apps are created using the <a
            href="#create-rest-auth-app">CREATE REST AUTH APP</a>
            statement.</p>
            <p>REST authentication apps can be linked while creating the
            REST service or they can be added alter using the <a
            href="#alter-rest-service">ALTER REST SERVICE</a>
            statement.</p>
            <pre class="antlr"><code>addAuthApp:
    ADD AUTH APP authAppName (IF EXISTS)?
;</code></pre>
            <p>addAuthApp ::= <img
            src="sections/sql/../../images/sql/addAuthApp.svg"
            title="addAuthApp" alt="addAuthApp" /></p>
            <h3 data-number="16.2.6"
            id="rest-service-authentication-settings"><span
            class="header-section-number">16.2.6</span> REST Service
            Authentication Settings</h3>
            <p>Each REST service can be configured with specific
            authentication settings.</p>
            <pre class="antlr"><code>restAuthentication:
    AUTHENTICATION (
        authPath
        | authRedirection
        | authValidation
        | authPageContent
    )*
;

authPath:
    PATH quotedTextOrDefault
;

authRedirection:
    REDIRECTION quotedTextOrDefault
;

authValidation:
    VALIDATION quotedTextOrDefault
;

authPageContent:
    PAGE CONTENT quotedTextOrDefault
;</code></pre>
            <p>restAuthentication ::= <img
            src="sections/sql/../../images/sql/restAuthentication.svg"
            title="restAuthentication" alt="restAuthentication" /></p>
            <p>authPath ::= <img
            src="sections/sql/../../images/sql/authPath.svg"
            title="authPath" alt="authPath" /></p>
            <p>authRedirection ::= <img
            src="sections/sql/../../images/sql/authRedirection.svg"
            title="authRedirection" alt="authRedirection" /></p>
            <p>authValidation ::= <img
            src="sections/sql/../../images/sql/authValidation.svg"
            title="authValidation" alt="authValidation" /></p>
            <p>authPageContent ::= <img
            src="sections/sql/../../images/sql/authPageContent.svg"
            title="authPageContent" alt="authPageContent" /></p>
            <ul>
            <li>AUTHENTICATION PATH
            <ul>
            <li>The html path used for authentication handling for this
            REST service. Specified as a sub-path to the REST service
            path. If not explicitly set, the default is path is
            <code>/authentication</code> is used.</li>
            <li>The following endpoints will be made available for
            <code>&lt;service_path&gt;/&lt;auth_path&gt;</code>
            <ul>
            <li><code>/login</code></li>
            <li><code>/status</code></li>
            <li><code>/logout</code></li>
            <li><code>/completed</code></li>
            </ul></li>
            </ul></li>
            <li>AUTHENTICATION REDIRECTION
            <ul>
            <li>The authentication workflow will redirect to this URL
            after successful- or failed login. Specified as a sub-path
            to the REST service path. If this option is not set
            explicitly, the workflow will redirect to
            <code>&lt;service_path&gt;/&lt;auth_path&gt;/completed</code>
            if the
            <code>&lt;service_path&gt;/&lt;auth_path&gt;/login?onCompletionRedirect</code>
            parameter has not been set.</li>
            </ul></li>
            <li>AUTHENTICATION VALIDATION
            <ul>
            <li>A regular expression to validate the
            <code>&lt;service_path&gt;/&lt;auth_path&gt;/login?onCompletionRedirect</code>
            parameter. If set, this allows to limit the possible URLs an
            application can specify for this parameter.</li>
            </ul></li>
            <li>AUTHENTICATION PAGE CONTENT
            <ul>
            <li>If this option is set its content will replace the page
            content of the
            <code>&lt;service_path&gt;/&lt;auth_path&gt;/completed</code>
            page.</li>
            </ul></li>
            </ul>
            <h3 data-number="16.2.7"
            id="rest-service-json-options"><span
            class="header-section-number">16.2.7</span> REST Service
            Json Options</h3>
            <p>The jsonOptions allow to set a number of specific options
            for the service. Specify the <code>MERGE</code> keyword to
            merge the given options with the existing options. If
            <code>MERGE</code> is omitted, all existing options will be
            overwritten with the specified options.</p>
            <pre class="antlr"><code>jsonOptions:
    MERGE? OPTIONS jsonValue
;

jsonOptions ::=
![jsonOptions](../../images/sql/jsonOptions.svg &quot;jsonOptions&quot;)

These options can include the following JSON keys.

- `headers` - Allows the specification of HTTP headers. Please refer to the HTTP header documentation for details.
- `http`
  - `allowedOrigin` - The setting for Access-Control-Allow-Origin HTTP header. Can either be set to `*`, `null`, `&lt;origin&gt;` or `auto`. When set to `auto`, the MySQL Routers will return the origin of the specific client making the request.
- `httpMethodsAllowedForUnauthorizedAccess` - If a REST objects is configured to not require authentication, only GET is allowed by default. In a testing environment it might be desirable to allow all HTTP methods. In that case this option can be set to a list of allowed methods, e.g. [&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;]
- `logging`
  - `exceptions` - If exceptions should be logged.
  - `requests`
    - `body` - If the content of request bodies should be logged.
    - `headers` - If the content of request headers should be logged.
  - `response`
    - `body` - If the content of response bodies should be logged.
    - `headers` - If the content of response headers should be logged.
- `returnInternalErrorDetails` - If internal errors should be returned. This is useful for application development but should be turned off for production deployments.
- `includeLinksInResults` - If set to false, the results do not include navigation links.
- `defaultStaticContent` - Allows the definition of static content for `request path` of the REST service that will be returned for file paths matching the given JSON keys. A JSON key `index.html` will be served as `/myService/index.html` by the MySQL Router if the `request path` of the REST service has been set to `/myService`. The file content needs to be Base64 encoded. If the same JSON key is used for `defaultStaticContent` as well as for `defaultRedirects`, the redirect is prioritized.
- `defaultRedirects` - Is used to define internal redirects performed by the MySQL Router. This can be used to expose content on the `request path` of the of a REST service. A JSON key `index.html` holding the value `/myService/myContentSet/index.html` will exposed the corresponding file from the given path as `/myService/index.html` if the `request path` of the REST service has been set to `/myService`.
- `directoryIndexDirective` - Holds an ordered list of files that should be returned when a directory path has been requested. The first matching file that is available will be returned. The `directoryIndexDirective` is recursively applies to all directory paths exposed by the MySQL Router. To change the `directoryIndexDirective` for a given REST object, the corresponding option needs to be set for that object.
- `sqlQuery`
  - `timeout`
    - Number of milliseconds to allow for DB operations while serving an endpoint. DB requests taking longer than that time will be interrupted and an error 504 returned. Default 2000. Can be overridden at a per-endpoint basis.

All other keys will be ignored and can be used to store custom metadata about the service. It is a good practice to include a unique prefix when adding custom keys to avoid them be overwritten by future MRS options.

**_Examples_**

```json
{
    &quot;headers&quot;: {
        &quot;Access-Control-Allow-Credentials&quot;: &quot;true&quot;,
        &quot;Access-Control-Allow-Headers&quot;: &quot;Content-Type, Authorization, X-Requested-With, Origin, X-Auth-Token&quot;,
        &quot;Access-Control-Allow-Methods&quot;: &quot;GET, POST, PUT, DELETE, OPTIONS&quot;
    },
    &quot;http&quot;: {
        &quot;allowedOrigin&quot;: &quot;auto&quot;
    },
    &quot;logging&quot;: {
        &quot;exceptions&quot;: true,
        &quot;request&quot;: {
            &quot;body&quot;: true,
            &quot;headers&quot;: true
        },
        &quot;response&quot;: {
            &quot;body&quot;: true,
            &quot;headers&quot;: true
        }
    },
    &quot;returnInternalErrorDetails&quot;: true,
    &quot;includeLinksInResults&quot;: false
}</code></pre>
            <h3 data-number="16.2.8" id="rest-service-comments"><span
            class="header-section-number">16.2.8</span> REST Service
            Comments</h3>
            <p>The comments can hold a description of the REST service.
            The maximal length is of the comments string is 512
            characters.</p>
            <pre class="antlr"><code>comments:
    COMMENT textStringLiteral
;</code></pre>
            <p>comments ::= <img
            src="sections/sql/../../images/sql/comments.svg"
            title="comments" alt="comments" /></p>
            <h3 data-number="16.2.9" id="rest-service-metadata"><span
            class="header-section-number">16.2.9</span> REST Service
            Metadata</h3>
            <p>The metadata can hold any JSON data. It can later be
            consumed by a front end implementation to dynamically render
            certain attributes, like a specific icon or a color.</p>
            <pre class="antlr"><code>metadata:
    METADATA jsonValue
;</code></pre>
            <h2 data-number="16.3" id="clone-rest-service"><span
            class="header-section-number">16.3</span> CLONE REST
            SERVICE</h2>
            <p>Duplicates the contents of a REST service to a newly
            created one.</p>
            <p>All endpoints and roles belonging to the given service
            are copied.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>cloneRestServiceStatement:
    CLONE REST SERVICE serviceRequestPath NEW REQUEST PATH
        newServiceRequestPath
;</code></pre>
            <p>cloneRestServiceStatement ::= <img
            src="sections/sql/../../images/sql/cloneRestServiceStatement.svg"
            title="cloneRestServiceStatement"
            alt="cloneRestServiceStatement" /></p>
            <h2 data-number="16.4" id="create-rest-schema"><span
            class="header-section-number">16.4</span> CREATE REST
            SCHEMA</h2>
            <p>The CREATE REST SCHEMA statement is used to create a new
            or replace an existing REST schema. Each REST schema
            directly maps to a database schema and allows the database
            schema objects (tables, views and stored procedures) to be
            exposed via REST endpoints.</p>
            <blockquote>
            <p>Note: Adding a REST schema to a REST service does not
            automatically expose any database schema objects via REST.
            The corresponding
            <code>CREATE REST DATA MAPPING VIEW</code>,
            <code>CREATE REST PROCEDURE</code>,
            <code>CREATE REST FUNCTION</code> ddl commands need to be
            called to explicitly expose a database schema object.</p>
            </blockquote>
            <p>Each REST schema belongs to a REST service, which has to
            be created first. One REST service can hold many REST
            schemas.</p>
            <p>Each REST schema can have its own options, authentication
            apps and supports a different set of authentication
            users.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>createRestSchemaStatement:    (
        CREATE OR REPLACE REST SCHEMA
        | CREATE REST SCHEMA (
            IF NOT EXISTS
        )?
    ) schemaRequestPath? (
        ON SERVICE? serviceRequestPath
    )? FROM schemaName restSchemaOptions?
;

restSchemaOptions: (
        enabledDisabledPrivate
        | authenticationRequired
        | itemsPerPage
        | jsonOptions
        | comments
        | metadata
    )+
;</code></pre>
            <p>createRestSchemaStatement ::= <img
            src="sections/sql/../../images/sql/createRestSchemaStatement.svg"
            title="createRestSchemaStatement"
            alt="createRestSchemaStatement" /></p>
            <p>restSchemaOptions ::= <img
            src="sections/sql/../../images/sql/restSchemaOptions.svg"
            title="restSchemaOptions" alt="restSchemaOptions" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example creates a REST schema
            <code>/sakila</code> on the REST service
            <code>/myService</code>.</p>
            <div class="sourceCode" id="cb91"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>sakila <span class="kw">ON</span> SERVICE <span class="op">/</span>myService</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> `sakila`</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">COMMENT</span> <span class="ot">&quot;The sakila schema&quot;</span>;</span></code></pre></div>
            <h3 data-number="16.4.1"
            id="enabling-or-disabling-a-rest-schema-at-creation-time"><span
            class="header-section-number">16.4.1</span> Enabling or
            Disabling a REST Schema at Creation Time</h3>
            <p>The <code>enabledDisabledPrivate</code> option specifies
            whether the REST schema should be enabled, disabled or
            private when it is created.</p>
            <p>Setting a schema to private disables public access via
            HTTPS but keeps the schema available for private access from
            MRS scripts.</p>
            <pre class="antlr"><code>enabledDisabledPrivate:
    ENABLED
    | DISABLED
    | PRIVATE
;</code></pre>
            <p>enabledDisabledPrivate ::= <img
            src="sections/sql/../../images/sql/enabledDisabledPrivate.svg"
            title="enabledDisabledPrivate"
            alt="enabledDisabledPrivate" /></p>
            <h3 data-number="16.4.2"
            id="specifying-the-default-page-count"><span
            class="header-section-number">16.4.2</span> Specifying the
            Default Page Count</h3>
            <p>The <code>itemsPerPage</code> option can be used to
            specify the default number of items returned for queries run
            against this REST schema.</p>
            <pre class="antlr"><code>itemsPerPage:
    ITEMS PER PAGE itemsPerPageNumber
;</code></pre>
            <p>itemsPerPage ::= <img
            src="sections/sql/../../images/sql/itemsPerPage.svg"
            title="itemsPerPage" alt="itemsPerPage" /></p>
            <p>The number of items per page can also be specified for
            each REST object individually.</p>
            <h3 data-number="16.4.3" id="rest-schema-json-options"><span
            class="header-section-number">16.4.3</span> REST Schema Json
            Options</h3>
            <p>The jsonOptions allow to set a number of specific options
            for the schema. Specify the <code>MERGE</code> keyword to
            merge the given options with the existing options. If
            <code>MERGE</code> is omitted, all existing options will be
            overwritten with the specified options.</p>
            <pre class="antlr"><code>jsonOptions:
    MERGE? OPTIONS jsonValue
;

jsonOptions ::=
![jsonOptions](../../images/sql/jsonOptions.svg &quot;jsonOptions&quot;)

These options can include the following JSON keys.

- `defaultStaticContent` - This option serves the same purpose as described in the [REST Configuration Json Options](#rest-configuration-json-options).
- `defaultRedirects` - This option serves the same purpose as described in the [REST Configuration Json Options](#rest-configuration-json-options).
- `directoryIndexDirective` - This option serves the same purpose as described in the [REST Configuration Json Options](#rest-configuration-json-options).
- `sqlQuery` - see [REST Service JSON Options](#rest-service-json-options)

All other keys will be ignored and can be used to store custom metadata about the schema. It is a good practice to include a unique prefix when adding custom keys to avoid them be overwritten by future MRS options.

### REST Schema Comments

The comments can hold a description of the REST schema. The maximal length is of the comments string is 512 characters.

```antlr
comments:
    COMMENT textStringLiteral
;</code></pre>
            <p>comments ::= <img
            src="sections/sql/../../images/sql/comments.svg"
            title="comments" alt="comments" /></p>
            <h3 data-number="16.4.4" id="rest-schema-metadata"><span
            class="header-section-number">16.4.4</span> REST Schema
            Metadata</h3>
            <p>The metadata can hold any JSON data. It can later be
            consumed by a front end implementation to dynamically render
            certain attributes, like a specific icon or a color.</p>
            <pre class="antlr"><code>metadata:
    METADATA jsonValue
;</code></pre>
            <h2 data-number="16.5" id="create-rest-view"><span
            class="header-section-number">16.5</span> CREATE REST
            VIEW</h2>
            <p>The <code>CREATE REST DATA MAPPING VIEW</code> statement
            is used to add REST endpoints for database schema tables or
            views. Their data will be served as JSON documents.</p>
            <p>The structure of the served JSON documents is defined
            using an <a
            href="#defining-the-graphql-definition-for-a-rest-view">extended
            GraphQL syntax</a>. This allows to define even complex REST
            data mapping views in a simple and human readable way.
            Please see the corresponding <a
            href="#defining-the-graphql-definition-for-a-rest-view">GraphQL
            section</a> about how to design the GraphQL definition for a
            REST data mapping view.</p>
            <p>Please see the MRS Reference Manual to learn more about
            <a href="index.html#json-data-mapping-views">JSON data
            mapping views</a>.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>createRestViewStatement:    (
        CREATE OR REPLACE REST DATA? MAPPING? VIEW
        | CREATE REST DATA? MAPPING? VIEW (
            IF NOT EXISTS
        )?
    ) viewRequestPath (ON serviceSchemaSelector)? AS qualifiedIdentifier (
        CLASS restObjectName
    )? graphQlCrudOptions? graphQlObj? restObjectOptions?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;

restObjectOptions: (
        enabledDisabledPrivate
        | authenticationRequired
        | itemsPerPage
        | jsonOptions
        | comments
        | metadata
        | restViewMediaType
        | restViewFormat
        | restViewAuthenticationProcedure
    )+
;</code></pre>
            <p>createRestViewStatement ::= <img
            src="sections/sql/../../images/sql/createRestViewStatement.svg"
            title="createRestViewStatement"
            alt="createRestViewStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <p>restObjectOptions ::= <img
            src="sections/sql/../../images/sql/restObjectOptions.svg"
            title="restObjectOptions" alt="restObjectOptions" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example adds a REST data mapping view for
            the <code>sakila.city</code> database schema table.</p>
            <div class="sourceCode" id="cb97"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>city</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> `sakila`.`city` {</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>    cityId: city_id @SORTABLE,</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>    city: city,</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>    countryId: country_id,</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>    lastUpdate: last_update</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>AUTHENTICATION REQUIRED;</span></code></pre></div>
            <p>Querying the REST data mapping view using the TypeScript
            SDK returns the following JSON document.</p>
            <div class="sourceCode" id="cb98"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;city&quot;</span><span class="op">:</span> <span class="st">&quot;A Corua (La Corua)&quot;</span><span class="op">,</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;links&quot;</span><span class="op">:</span> [</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;rel&quot;</span><span class="op">:</span> <span class="st">&quot;self&quot;</span><span class="op">,</span></span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;href&quot;</span><span class="op">:</span> <span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>   ]<span class="op">,</span></span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;cityId&quot;</span><span class="op">:</span> 1<span class="op">,</span></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;countryId&quot;</span><span class="op">:</span> 87<span class="op">,</span></span>
<span id="cb98-12"><a href="#cb98-12" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="op">,</span></span>
<span id="cb98-13"><a href="#cb98-13" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;_metadata&quot;</span><span class="op">:</span> {</span>
<span id="cb98-14"><a href="#cb98-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;etag&quot;</span><span class="op">:</span> <span class="st">&quot;EE93452B41984F3F5BBB0395CCB2CED00F5C748FEEA4A36CCD749CC3F85B7CEA&quot;</span></span>
<span id="cb98-15"><a href="#cb98-15" aria-hidden="true" tabindex="-1"></a>   }</span>
<span id="cb98-16"><a href="#cb98-16" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>The next example adds the referenced table
            <code>sakila.country</code> to the REST data mapping
            view.</p>
            <div class="sourceCode" id="cb99"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>city</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> `sakila`.`city` {</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>    cityId: city_id @SORTABLE,</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    city: city,</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>    countryId: country_id,</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>    lastUpdate: last_update,</span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>    country: sakila.country {</span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>        countryId: country_id @SORTABLE,</span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>        country: country,</span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>        lastUpdate: last_update</span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a>AUTHENTICATION REQUIRED;</span></code></pre></div>
            <p>This is what the REST data mapping view looks like in the
            interactive MySQL REST Object Dialog in the MySQL Shell for
            VS Code extension.</p>
            <p><img
            src="sections/sql/../../images/vsc-mrs-rest-object-editor-2-referenced-table.png"
            title="Adding a Referenced Table"
            alt="Adding a Referenced Table" />ı</p>
            <p>Running a TypeScript SDK query against this new REST
            endpoint returns the following JSON Document.</p>
            <div class="sourceCode" id="cb100"><pre
            class="sourceCode ts"><code class="sourceCode typescript"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>ts<span class="op">&gt;</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;city&quot;</span><span class="op">:</span> <span class="st">&quot;A Corua (La Corua)&quot;</span><span class="op">,</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;links&quot;</span><span class="op">:</span> [</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;rel&quot;</span><span class="op">:</span> <span class="st">&quot;self&quot;</span><span class="op">,</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;href&quot;</span><span class="op">:</span> <span class="st">&quot;/myService/sakila/city/1&quot;</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;cityId&quot;</span><span class="op">:</span> 1<span class="op">,</span></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> {</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Spain&quot;</span><span class="op">,</span></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;countryId&quot;</span><span class="op">:</span> 87<span class="op">,</span></span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> 87<span class="op">,</span></span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:45:25.000000&quot;</span><span class="op">,</span></span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;_metadata&quot;</span><span class="op">:</span> {</span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;etag&quot;</span><span class="op">:</span> <span class="st">&quot;FFA2187AD4B98DF48EC40B3E807E0561A71D02C2F4F5A3B953AA6CB6E41CAD16&quot;</span></span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="16.5.1" id="preconditions"><span
            class="header-section-number">16.5.1</span>
            Preconditions</h3>
            <p>You define a REST data mapping view against a set of
            tables related by primary key (PK), foreign key (FK) or
            unique key constraints (UK). The following rules apply:</p>
            <ul>
            <li>The constraints must be declared in the database.</li>
            <li>The relationships type can be 1-to-1, 1-to-N and N-to-M
            (using a mapping table with two FKs). The N-to-M
            relationship can be thought of as the combination of 1-to-N
            and 1-to-1 relationship</li>
            <li>Columns of two or more tables with 1-to-1 or N-to-1
            relationships can be merged into the same JSON object via
            UNNEST. Otherwise a nested JSON object is created.</li>
            <li>Tables with a 1-to-N relationship create a nested JSON
            array.</li>
            <li>Each item in the data mapping view is one JSON object,
            which is typically a hierarchy of nested objects and
            arrays.</li>
            <li>Each application object is built from values originating
            from one or multiple rows from the underlying tables of that
            view. Typically, each table contributes to one (nested) JSON
            object.</li>
            </ul>
            <h3 data-number="16.5.2"
            id="enabling-or-disabling-a-rest-view-at-creation-time"><span
            class="header-section-number">16.5.2</span> Enabling or
            Disabling a REST View at Creation Time</h3>
            <p>The <code>enabledDisabledPrivate</code> option specifies
            whether the REST data mapping view should be enabled,
            disabled or private when it is created.</p>
            <p>Setting a REST data mapping view to private disables
            public access via HTTPS but keeps the schema available for
            private access from MRS scripts.</p>
            <pre class="antlr"><code>enabledDisabledPrivate:
    ENABLED
    | DISABLED
    | PRIVATE
;</code></pre>
            <p>enabledDisabledPrivate ::= <img
            src="sections/sql/../../images/sql/enabledDisabledPrivate.svg"
            title="enabledDisabledPrivate"
            alt="enabledDisabledPrivate" /></p>
            <h3 data-number="16.5.3"
            id="requiring-authentication-for-rest-views"><span
            class="header-section-number">16.5.3</span> Requiring
            Authentication for REST Views</h3>
            <p>The <code>authenticationRequired</code> option specifies
            if a REST data mapping view requires authentication before
            accessing its REST endpoints.</p>
            <pre class="antlr"><code>authenticationRequired:
    AUTHENTICATION NOT? REQUIRED
;</code></pre>
            <p>authenticationRequired ::= <img
            src="sections/sql/../../images/sql/authenticationRequired.svg"
            title="authenticationRequired"
            alt="authenticationRequired" /></p>
            <h3 data-number="16.5.4"
            id="specifying-the-page-count-for-rest-views"><span
            class="header-section-number">16.5.4</span> Specifying the
            Page Count for REST Views</h3>
            <p>The <code>itemsPerPage</code> option can be used to
            specify the number of items returned for queries run against
            the REST data mapping view.</p>
            <pre class="antlr"><code>itemsPerPage:
    ITEMS PER PAGE itemsPerPageNumber
;</code></pre>
            <p>itemsPerPage ::= <img
            src="sections/sql/../../images/sql/itemsPerPage.svg"
            title="itemsPerPage" alt="itemsPerPage" /></p>
            <p>The number of items per page can also be specified for
            each REST object individually.</p>
            <h3 data-number="16.5.5"
            id="setting-the-media-type-for-rest-views"><span
            class="header-section-number">16.5.5</span> Setting the
            Media Type for REST Views</h3>
            <p>If this REST data mapping view returns a specific MIME
            type it can be set via the <code>restViewMediaType</code>
            option. If MRS should try to automatically detect the file
            type based on the content of the file the
            <code>AUTODETECT</code> option can be used.</p>
            <pre class="antlr"><code>restViewMediaType:
    MEDIA TYPE (
        textStringLiteral
        | AUTODETECT
    )
;</code></pre>
            <p>restViewMediaType ::= <img
            src="sections/sql/../../images/sql/restViewMediaType.svg"
            title="restViewMediaType" alt="restViewMediaType" /></p>
            <h3 data-number="16.5.6"
            id="setting-the-result-format-for-rest-views"><span
            class="header-section-number">16.5.6</span> Setting the
            Result Format for REST Views</h3>
            <p>A REST data mapping view can return one of the following
            formats which can be set with the
            <code>restViewFormat</code> option.</p>
            <ul>
            <li>FEED: A list of result JSON objects</li>
            <li>ITEM: A single result item</li>
            <li>MEDIA: A single blob item. The
            <code>restViewMediaType</code> option is used to set the
            corresponding MIME type in this case.</li>
            </ul>
            <pre class="antlr"><code>restViewFormat:
    FORMAT (FEED | ITEM | MEDIA)
;</code></pre>
            <p>restViewFormat ::= <img
            src="sections/sql/../../images/sql/restViewFormat.svg"
            title="restViewFormat" alt="restViewFormat" /></p>
            <h3 data-number="16.5.7"
            id="using-a-custom-authentication-procedure-for-a-rest-view"><span
            class="header-section-number">16.5.7</span> Using a Custom
            Authentication Procedure for a REST View</h3>
            <p>In case the built in authentication handling does not
            cover the specific use case for a REST data mapping view, a
            custom MySQL stored procedure can be used to handle the
            authentication check for the given user and the requested
            CRUD operation.</p>
            <p>The referenced MySQL stored procedure has to be in the
            same schema as the database schema object and it has to
            accept the following parameters:
            <code>(IN user_id BINARY(16), IN schema VARCHAR(255), IN object VARCHAR(255), IN crud_operation VARCHAR(4))</code>.
            It needs to returns <code>true</code> or
            <code>false</code>.</p>
            <p>restViewAuthenticationProcedure ::= <img
            src="sections/sql/../../images/sql/restViewAuthenticationProcedure.svg"
            title="restViewAuthenticationProcedure"
            alt="restViewAuthenticationProcedure" /></p>
            <h3 data-number="16.5.8"
            id="defining-the-graphql-definition-for-a-rest-view"><span
            class="header-section-number">16.5.8</span> Defining the
            GraphQL definition for a REST View</h3>
            <pre class="antlr"><code>graphQlObj:
    OPEN_CURLY graphQlPair (COMMA graphQlPair)* CLOSE_CURLY
    | OPEN_CURLY CLOSE_CURLY
;

graphQlCrudOptions: (
        AT_INSERT
        | AT_NOINSERT
        | AT_UPDATE
        | AT_NOUPDATE
        | AT_DELETE
        | AT_NODELETE
        | AT_CHECK
        | AT_NOCHECK
    )+
;

graphQlPair:
    graphQlPairKey COLON graphQlPairValue (
        AT_IN
        | AT_OUT
        | AT_INOUT
    )? graphQlValueOptions? (
        AT_DATATYPE OPEN_PAR graphQlDatatypeValue CLOSE_PAR
    )? graphQlCrudOptions? graphQlValueJsonSchema? graphQlObj?
;

graphQlValueOptions: (
        AT_NOCHECK
        | AT_SORTABLE
        | AT_NOFILTERING
        | AT_ROWOWNERSHIP
        | AT_UNNEST
        | AT_KEY
    )+
;

graphQlValue:
    qualifiedIdentifier
    | graphQlObj
;

graphQlValueJsonSchema:
    JSON SCHEMA jsonValue
;</code></pre>
            <p>graphQlObj ::= <img
            src="sections/sql/../../images/sql/graphQlObj.svg"
            title="graphQlObj" alt="graphQlObj" /></p>
            <p>graphQlCrudOptions ::= <img
            src="sections/sql/../../images/sql/graphQlCrudOptions.svg"
            title="graphQlCrudOptions" alt="graphQlCrudOptions" /></p>
            <p>graphQlPair ::= <img
            src="sections/sql/../../images/sql/graphQlPair.svg"
            title="graphQlPair" alt="graphQlPair" /></p>
            <p>graphQlValue ::= <img
            src="sections/sql/../../images/sql/graphQlValue.svg"
            title="graphQlValue" alt="graphQlValue" /></p>
            <p>graphQlValueJsonSchema ::= <img
            src="sections/sql/../../images/sql/graphQlValueJsonSchema.svg"
            title="graphQlValueJsonSchema"
            alt="graphQlValueJsonSchema" /></p>
            <h3 data-number="16.5.9" id="rest-view-metadata"><span
            class="header-section-number">16.5.9</span> REST View
            Metadata</h3>
            <p>The metadata can hold any JSON data. It can later be
            consumed by a front end implementation to dynamically render
            certain attributes, like a specific icon or a color.</p>
            <pre class="antlr"><code>metadata:
    METADATA jsonValue
;</code></pre>
            <h3 data-number="16.5.10" id="json-options-for-views"><span
            class="header-section-number">16.5.10</span> Json Options
            for Views</h3>
            <p>The jsonOptions allow to set a number of specific options
            for the REST view. Specify the <code>MERGE</code> keyword to
            merge the given options with the existing options. If
            <code>MERGE</code> is omitted, all existing options will be
            overwritten with the specified options.</p>
            <pre class="antlr"><code>jsonOptions:
    MERGE? OPTIONS jsonValue
;

The following additional options can be configured for most database object endpoints in a JSON object through the OPTIONS clause (indentation means JSON object nesting):

- `http`
  - see [REST Service JSON Options](#rest-service-json-options)
- `logging`
  - see [REST Service JSON Options](#rest-service-json-options)
- `metadata`
  - `gtid` (_bool_)
    - if true, embeds the GTID assigned to DB change operations into the metadata of the response JSON object.  Enable when using with replication topologies, to ensure that changes made to an object will be reflected when reading it,regardless of where the read happens. Default true.
- `sqlQuery`
  - `embedWait` (_bool_)
    - if true, performs the wait described in the `wait` option directly in the DB query, as opposed to executing it beforehand in a separate statement.
  - `timeout` (_number_)
    - number of milliseconds to wait for the DB query to execute before it&#39;s terminated. Default is taken from the global `sqlQuery`.`timeout` option.
  - `wait` (_bool_)
    - when querying data from a secondary server, controls whether to wait until the transaction GTID specified through the `asof` clause are applied. Effectively enables read-own-writes semantics.
- `result`
  - `cacheTimeToLive` (_double_)
    - enables caching for GET requests. Specifies the number of seconds (including sub-second values) to keep the response in the cache, after which it will be discarded until a new request comes in or when the cache fills up.
  - `includeLinks` (_bool_)
    - whether to include links in returned JSON objects (default true)
- `returnInternalErrorDetails` (_bool_)
  - controls debug logging
- `disableAutomaticGrants` (_bool_)
  - when creating or altering REST objects a list of privileges are automatically granted to the `mysql_rest_service_data_provider` role in order for the MySQL Router to be able to access the referenced data in the MySQL Server. In some cases it might be desirable to turn off this automatic grant of privileges and use the `grants` option to specify a custom list of grants.
- `grants` (_object_ | _list_)
  - Either a single grant object or a list of grant objects that are executed in addition to the automatically generated grant statements for the REST object. These additional grants are needed when e.g. a stored PROCEDURE works with database TABLEs/VIEWs or calls other PROCEDUREs and FUNCTIONs.
  - `privileges` (_string_ | _list_)
    - Either a single privilege name or a list of privileges names or a list of privilege objects. The following MySQL privileges are allowed: &quot;ALTER&quot; | &quot;ALTER ROUTINE&quot; | &quot;CREATE&quot; | &quot;CREATE ROUTINE&quot; | &quot;CREATE TEMPORARY TABLES&quot; | &quot;CREATE VIEW&quot; | &quot;DELETE&quot; | &quot;DROP&quot; | &quot;EVENT&quot; | &quot;EXECUTE&quot; | &quot;INDEX&quot; | &quot;INSERT&quot; | &quot;LOCK TABLES&quot; | &quot;REFERENCES&quot; | &quot;SELECT&quot; | &quot;SHOW DATABASES&quot; | &quot;SHOW VIEW&quot; | &quot;TRIGGER&quot; | &quot;UPDATE&quot; | &quot;USAGE&quot;. A privilege object has two fields, `privilege` and `columnList` with the latter holding a list of column names.
  - `objectType` (_string_)
    - Specifies an option object type, either &quot;TABLE&quot; | &quot;FUNCTION&quot; | &quot;PROCEDURE&quot;.
  - `schema` (_string_)
    - The name of the database schema or `*`. The name needs to be provided without back ticks.
  - `object` (_string_)
    - The name of the database table/view/procedure/function or `*`. The name needs to be provided without back ticks.

**Examples for `grants`:**

The following example grants the SELECT privilege on the `mysql_rest_service_metadata`.`mrs_user` table.

```json
{
    &quot;grants&quot;: {
        &quot;privileges&quot;: &quot;SELECT&quot;,
        &quot;schema&quot;: &quot;mysql_rest_service_metadata&quot;,
        &quot;object&quot;: &quot;mrs_user&quot;
    }
}</code></pre>
            <p>This example grants the SELECT and UPDATE privileges on
            the
            <code>mysql_rest_service_metadata</code>.<code>mrs_user</code>
            table.</p>
            <div class="sourceCode" id="cb109"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;grants&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;privileges&quot;</span><span class="fu">:</span> <span class="ot">[</span> <span class="st">&quot;SELECT&quot;</span><span class="ot">,</span> <span class="st">&quot;UPDATE&quot;</span> <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;schema&quot;</span><span class="fu">:</span> <span class="st">&quot;mysql_rest_service_metadata&quot;</span><span class="fu">,</span></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;object&quot;</span><span class="fu">:</span> <span class="st">&quot;mrs_user&quot;</span> <span class="fu">}</span></span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <p>The following example grants two privileges.</p>
            <div class="sourceCode" id="cb110"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;grants&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;privileges&quot;</span><span class="fu">:</span> <span class="st">&quot;SELECT&quot;</span><span class="fu">,</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;schema&quot;</span><span class="fu">:</span> <span class="st">&quot;mysql_rest_service_metadata&quot;</span><span class="fu">,</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;object&quot;</span><span class="fu">:</span> <span class="st">&quot;msm_schema_version&quot;</span></span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;privileges&quot;</span><span class="fu">:</span> <span class="st">&quot;SELECT&quot;</span><span class="fu">,</span></span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;schema&quot;</span><span class="fu">:</span> <span class="st">&quot;mysql_rest_service_metadata&quot;</span><span class="fu">,</span></span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;object&quot;</span><span class="fu">:</span> <span class="st">&quot;mrs_user_schema_version&quot;</span></span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb110-13"><a href="#cb110-13" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb110-14"><a href="#cb110-14" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <p>This example grants the SELECT privilege only on the
            <code>id</code> and <code>name</code> columns of the
            <code>mysql_rest_service_metadata</code>.<code>mrs_user</code>
            table.</p>
            <div class="sourceCode" id="cb111"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;grants&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;privileges&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>            <span class="fu">{</span></span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>                <span class="dt">&quot;privilege&quot;</span><span class="fu">:</span> <span class="st">&quot;SELECT&quot;</span><span class="fu">,</span></span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a>                <span class="dt">&quot;columnList&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;id&quot;</span><span class="ot">,</span></span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;name&quot;</span></span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a>                <span class="ot">]</span></span>
<span id="cb111-10"><a href="#cb111-10" aria-hidden="true" tabindex="-1"></a>            <span class="fu">}</span></span>
<span id="cb111-11"><a href="#cb111-11" aria-hidden="true" tabindex="-1"></a>        <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb111-12"><a href="#cb111-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;schema&quot;</span><span class="fu">:</span> <span class="st">&quot;mysql_rest_service_metadata&quot;</span><span class="fu">,</span></span>
<span id="cb111-13"><a href="#cb111-13" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;object&quot;</span><span class="fu">:</span> <span class="st">&quot;mrs_user&quot;</span></span>
<span id="cb111-14"><a href="#cb111-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb111-15"><a href="#cb111-15" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <h2 data-number="16.6" id="create-rest-procedure"><span
            class="header-section-number">16.6</span> CREATE REST
            PROCEDURE</h2>
            <p>The <code>CREATE REST PROCEDURE</code> statement is used
            to add REST endpoints for database schema stored procedures.
            It uses the same <a
            href="#defining-the-graphql-definition-for-a-rest-view">extended
            GraphQL syntax</a> as defined for REST data mapping views to
            describe the REST procedure’s parameters and result sets.
            Please make sure to study the <a
            href="#defining-the-graphql-definition-for-a-rest-view">corresponding
            section</a>.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>createRestProcedureStatement:    (
        CREATE OR REPLACE REST PROCEDURE
        | CREATE REST PROCEDURE (
            IF NOT EXISTS
        )?
    ) procedureRequestPath (ON serviceSchemaSelector)? AS qualifiedIdentifier
        FORCE? (
        PARAMETERS restObjectName? graphQlObj
    )? restProcedureResult* restObjectOptions?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;

restObjectOptions: (
        enabledDisabledPrivate
        | authenticationRequired
        | itemsPerPage
        | jsonOptions
        | comments
        | metadata
        | restViewMediaType
        | restViewFormat
        | restViewAuthenticationProcedure
    )+
;

restProcedureResult:
    RESULT restResultName? graphQlObj
;</code></pre>
            <p>createRestProcedureStatement ::= <img
            src="sections/sql/../../images/sql/createRestProcedureStatement.svg"
            title="createRestProcedureStatement"
            alt="createRestProcedureStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <p>restObjectOptions ::= <img
            src="sections/sql/../../images/sql/restObjectOptions.svg"
            title="restObjectOptions" alt="restObjectOptions" /></p>
            <p>restProcedureResult ::= <img
            src="sections/sql/../../images/sql/restProcedureResult.svg"
            title="restProcedureResult" alt="restProcedureResult" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example adds a REST procedure for the
            <code>sakila.rewards_report</code> database schema
            procedure. It is assumed that a REST service
            <code>/myService</code> and a REST schema
            <code>/sakila</code> have already been created.</p>
            <div class="sourceCode" id="cb113"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">PROCEDURE</span> <span class="op">/</span>filmInStock</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> sakila.rewards_report;</span></code></pre></div>
            <p>The following example adds a REST procedure for the
            <code>sakila.filmInStock</code> database schema procedure,
            while explicitly specifying the list of parameters and the
            RESULT returned by the procedure.</p>
            <div class="sourceCode" id="cb114"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">PROCEDURE</span> <span class="op">/</span>filmInStock</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> sakila.film_in_stock</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="kw">PARAMETERS</span> MyServiceSakilaFilmInStockParams {</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>    pFilmId: p_film_id @IN,</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>    pStoreId: p_store_id @IN,</span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>    pFilmCount: p_film_count @OUT</span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a>RESULT MyServiceSakilaFilmInStock {</span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a>    inventoryId: inventory_id @DATATYPE(<span class="ot">&quot;int&quot;</span>)</span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a>};</span></code></pre></div>
            <h3 data-number="16.6.1"
            id="the-force-flag-for-procedures"><span
            class="header-section-number">16.6.1</span> The FORCE Flag
            For Procedures</h3>
            <p>In certain cases, a REST procedure may need to be created
            even though the actual database schema procedure is not yet
            available. To make the <code>CREATE REST PROCEDURE</code>
            succeed in this case, the <code>FORCE</code> flag must be
            specified.</p>
            <h2 data-number="16.7" id="create-rest-function"><span
            class="header-section-number">16.7</span> CREATE REST
            FUNCTION</h2>
            <p>The <code>CREATE REST FUNCTION</code> statement is used
            to add REST endpoints for database schema stored function.
            It uses the same <a
            href="#defining-the-graphql-definition-for-a-rest-view">extended
            GraphQL syntax</a> as defined for REST data mapping views to
            describe the REST functions’s parameters and result. Please
            make sure to study the <a
            href="#defining-the-graphql-definition-for-a-rest-view">corresponding
            section</a>.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>createRestFunctionStatement:    (
        CREATE OR REPLACE REST FUNCTION
        | CREATE REST FUNCTION (
            IF NOT EXISTS
        )?
    ) functionRequestPath (ON serviceSchemaSelector)? AS qualifiedIdentifier
        FORCE? (
        PARAMETERS restObjectName? graphQlObj
    )? restFunctionResult? restObjectOptions?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;

restObjectOptions: (
        enabledDisabledPrivate
        | authenticationRequired
        | itemsPerPage
        | jsonOptions
        | comments
        | metadata
        | restViewMediaType
        | restViewFormat
        | restViewAuthenticationProcedure
    )+
;

restFunctionResult:
    RESULT restResultName? graphQlObj
;</code></pre>
            <p>createRestFunctionStatement ::= <img
            src="sections/sql/../../images/sql/createRestFunctionStatement.svg"
            title="createRestFunctionStatement"
            alt="createRestFunctionStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <p>restObjectOptions ::= <img
            src="sections/sql/../../images/sql/restObjectOptions.svg"
            title="restObjectOptions" alt="restObjectOptions" /></p>
            <p>restFunctionResult ::= <img
            src="sections/sql/../../images/sql/restFunctionResult.svg"
            title="restFunctionResult" alt="restFunctionResult" /></p>
            <h3 data-number="16.7.1"
            id="the-force-flag-for-functions"><span
            class="header-section-number">16.7.1</span> The FORCE Flag
            For Functions</h3>
            <p>In certain cases, a REST function may need to be created
            even though the actual database schema function is not yet
            available. To make the <code>CREATE REST FUNCTION</code>
            succeed in this case, the <code>FORCE</code> flag must be
            specified.</p>
            <p>See <a href="#json-options-for-views">JSON
            Options</a></p>
            <h2 data-number="16.8" id="create-rest-content-set"><span
            class="header-section-number">16.8</span> CREATE REST
            CONTENT SET</h2>
            <p>The <code>CREATE REST CONTENT SET</code> statement is
            used to add REST endpoints for static content.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>createRestContentSetStatement:    (
        CREATE OR REPLACE REST CONTENT SET
        | CREATE REST CONTENT SET (
            IF NOT EXISTS
        )?
    ) contentSetRequestPath (
        ON SERVICE? serviceRequestPath
    )? (FROM directoryFilePath)? restContentSetOptions?
;

restContentSetOptions: (
        enabledDisabledPrivate
        | authenticationRequired
        | jsonOptions
        | comments
        | fileIgnoreList
        | loadScripts
    )+
;</code></pre>
            <p>createRestContentSetStatement ::= <img
            src="sections/sql/../../images/sql/createRestContentSetStatement.svg"
            title="createRestContentSetStatement"
            alt="createRestContentSetStatement" /></p>
            <p>restContentSetOptions ::= <img
            src="sections/sql/../../images/sql/restContentSetOptions.svg"
            title="restContentSetOptions"
            alt="restContentSetOptions" /></p>
            <h2 data-number="16.9" id="create-rest-content-file"><span
            class="header-section-number">16.9</span> CREATE REST
            CONTENT FILE</h2>
            <p>Adds a file to a content set.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>createRestContentFileStatement:    (
        CREATE OR REPLACE REST CONTENT FILE
        | CREATE REST CONTENT FILE (
            IF NOT EXISTS
        )?
    ) contentFileRequestPath ON (
        SERVICE? serviceRequestPath
    )? CONTENT SET contentSetRequestPath (
        (FROM directoryFilePath)
        | (BINARY? CONTENT textStringLiteral)
    ) restContentFileOptions?
;

restContentFileOptions: (
        enabledDisabledPrivate
        | authenticationRequired
        | jsonOptions
    )+
;

directoryFilePath:
    textStringLiteral
;</code></pre>
            <p>createRestContentFileStatement ::= <img
            src="sections/sql/../../images/sql/createRestContentFileStatement.svg"
            title="createRestContentFileStatement"
            alt="createRestContentFileStatement" /></p>
            <p>restContentFileOptions ::= <img
            src="sections/sql/../../images/sql/restContentFileOptions.svg"
            title="restContentFileOptions"
            alt="restContentFileOptions" /></p>
            <h2 data-number="16.10" id="create-rest-auth-app"><span
            class="header-section-number">16.10</span> CREATE REST AUTH
            APP</h2>
            <p>The <code>CREATE REST AUTH APP</code> statement is used
            to create a new REST authentication app. The MySQL REST
            Service supports a list of authentication vendors, including
            dedicated MRS authentication, MYSQL user account
            authentication as well as several OAuth2 vendors, like OCI
            OAuth2, Facebook and Google.</p>
            <p>Once a REST authentication app has been created, it can
            be linked to REST services to enable the required
            authentication support.</p>
            <p>The <a href="#create-rest-service">CREATE REST
            SERVICE</a> and <a href="#alter-rest-service">ALTER REST
            SERVICE</a> statements support the addition or removal of
            REST authentication apps when using the ADD AUTH APP and
            REMOVE AUTH APP clauses</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>createRestAuthAppStatement:    (
        CREATE OR REPLACE REST (
            AUTH
            | AUTHENTICATION
        ) APP
        | CREATE REST (
            AUTH
            | AUTHENTICATION
        ) APP (IF NOT EXISTS)?
    ) authAppName VENDOR (
        MRS
        | MYSQL
        | vendorName
    ) restAuthAppOptions?
;

restAuthAppOptions: (
        enabledDisabled
        | comments
        | allowNewUsersToRegister
        | defaultRole
        | appId
        | appSecret
        | url
    )+
;

allowNewUsersToRegister:
    (DO NOT)? ALLOW NEW USERS (
        TO REGISTER
    )?
;

defaultRole:
    DEFAULT ROLE textOrIdentifier
;

appId:
    (APP | CLIENT) ID textStringLiteral
;

appSecret:
    (APP | CLIENT) SECRET textStringLiteral
;

url:
    URL textStringLiteral
;

authAppName:
    textOrIdentifier
;</code></pre>
            <p>createRestAuthAppStatement ::= <img
            src="sections/sql/../../images/sql/createRestAuthAppStatement.svg"
            title="createRestAuthAppStatement"
            alt="createRestAuthAppStatement" /></p>
            <p>restAuthAppOptions ::= <img
            src="sections/sql/../../images/sql/restAuthAppOptions.svg"
            title="restAuthAppOptions" alt="restAuthAppOptions" /></p>
            <p>allowNewUsersToRegister ::= <img
            src="sections/sql/../../images/sql/allowNewUsersToRegister.svg"
            title="allowNewUsersToRegister"
            alt="allowNewUsersToRegister" /></p>
            <p>defaultRole ::= <img
            src="sections/sql/../../images/sql/defaultRole.svg"
            title="defaultRole" alt="defaultRole" /></p>
            <p>appId ::= <img
            src="sections/sql/../../images/sql/appId.svg" title="appId"
            alt="appId" /></p>
            <p>appSecret ::= <img
            src="sections/sql/../../images/sql/appSecret.svg"
            title="appSecret" alt="appSecret" /></p>
            <p>url ::= <img src="sections/sql/../../images/sql/url.svg"
            title="url" alt="url" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example creates an REST authentication app
            using the MRS authentication vendor and links it to the REST
            service <code>/myService</code>.</p>
            <div class="sourceCode" id="cb119"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST AUTHENTICATION APP <span class="ot">&quot;MRS&quot;</span> <span class="kw">ON</span> SERVICE <span class="op">/</span>myService VENDOR MRS;</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> REST SERVICE <span class="op">/</span>myService <span class="kw">ADD</span> AUTH APP <span class="ot">&quot;MRS&quot;</span>;</span></code></pre></div>
            <p>The next example creates an REST authentication app for
            the OCI OAuth2 service.</p>
            <div class="sourceCode" id="cb120"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST AUTHENTICATION APP <span class="ot">&quot;OCI&quot;</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>    VENDOR <span class="ot">&quot;OCI OAuth2&quot;</span></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>    URL <span class="ot">&quot;https://idcs-f84866196ff54e3b93a15651865191da.identity.oraclecloud.com:443&quot;</span>;</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>    CLIENT <span class="kw">ID</span> <span class="ot">&quot;f2abc2c0f19a4c40a1abc48edcdfe60b&quot;</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>    CLIENT SECRET <span class="ot">&quot;**********************&quot;</span></span></code></pre></div>
            <h3 data-number="16.10.1"
            id="rest-authentication-app-vendors"><span
            class="header-section-number">16.10.1</span> REST
            Authentication App Vendors</h3>
            <p>The following settings for <code>VENDOR</code> are
            currently supported.</p>
            <table>
            <caption>REST Authentication App Vendors</caption>
            <colgroup>
            <col style="width: 25%" />
            <col style="width: 25%" />
            <col style="width: 50%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Vendor</th>
            <th>Type</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td><code>MRS</code></td>
            <td>MRS</td>
            <td>Built in MRS authentication with dedicated MRS account
            management.</td>
            </tr>
            <tr class="even">
            <td><code>MYSQL</code></td>
            <td>MySQL Server</td>
            <td>MySQL server account authentication. This authentication
            method makes most sense for tooling and other applications
            with hardcoded accounts accessing the MySQL REST
            Service.</td>
            </tr>
            <tr class="odd">
            <td><code>Facebook</code></td>
            <td>OAuth2</td>
            <td>Performing authentication against the Facebook OAuth2
            servers using <code>Login with Facebook</code>.</td>
            </tr>
            <tr class="even">
            <td><code>Google</code></td>
            <td>OAuth2</td>
            <td>Performing authentication against the Google OAuth2
            servers using <code>Login with Google</code>.</td>
            </tr>
            <tr class="odd">
            <td><code>"OCI OAuth2"</code></td>
            <td>OAuth2</td>
            <td>Performing authentication against the OCI OAuth2
            service. See <a
            href="index.html#configuring-oci-oauth2">here</a> for
            details on how to configure the OCI Auth2 service.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="16.10.2"
            id="configuring-a-rest-authentication-app-for-oauth2-access"><span
            class="header-section-number">16.10.2</span> Configuring a
            REST Authentication App for OAuth2 access</h3>
            <p>Before creating a REST authentication app using an OAuth2
            vendor, it is required to register the application at the
            OAuth2 vendor beforehand. Please consult the documentation
            of the individual vendors for more details.</p>
            <p>For configuring the OCI OAuth2 service please see <a
            href="index.html#configuring-oci-oauth2">here</a>.</p>
            <p>Please note that the URL of the OAuth2 server is a
            required setting and must be specified.</p>
            <p>During the registration process an APP ID (also called
            CLIENT ID) as well as an APP SECRET (also called CLIENT
            SECRET) will be generated by the OAuth2 vendor to uniquely
            identify the application. Both, the APP ID as well as the
            APP SECRET need to be specified when creating the REST
            authentication app.</p>
            <p>In case of using OCI OAuth2 it is also required to
            specify the OCI “Domain URL” using the URL option.</p>
            <h2 data-number="16.11" id="create-rest-user"><span
            class="header-section-number">16.11</span> CREATE REST
            USER</h2>
            <p>The <code>CREATE REST USER</code> statement is used to
            add REST user to a REST authentication app.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>createRestUserStatement:    (
        CREATE OR REPLACE REST USER
        | CREATE REST USER (
            IF NOT EXISTS
        )?
    ) userName AT_SIGN authAppName (
        IDENTIFIED BY userPassword
    )? userOptions?
;

userName:
    textOrIdentifier
;

userPassword:
    textStringLiteral
;

userOptions:
 (accountLock | appOptions | jsonOptions)+
;

appOptions:
    APP OPTIONS jsonValue
;

accountLock:
    ACCOUNT (LOCK | UNLOCK)
;
</code></pre>
            <p>createRestUserStatement ::= <img
            src="sections/sql/../../images/sql/createRestUserStatement.svg"
            title="createRestUserStatement"
            alt="createRestUserStatement" /></p>
            <p>userOptions ::= <img
            src="sections/sql/../../images/sql/userOptions.svg"
            title="userOptions" alt="userOptions" /></p>
            <p>appOptions ::= <img
            src="sections/sql/../../images/sql/appOptions.svg"
            title="appOptions" alt="appOptions" /></p>
            <p>accountLock ::= <img
            src="sections/sql/../../images/sql/accountLock.svg"
            title="accountLock" alt="accountLock" /></p>
            <h2 data-number="16.12" id="create-rest-role"><span
            class="header-section-number">16.12</span> CREATE REST
            ROLE</h2>
            <p>Creates a REST role to the specified or currently active
            REST service. Role names must be unique across all
            services.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>createRestRoleStatement:    (
        CREATE OR REPLACE REST ROLE
        | CREATE REST ROLE (
            IF NOT EXISTS
        )?
    ) roleName (EXTENDS parentRoleName)? roleService? restRoleOptions?
;

restRoleOptions:
 (jsonOptions | comments)+
;</code></pre>
            <p>createRestRoleStatement ::= <img
            src="sections/sql/../../images/sql/createRestRoleStatement.svg"
            title="createRestRoleStatement"
            alt="createRestRoleStatement" /></p>
            <p>restRoleOptions ::= <img
            src="sections/sql/../../images/sql/restRoleOptions.svg"
            title="restRoleOptions" alt="restRoleOptions" /></p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="17" id="alter"><span
            class="header-section-number">17</span> ALTER</h1>
            <h2 data-number="17.1" id="alter-rest-service"><span
            class="header-section-number">17.1</span> ALTER REST
            SERVICE</h2>
            <p>An existing REST service can be altered by using the
            <code>ALTER REST SERVICE</code> statement. It uses the same
            <code>restServiceOptions</code> as used by the <a
            href="#create-rest-service"><code>CREATE REST SERVICE</code></a>
            statement. Please see the discussion of the options <a
            href="#create-rest-service">there</a>.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>alterRestServiceStatement:
    ALTER REST SERVICE serviceRequestPath (
        NEW REQUEST PATH newServiceRequestPath
    )? restServiceOptions?
;

restServiceOptions: (
        enabledDisabled
        | publishedUnpublished
        | restProtocol
        | restAuthentication
        | jsonOptions
        | comments
        | metadata
        | addAuthApp
        | removeAuthApp
    )+
;

addAuthApp:
    ADD AUTH APP authAppName (IF EXISTS)?
;

removeAuthApp:
    REMOVE AUTH APP authAppName (IF EXISTS)?
;</code></pre>
            <p>alterRestServiceStatement ::= <img
            src="sections/sql/../../images/sql/alterRestServiceStatement.svg"
            title="alterRestServiceStatement"
            alt="alterRestServiceStatement" /></p>
            <p>restServiceOptions ::= <img
            src="sections/sql/../../images/sql/restServiceOptions.svg"
            title="restServiceOptions" alt="restServiceOptions" /></p>
            <p>addAuthApp ::= <img
            src="sections/sql/../../images/sql/addAuthApp.svg"
            title="addAuthApp" alt="addAuthApp" /></p>
            <p>removeAuthApp ::= <img
            src="sections/sql/../../images/sql/removeAuthApp.svg"
            title="removeAuthApp" alt="removeAuthApp" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example alters a REST service
            <code>/myService</code> by setting a new comment.</p>
            <div class="sourceCode" id="cb124"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> REST SERVICE <span class="op">/</span>myService</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">COMMENT</span> <span class="ot">&quot;A simple, improved REST service&quot;</span>;</span></code></pre></div>
            <h2 data-number="17.2" id="alter-rest-auth-app"><span
            class="header-section-number">17.2</span> ALTER REST AUTH
            APP</h2>
            <p>Modifies attributes from an existing authentication app.
            See <a
            href="#create-rest-auth-app"><code>CREATE REST AUTH APP</code></a>
            for details about supported options.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>alterRestAuthAppStatement:
    ALTER REST (
        AUTH
        | AUTHENTICATION
    ) APP authAppName (
        NEW NAME newAuthAppName
    )? restAuthAppOptions?
;</code></pre>
            <p>alterRestAuthAppStatement ::= <img
            src="sections/sql/../../images/sql/alterRestAuthAppStatement.svg"
            title="alterRestAuthAppStatement"
            alt="alterRestAuthAppStatement" /></p>
            <h2 data-number="17.3" id="alter-rest-schema"><span
            class="header-section-number">17.3</span> ALTER REST
            SCHEMA</h2>
            <p>An existing REST schema can be altered by using the
            <code>ALTER REST SCHEMA</code> statement. It uses the same
            <code>restSchemaOptions</code> as used by the <a
            href="#create-rest-schema"><code>CREATE REST SCHEMA</code></a>
            statement. Please see the discussion of the options
            there.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>alterRestSchemaStatement:
    ALTER REST SCHEMA schemaRequestPath? (
        ON SERVICE? serviceRequestPath
    )? (
        NEW REQUEST PATH newSchemaRequestPath
    )? (FROM schemaName)? restSchemaOptions?
;

restSchemaOptions: (
        enabledDisabledPrivate
        | authenticationRequired
        | itemsPerPage
        | jsonOptions
        | comments
        | metadata
    )+
;</code></pre>
            <p>alterRestSchemaStatement ::= <img
            src="sections/sql/../../images/sql/alterRestSchemaStatement.svg"
            title="alterRestSchemaStatement"
            alt="alterRestSchemaStatement" /></p>
            <p>restSchemaOptions ::= <img
            src="sections/sql/../../images/sql/restSchemaOptions.svg"
            title="restSchemaOptions" alt="restSchemaOptions" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example alters a REST schema
            <code>/myService</code> to use a new request path
            <code>/myPublicService</code>.</p>
            <div class="sourceCode" id="cb127"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>sakila <span class="kw">ON</span> SERVICE <span class="op">/</span>myService</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">NEW</span> REQUEST PATH <span class="op">/</span>myPublicService;</span></code></pre></div>
            <h2 data-number="17.4" id="alter-rest-view"><span
            class="header-section-number">17.4</span> ALTER REST
            VIEW</h2>
            <p>The <code>ALTER REST DATA MAPPING VIEW</code> statement
            is used to alter existing REST data mapping views.</p>
            <p>Please see the corresponding <a
            href="#defining-the-graphql-definition-for-a-rest-view">GraphQL
            section</a> about how to design the GraphQL definition for a
            REST data mapping view.</p>
            <p>Please see the MRS Reference Manual to learn more about
            <a href="index.html#rest-views">JSON data mapping
            views</a>.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>alterRestViewStatement:
    ALTER REST DATA? MAPPING? VIEW viewRequestPath (
        ON serviceSchemaSelector
    )? (NEW REQUEST PATH newViewRequestPath)? (
        CLASS restObjectName graphQlCrudOptions? graphQlObj?
    )? restObjectOptions?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;

restObjectOptions: (
        enabledDisabledPrivate
        | authenticationRequired
        | itemsPerPage
        | jsonOptions
        | comments
        | metadata
        | restViewMediaType
        | restViewFormat
        | restViewAuthenticationProcedure
    )+
;</code></pre>
            <p>alterRestViewStatement ::= <img
            src="sections/sql/../../images/sql/alterRestViewStatement.svg"
            title="alterRestViewStatement"
            alt="alterRestViewStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <p>restObjectOptions ::= <img
            src="sections/sql/../../images/sql/restObjectOptions.svg"
            title="restObjectOptions" alt="restObjectOptions" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example alters a REST data mapping view for
            the <code>sakila.city</code> database schema table and sets
            a new list of fields.</p>
            <div class="sourceCode" id="cb129"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> REST <span class="kw">VIEW</span> <span class="op">/</span>city</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> `sakila`.`city` <span class="kw">AS</span> MyServiceSakilaCity {</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>    cityId: city_id @SORTABLE,</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>    city: city</span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>};</span></code></pre></div>
            <h2 data-number="17.5" id="alter-rest-procedure"><span
            class="header-section-number">17.5</span> ALTER REST
            PROCEDURE</h2>
            <p>The <code>ALTER REST PROCEDURE</code> statement is used
            to alter REST endpoints for database schema stored
            procedures.</p>
            <p>It uses the same <a
            href="#defining-the-graphql-definition-for-a-rest-view">extended
            GraphQL syntax</a> as defined for REST data mapping views to
            describe the REST procedure’s parameters and result sets.
            Please make sure to study the <a
            href="#defining-the-graphql-definition-for-a-rest-view">corresponding
            section</a>.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>alterRestProcedureStatement:
    ALTER REST PROCEDURE procedureRequestPath (
        ON serviceSchemaSelector
    )? (
        NEW REQUEST PATH newProcedureRequestPath
    )? (PARAMETERS restObjectName? graphQlObj)? restProcedureResult* restObjectOptions?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;

restObjectOptions: (
        enabledDisabledPrivate
        | authenticationRequired
        | itemsPerPage
        | jsonOptions
        | comments
        | metadata
        | restViewMediaType
        | restViewFormat
        | restViewAuthenticationProcedure
    )+
;</code></pre>
            <p>alterRestProcedureStatement ::= <img
            src="sections/sql/../../images/sql/alterRestProcedureStatement.svg"
            title="alterRestProcedureStatement"
            alt="alterRestProcedureStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <p>restObjectOptions ::= <img
            src="sections/sql/../../images/sql/restObjectOptions.svg"
            title="restObjectOptions" alt="restObjectOptions" /></p>
            <h2 data-number="17.6" id="alter-rest-function"><span
            class="header-section-number">17.6</span> ALTER REST
            FUNCTION</h2>
            <p>The <code>ALTER REST FUNCTION</code> statement is used to
            alter REST endpoints for database schema stored
            functions.</p>
            <p>It uses the same <a
            href="#defining-the-graphql-definition-for-a-rest-view">extended
            GraphQL syntax</a> as defined for REST data mapping views to
            describe the REST procedure’s parameters and result sets.
            Please make sure to study the <a
            href="#defining-the-graphql-definition-for-a-rest-view">corresponding
            section</a>.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>alterRestFunctionStatement:
    ALTER REST FUNCTION functionRequestPath (
        ON serviceSchemaSelector
    )? (
        NEW REQUEST PATH newFunctionRequestPath
    )? (PARAMETERS restObjectName? graphQlObj)? restFunctionResult* restObjectOptions?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;

restObjectOptions: (
        enabledDisabledPrivate
        | authenticationRequired
        | itemsPerPage
        | jsonOptions
        | comments
        | metadata
        | restViewMediaType
        | restViewFormat
        | restViewAuthenticationProcedure
    )+
;</code></pre>
            <p>alterRestFunctionStatement ::= <img
            src="sections/sql/../../images/sql/alterRestFunctionStatement.svg"
            title="alterRestFunctionStatement"
            alt="alterRestFunctionStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <p>restObjectOptions ::= <img
            src="sections/sql/../../images/sql/restObjectOptions.svg"
            title="restObjectOptions" alt="restObjectOptions" /></p>
            <h2 data-number="17.7" id="alter-rest-content-set"><span
            class="header-section-number">17.7</span> ALTER REST CONTENT
            SET</h2>
            <p>The <code>ALTER REST CONTENT SET</code> statement is used
            to alter REST content sets.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>alterRestContentSetStatement:
    ALTER REST CONTENT SET contentSetRequestPath (
        ON SERVICE? serviceRequestPath
    )? (
        NEW REQUEST PATH newContentSetRequestPath
    )? restContentSetOptions?
;

newContentSetRequestPath:
    requestPathIdentifier
;</code></pre>
            <p>alterRestContentSetStatement ::= <img
            src="sections/sql/../../images/sql/alterRestContentSetStatement.svg"
            title="alterRestContentSetStatement"
            alt="alterRestContentSetStatement" /></p>
            <h2 data-number="17.8" id="alter-rest-user"><span
            class="header-section-number">17.8</span> ALTER REST
            USER</h2>
            <p>Change password and options for an existing REST user
            account.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>alterRestUserStatement:
    ALTER REST USER userName AT_SIGN authAppName (
        IDENTIFIED BY userPassword
    )? userOptions?
;</code></pre>
            <p>createRestUserStatement ::= <img
            src="sections/sql/../../images/sql/createRestUserStatement.svg"
            title="createRestUserStatement"
            alt="createRestUserStatement" /></p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="18" id="drop"><span
            class="header-section-number">18</span> DROP</h1>
            <h2 data-number="18.1" id="drop-rest-service"><span
            class="header-section-number">18.1</span> DROP REST
            SERVICE</h2>
            <p>An existing REST service can be dropped by using the
            <code>DROP REST SERVICE</code> statement.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>dropRestServiceStatement:
    DROP REST SERVICE (
        IF EXISTS
    )? serviceRequestPath
;</code></pre>
            <p>dropRestServiceStatement ::= <img
            src="sections/sql/../../images/sql/dropRestServiceStatement.svg"
            title="dropRestServiceStatement"
            alt="dropRestServiceStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example drops a REST service with the
            request path <code>/myService</code>.</p>
            <div class="sourceCode" id="cb135"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> REST SERVICE <span class="op">/</span>myService;</span></code></pre></div>
            <h2 data-number="18.2" id="drop-rest-schema"><span
            class="header-section-number">18.2</span> DROP REST
            SCHEMA</h2>
            <p>An existing REST schema can be dropped by using the
            <code>DROP REST SCHEMA</code> statement.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>dropRestSchemaStatement:
    DROP REST SCHEMA (
        IF EXISTS
    )? schemaRequestPath (
        FROM SERVICE? serviceRequestPath
    )?
;</code></pre>
            <p>dropRestSchemaStatement ::= <img
            src="sections/sql/../../images/sql/dropRestSchemaStatement.svg"
            title="dropRestSchemaStatement"
            alt="dropRestSchemaStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example drops a REST schema using the
            request path <code>/myService</code>.</p>
            <div class="sourceCode" id="cb137"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>sakila <span class="kw">FROM</span> SERVICE <span class="op">/</span>myService;</span></code></pre></div>
            <h2 data-number="18.3" id="drop-rest-view"><span
            class="header-section-number">18.3</span> DROP REST
            VIEW</h2>
            <p>The <code>DROP REST DATA MAPPING VIEW</code> statement is
            used to drop existing REST data mapping views.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>dropRestViewStatement:
    DROP REST DATA? MAPPING? VIEW (
        IF EXISTS
    )? viewRequestPath (FROM serviceSchemaSelector)?
;</code></pre>
            <p>dropRestViewStatement ::= <img
            src="sections/sql/../../images/sql/dropRestViewStatement.svg"
            title="dropRestViewStatement"
            alt="dropRestViewStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example drops a REST data mapping view
            using the request path <code>/city</code>.</p>
            <div class="sourceCode" id="cb139"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> REST <span class="kw">VIEW</span> <span class="op">/</span>city</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila;</span></code></pre></div>
            <h2 data-number="18.4" id="drop-rest-procedure"><span
            class="header-section-number">18.4</span> DROP REST
            PROCEDURE</h2>
            <p>The <code>DROP REST PROCEDURE</code> statement is used to
            drop an existing REST procedures.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>dropRestProcedureStatement:
    DROP REST PROCEDURE (
        IF EXISTS
    )? procedureRequestPath (FROM serviceSchemaSelector)?
;</code></pre>
            <p>dropRestProcedureStatement ::= <img
            src="sections/sql/../../images/sql/dropRestProcedureStatement.svg"
            title="dropRestProcedureStatement"
            alt="dropRestProcedureStatement" /></p>
            <h2 data-number="18.5" id="drop-rest-function"><span
            class="header-section-number">18.5</span> DROP REST
            FUNCTION</h2>
            <p>The <code>DROP REST FUNCTION</code> statement is used to
            drop an existing REST functions.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>dropRestFunctionStatement:
    DROP REST FUNCTION (
        IF EXISTS
    )? functionRequestPath (FROM serviceSchemaSelector)?
;</code></pre>
            <p>dropRestFunctionStatement ::= <img
            src="sections/sql/../../images/sql/dropRestFunctionStatement.svg"
            title="dropRestFunctionStatement"
            alt="dropRestFunctionStatement" /></p>
            <h2 data-number="18.6" id="drop-rest-content-set"><span
            class="header-section-number">18.6</span> DROP REST CONTENT
            SET</h2>
            <p>The <code>DROP REST CONTENT SET</code> statement is used
            to drop an existing REST static content set.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>dropRestContentSetStatement:
    DROP REST CONTENT SET (
        IF EXISTS
    )? contentSetRequestPath (
        FROM SERVICE? serviceRequestPath
    )?
;</code></pre>
            <p>dropRestContentSetStatement ::= <img
            src="sections/sql/../../images/sql/dropRestContentSetStatement.svg"
            title="dropRestContentSetStatement"
            alt="dropRestContentSetStatement" /></p>
            <h2 data-number="18.7" id="drop-rest-content-file"><span
            class="header-section-number">18.7</span> DROP REST CONTENT
            FILE</h2>
            <p>Removes a file from a REST static content set.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>dropRestContentFileStatement:
    DROP REST CONTENT FILE (
        IF EXISTS
    )? contentFileRequestPath FROM (
        SERVICE? serviceRequestPath
    )? CONTENT SET contentSetRequestPath
;</code></pre>
            <p>dropRestContentFileStatement ::= <img
            src="sections/sql/../../images/sql/dropRestContentFileStatement.svg"
            title="dropRestContentFileStatement"
            alt="dropRestContentFileStatement" /></p>
            <h2 data-number="18.8" id="drop-rest-auth-app"><span
            class="header-section-number">18.8</span> DROP REST AUTH
            APP</h2>
            <p>The <code>DROP REST AUTH APP</code> statement is used to
            drop an existing REST authentication app from a REST
            service.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>dropRestAuthAppStatement:
    DROP REST (AUTH | AUTHENTICATION) APP (
        IF EXISTS
    )? authAppName
;</code></pre>
            <p>dropRestAuthAppStatement ::= <img
            src="sections/sql/../../images/sql/dropRestAuthAppStatement.svg"
            title="dropRestAuthAppStatement"
            alt="dropRestAuthAppStatement" /></p>
            <h2 data-number="18.9" id="drop-rest-user"><span
            class="header-section-number">18.9</span> DROP REST
            USER</h2>
            <p>The <code>DROP REST USER</code> statement is used to drop
            an existing REST user from a REST authentication app.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>dropRestUserStatement:
    DROP REST USER (IF EXISTS)? userName AT_SIGN
        authAppName
;</code></pre>
            <p>dropRestUserStatement ::= <img
            src="sections/sql/../../images/sql/dropRestUserStatement.svg"
            title="dropRestUserStatement"
            alt="dropRestUserStatement" /></p>
            <h2 data-number="18.10" id="drop-rest-role"><span
            class="header-section-number">18.10</span> DROP REST
            ROLE</h2>
            <p>Drops the named REST role.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>dropRestRoleStatement:
    DROP REST ROLE (IF EXISTS)? roleName roleService?
;</code></pre>
            <p>dropRestRoleStatement ::= <img
            src="sections/sql/../../images/sql/dropRestRoleStatement.svg"
            title="dropRestRoleStatement"
            alt="dropRestRoleStatement" /></p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="19" id="grant-and-revoke"><span
            class="header-section-number">19</span> GRANT and
            REVOKE</h1>
            <h2 data-number="19.1" id="grant-rest"><span
            class="header-section-number">19.1</span> GRANT REST</h2>
            <p>Grants REST privileges on endpoint objects to a role.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>grantRestPrivilegeStatement:
    GRANT REST privilegeList (
        (ON SERVICE? serviceRequestPathWildcard)
        | (
            ON serviceSchemaSelectorWildcard (
                OBJECT objectRequestPathWildcard
            )?
        )
    )? TO roleName roleService?
;

privilegeList:
    privilegeName
    | privilegeName COMMA privilegeList
;

privilegeName:
    CREATE
    | READ
    | UPDATE
    | DELETE
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;</code></pre>
            <p>grantRestPrivilegeStatement ::= <img
            src="sections/sql/../../images/sql/grantRestPrivilegeStatement.svg"
            title="grantRestPrivilegeStatement"
            alt="grantRestPrivilegeStatement" /></p>
            <p>privilegeList ::= <img
            src="sections/sql/../../images/sql/privilegeList.svg"
            title="privilegeList" alt="privilegeList" /></p>
            <p>privilegeName ::= <img
            src="sections/sql/../../images/sql/privilegeName.svg"
            title="privilegeName" alt="privilegeName" /></p>
            <h2 data-number="19.2" id="grant-rest-role"><span
            class="header-section-number">19.2</span> GRANT REST
            ROLE</h2>
            <p>Grants a REST role to a user account.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>grantRestRoleStatement:
    GRANT REST ROLE roleName roleService? TO userName AT_SIGN
        authAppName comments?
;</code></pre>
            <p>grantRestRoleStatement ::= <img
            src="sections/sql/../../images/sql/grantRestRoleStatement.svg"
            title="grantRestRoleStatement"
            alt="grantRestRoleStatement" /></p>
            <h2 data-number="19.3" id="revoke-rest"><span
            class="header-section-number">19.3</span> REVOKE REST</h2>
            <p>Revokes privileges on an REST endpoint object from a
            role.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>revokeRestPrivilegeStatement:
    REVOKE REST privilegeList (
        (ON SERVICE? serviceRequestPathWildcard)
        | (
            ON serviceSchemaSelectorWildcard (
                OBJECT objectRequestPathWildcard
            )?
        )
    )? FROM roleName roleService?
;</code></pre>
            <p>revokeRestPrivilegeStatement ::= <img
            src="sections/sql/../../images/sql/revokeRestPrivilegeStatement.svg"
            title="revokeRestPrivilegeStatement"
            alt="revokeRestPrivilegeStatement" /></p>
            <h2 data-number="19.4" id="revoke-rest-role"><span
            class="header-section-number">19.4</span> REVOKE REST
            ROLE</h2>
            <p>Revokes a role from a REST user.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>revokeRestRoleStatement:
    REVOKE REST ROLE roleName roleService? FROM userName AT_SIGN
        authAppName
;</code></pre>
            <p>revokeRestRoleStatement ::= <img
            src="sections/sql/../../images/sql/revokeRestRoleStatement.svg"
            title="revokeRestRoleStatement"
            alt="revokeRestRoleStatement" /></p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="20" id="use-and-show"><span
            class="header-section-number">20</span> USE and SHOW</h1>
            <h2 data-number="20.1" id="use"><span
            class="header-section-number">20.1</span> USE</h2>
            <p>An existing REST service can be dropped by using the
            <code>DROP REST SERVICE</code> statement.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>useStatement:
    USE REST serviceAndSchemaRequestPaths
;

serviceAndSchemaRequestPaths:
    SERVICE serviceRequestPath
    | serviceSchemaSelector
;</code></pre>
            <p>useStatement ::= <img
            src="sections/sql/../../images/sql/useStatement.svg"
            title="useStatement" alt="useStatement" /></p>
            <p>serviceAndSchemaRequestPaths ::= <img
            src="sections/sql/../../images/sql/serviceAndSchemaRequestPaths.svg"
            title="serviceAndSchemaRequestPaths"
            alt="serviceAndSchemaRequestPaths" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example makes the REST service with the
            request path <code>/myService</code> the new default REST
            service.</p>
            <div class="sourceCode" id="cb152"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="kw">USE</span> REST SERVICE <span class="op">/</span>myService;</span></code></pre></div>
            <p>After the default REST service has been set, the
            following statement can be used to set the default REST
            schema.</p>
            <div class="sourceCode" id="cb153"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="kw">USE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>sakila;</span></code></pre></div>
            <p>The next example shows how to set the default REST
            service and REST schema in a single statement.</p>
            <div class="sourceCode" id="cb154"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="kw">USE</span> REST SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila;</span></code></pre></div>
            <h2 data-number="20.2" id="show-rest-status"><span
            class="header-section-number">20.2</span> SHOW REST
            STATUS</h2>
            <p>The <code>SHOW REST STATUS</code> statement is used to
            get basic information about the current status of the MySQL
            REST Service.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestMetadataStatusStatement:
    SHOW REST METADATA? STATUS
;</code></pre>
            <p>showRestMetadataStatusStatement ::= <img
            src="sections/sql/../../images/sql/showRestMetadataStatusStatement.svg"
            title="showRestMetadataStatusStatement"
            alt="showRestMetadataStatusStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example drops a REST schema using the
            request path <code>/myService</code>.</p>
            <div class="sourceCode" id="cb156"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>SHOW REST STATUS;</span></code></pre></div>
            <h2 data-number="20.3" id="show-rest-services"><span
            class="header-section-number">20.3</span> SHOW REST
            SERVICES</h2>
            <p>The <code>SHOW REST SERVICES</code> statement lists all
            available REST services.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestServicesStatement:
    SHOW REST SERVICES
;</code></pre>
            <p>showRestServicesStatement ::= <img
            src="sections/sql/../../images/sql/showRestServicesStatement.svg"
            title="showRestServicesStatement"
            alt="showRestServicesStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example lists all REST services.</p>
            <div class="sourceCode" id="cb158"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>SHOW REST SERVICES;</span></code></pre></div>
            <h2 data-number="20.4" id="show-rest-schemas"><span
            class="header-section-number">20.4</span> SHOW REST
            SCHEMAS</h2>
            <p>The <code>SHOW REST SCHEMAS</code> statement lists all
            available REST schemas of the given or current REST
            service.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestSchemasStatement:
    SHOW REST SCHEMAS (
        (ON | FROM) SERVICE? serviceRequestPath
    )?
;</code></pre>
            <p>showRestSchemasStatement ::= <img
            src="sections/sql/../../images/sql/showRestSchemasStatement.svg"
            title="showRestSchemasStatement"
            alt="showRestSchemasStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example lists all REST schemas of the REST
            service using the request path <code>/myService</code>.</p>
            <div class="sourceCode" id="cb160"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>SHOW REST SERVICES <span class="kw">FROM</span> <span class="op">/</span>myService;</span></code></pre></div>
            <h2 data-number="20.5" id="show-rest-views"><span
            class="header-section-number">20.5</span> SHOW REST
            VIEWS</h2>
            <p>The <code>SHOW REST DATA MAPPING VIEWS</code> statement
            lists all available REST data mapping views of the given or
            current REST schema.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestViewsStatement:
    SHOW REST DATA? MAPPING? VIEWS (
        (ON | FROM) serviceSchemaSelector
    )?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;</code></pre>
            <p>showRestViewsStatement ::= <img
            src="sections/sql/../../images/sql/showRestViewsStatement.svg"
            title="showRestViewsStatement"
            alt="showRestViewsStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example lists all REST data mapping views
            of the given REST schema.</p>
            <div class="sourceCode" id="cb162"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>SHOW REST VIEWS <span class="kw">FROM</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila;</span></code></pre></div>
            <h2 data-number="20.6" id="show-rest-procedures"><span
            class="header-section-number">20.6</span> SHOW REST
            PROCEDURES</h2>
            <p>The <code>SHOW REST PROCEDURES</code> statement lists all
            available REST procedures of the given or current REST
            schema.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestProceduresStatement:
    SHOW REST PROCEDURES (
        (ON | FROM) serviceSchemaSelector
    )?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;</code></pre>
            <p>showRestProceduresStatement ::= <img
            src="sections/sql/../../images/sql/showRestProceduresStatement.svg"
            title="showRestProceduresStatement"
            alt="showRestProceduresStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <h2 data-number="20.7" id="show-rest-functions"><span
            class="header-section-number">20.7</span> SHOW REST
            FUNCTIONS</h2>
            <p>The <code>SHOW REST FUNCTIONS</code> statement lists all
            available REST functions of the given or current REST
            schema.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestFunctionsStatement:
    SHOW REST FUNCTIONS (
        (ON | FROM) serviceSchemaSelector
    )?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;</code></pre>
            <p>showRestFunctionsStatement ::= <img
            src="sections/sql/../../images/sql/showRestFunctionsStatement.svg"
            title="showRestFunctionsStatement"
            alt="showRestFunctionsStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example lists all REST procedures of the
            given REST schema.</p>
            <div class="sourceCode" id="cb165"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>SHOW REST PROCEDURES <span class="kw">FROM</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila;</span></code></pre></div>
            <h2 data-number="20.8" id="show-rest-content-sets"><span
            class="header-section-number">20.8</span> SHOW REST CONTENT
            SETS</h2>
            <p>The <code>SHOW REST CONTENT SETS</code> statement lists
            all available REST content sets of the given or current REST
            service.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestContentSetsStatement:
    SHOW REST CONTENT SETS (
        (ON | FROM) SERVICE? serviceRequestPath
    )?
;</code></pre>
            <p>showRestContentSetsStatement ::= <img
            src="sections/sql/../../images/sql/showRestContentSetsStatement.svg"
            title="showRestContentSetsStatement"
            alt="showRestContentSetsStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example lists all REST content sets of the
            given REST service.</p>
            <div class="sourceCode" id="cb167"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>SHOW REST CONTENT SETS <span class="kw">FROM</span> SERVICE <span class="op">/</span>myService;</span></code></pre></div>
            <h2 data-number="20.9" id="show-rest-content-files"><span
            class="header-section-number">20.9</span> SHOW REST CONTENT
            FILES</h2>
            <p>The <code>SHOW REST CONTENT SETS</code> statement lists
            all available REST content files of the given content
            set.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestContentFilesStatement:
    SHOW REST CONTENT FILES (
        ON
        | FROM
    ) (SERVICE? serviceRequestPath)? CONTENT SET contentSetRequestPath
;</code></pre>
            <p>showRestContentFilesStatement ::= <img
            src="sections/sql/../../images/sql/showRestContentFilesStatement.svg"
            title="showRestContentFilesStatement"
            alt="showRestContentFilesStatement" /></p>
            <h2 data-number="20.10"
            id="show-create-rest-content-set"><span
            class="header-section-number">20.10</span> SHOW CREATE REST
            CONTENT SET</h2>
            <p>Shows the CREATE SQL statement corresponding to the given
            content set.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showCreateRestContentSetStatement:
    SHOW CREATE REST CONTENT SET contentSetRequestPath (
        (ON | FROM) SERVICE? serviceRequestPath
    )?
;</code></pre>
            <p>showCreateRestContentSetStatement ::= <img
            src="sections/sql/../../images/sql/showCreateRestContentSetStatement.svg"
            title="showCreateRestContentSetStatement"
            alt="showCreateRestContentSetStatement" /></p>
            <h2 data-number="20.11"
            id="show-create-rest-content-file"><span
            class="header-section-number">20.11</span> SHOW CREATE REST
            CONTENT FILE</h2>
            <p>Shows the CREATE SQL statement corresponding to the given
            content file.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showCreateRestContentFileStatement:
    SHOW CREATE REST CONTENT FILE contentFileRequestPath (
        ON
        | FROM
    ) (SERVICE? serviceRequestPath)? CONTENT SET contentSetRequestPath
;</code></pre>
            <p>showCreateRestContentFileStatement ::= <img
            src="sections/sql/../../images/sql/showCreateRestContentFileStatement.svg"
            title="showCreateRestContentFileStatement"
            alt="showCreateRestContentFileStatement" /></p>
            <h2 data-number="20.12" id="show-rest-auth-apps"><span
            class="header-section-number">20.12</span> SHOW REST AUTH
            APPS</h2>
            <p>The <code>SHOW REST AUTH APPS</code> statement lists all
            available REST auth apps of the given or current REST
            service.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestAuthAppsStatement:
    SHOW REST AUTH APPS (
        (ON | FROM) SERVICE? serviceRequestPath
    )?
;</code></pre>
            <p>showRestAuthAppsStatement ::= <img
            src="sections/sql/../../images/sql/showRestAuthAppsStatement.svg"
            title="showRestAuthAppsStatement"
            alt="showRestAuthAppsStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example lists all REST auth apps of the
            given REST service.</p>
            <div class="sourceCode" id="cb172"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>SHOW REST AUTH APPS <span class="kw">FROM</span> SERVICE <span class="op">/</span>myService;</span></code></pre></div>
            <h2 data-number="20.13" id="show-create-rest-service"><span
            class="header-section-number">20.13</span> SHOW CREATE REST
            SERVICE</h2>
            <p>The <code>SHOW CREATE REST SERVICE</code> statement shows
            the corresponding DDL statement for the given REST
            service.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showCreateRestServiceStatement:
    SHOW CREATE REST SERVICE serviceRequestPath? (
        INCLUDING SCHEMA ENDPOINTS
    )?
;</code></pre>
            <p>showCreateRestServiceStatement ::= <img
            src="sections/sql/../../images/sql/showCreateRestServiceStatement.svg"
            title="showCreateRestServiceStatement"
            alt="showCreateRestServiceStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example shows the DDL statement for the
            REST service with request path <code>/myService</code>.</p>
            <div class="sourceCode" id="cb174"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>SHOW <span class="kw">CREATE</span> REST SERVICE <span class="op">/</span>myService;</span></code></pre></div>
            <h2 data-number="20.14" id="show-create-rest-schema"><span
            class="header-section-number">20.14</span> SHOW CREATE REST
            SCHEMA</h2>
            <p>The <code>SHOW CREATE REST SCHEMA</code> statement shows
            the corresponding DDL statement for the given REST
            schema.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showCreateRestSchemaStatement:
    SHOW CREATE REST SCHEMA schemaRequestPath? (
        (ON | FROM) SERVICE? serviceRequestPath
    )?
;</code></pre>
            <p>showCreateRestSchemaStatement ::= <img
            src="sections/sql/../../images/sql/showCreateRestSchemaStatement.svg"
            title="showCreateRestSchemaStatement"
            alt="showCreateRestSchemaStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example shows the DDL statement for the
            given REST schema.</p>
            <div class="sourceCode" id="cb176"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>SHOW <span class="kw">CREATE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>sakila <span class="kw">FROM</span> <span class="op">/</span>myService;</span></code></pre></div>
            <h2 data-number="20.15" id="show-create-rest-view"><span
            class="header-section-number">20.15</span> SHOW CREATE REST
            VIEW</h2>
            <p>The <code>SHOW CREATE REST DATA MAPPING VIEW</code>
            statement shows the corresponding DDL statement for the
            given REST data mapping view.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showCreateRestViewStatement:
    SHOW CREATE REST DATA? MAPPING? VIEW viewRequestPath (
        (ON | FROM) serviceSchemaSelector
    )?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;</code></pre>
            <p>showCreateRestViewStatement ::= <img
            src="sections/sql/../../images/sql/showCreateRestViewStatement.svg"
            title="showCreateRestViewStatement"
            alt="showCreateRestViewStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example shows the DDL statement for the
            given REST data mapping view.</p>
            <div class="sourceCode" id="cb178"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>SHOW <span class="kw">CREATE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>city <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila;</span></code></pre></div>
            <h2 data-number="20.16"
            id="show-create-rest-procedure"><span
            class="header-section-number">20.16</span> SHOW CREATE REST
            PROCEDURE</h2>
            <p>The <code>SHOW CREATE REST PROCEDURE</code> statement
            shows the corresponding DDL statement for the given REST
            procedure.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showCreateRestProcedureStatement:
    SHOW CREATE REST PROCEDURE procedureRequestPath (
        (ON | FROM) serviceSchemaSelector
    )?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;</code></pre>
            <p>showCreateRestProcedureStatement ::= <img
            src="sections/sql/../../images/sql/showCreateRestProcedureStatement.svg"
            title="showCreateRestProcedureStatement"
            alt="showCreateRestProcedureStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <h2 data-number="20.17" id="show-create-rest-function"><span
            class="header-section-number">20.17</span> SHOW CREATE REST
            FUNCTION</h2>
            <p>The <code>SHOW CREATE REST FUNCTION</code> statement
            shows the corresponding DDL statement for the given REST
            function.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showCreateRestFunctionStatement:
    SHOW CREATE REST FUNCTION functionRequestPath (
        (ON | FROM) serviceSchemaSelector
    )?
;

serviceSchemaSelector:
    (SERVICE serviceRequestPath)? SCHEMA schemaRequestPath
;</code></pre>
            <p>showCreateRestFunctionStatement ::= <img
            src="sections/sql/../../images/sql/showCreateRestFunctionStatement.svg"
            title="showCreateRestFunctionStatement"
            alt="showCreateRestFunctionStatement" /></p>
            <p>serviceSchemaSelector ::= <img
            src="sections/sql/../../images/sql/serviceSchemaSelector.svg"
            title="serviceSchemaSelector"
            alt="serviceSchemaSelector" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example shows the DDL statement for the
            given REST procedure.</p>
            <div class="sourceCode" id="cb181"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>SHOW <span class="kw">CREATE</span> REST <span class="kw">PROCEDURE</span> <span class="op">/</span>inventory_in_stock <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila;</span></code></pre></div>
            <h2 data-number="20.18" id="show-create-rest-auth-app"><span
            class="header-section-number">20.18</span> SHOW CREATE REST
            AUTH APP</h2>
            <p>The <code>SHOW CREATE REST AUTH APP</code> statement
            shows the corresponding DDL statement for the given REST
            auth app.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showCreateRestAuthAppStatement:
    SHOW CREATE REST AUTH APP authAppName
;</code></pre>
            <p>showCreateRestAuthAppStatement ::= <img
            src="sections/sql/../../images/sql/showCreateRestAuthAppStatement.svg"
            title="showCreateRestAuthAppStatement"
            alt="showCreateRestAuthAppStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example shows the DDL statement for the
            given REST auth app.</p>
            <div class="sourceCode" id="cb183"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>SHOW <span class="kw">CREATE</span> REST AUTH APP <span class="ot">&quot;MRS&quot;</span> <span class="kw">FROM</span> SERVICE <span class="op">/</span>myTestService;</span></code></pre></div>
            <h2 data-number="20.19" id="show-create-rest-role"><span
            class="header-section-number">20.19</span> SHOW CREATE REST
            ROLE</h2>
            <p>The <code>SHOW CREATE REST ROLE</code> statement shows
            the corresponding DDL statement for the given REST role.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showCreateRestRoleStatement:
    SHOW CREATE REST ROLE roleName roleService?
;

roleService:
    ON (
        ANY SERVICE
        | SERVICE? serviceRequestPath
    )
;</code></pre>
            <p>showCreateRestRoleStatement ::= <img
            src="sections/sql/../../images/sql/showCreateRestRoleStatement.svg"
            title="showCreateRestRoleStatement"
            alt="showCreateRestRoleStatement" /></p>
            <p>roleService ::= <img
            src="sections/sql/../../images/sql/roleService.svg"
            title="roleService" alt="roleService" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example shows the DDL statement for the
            given REST auth app.</p>
            <div class="sourceCode" id="cb185"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>SHOW <span class="kw">CREATE</span> REST <span class="kw">ROLE</span> `myrole` <span class="kw">ON</span> SERVICE <span class="op">/</span>myTestService;</span></code></pre></div>
            <h2 data-number="20.20" id="show-create-rest-user"><span
            class="header-section-number">20.20</span> SHOW CREATE REST
            USER</h2>
            <p>The <code>SHOW CREATE REST USER</code> statement shows
            the corresponding DDL statement for the given REST user
            account.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showCreateRestUserStatement:
    SHOW CREATE REST USER userName AT_SIGN authAppName
;</code></pre>
            <p>showCreateRestUserStatement ::= <img
            src="sections/sql/../../images/sql/showCreateRestUserStatement.svg"
            title="showCreateRestUserStatement"
            alt="showCreateRestUserStatement" /></p>
            <p><strong><em>Examples</em></strong></p>
            <p>The following example shows the DDL statement for the
            given REST auth app.</p>
            <div class="sourceCode" id="cb187"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>SHOW <span class="kw">CREATE</span> REST <span class="fu">USER</span> myuser@`MRS` <span class="kw">ON</span> SERVICE <span class="op">/</span>myTestService;</span></code></pre></div>
            <h2 data-number="20.21" id="show-rest-roles"><span
            class="header-section-number">20.21</span> SHOW REST
            ROLES</h2>
            <p>Shows a list of roles, optionally filtered by service or
            auth app and users that were granted the role.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestRolesStatement:
    SHOW REST ROLES (
        (ON | FROM) (
            ANY SERVICE
            | SERVICE? serviceRequestPath
        )
    )? (FOR userName? AT_SIGN authAppName)?
;</code></pre>
            <p>showRestRolesStatement ::= <img
            src="sections/sql/../../images/sql/showRestRolesStatement.svg"
            title="showRestRolesStatement"
            alt="showRestRolesStatement" /></p>
            <h2 data-number="20.22" id="show-rest-grants"><span
            class="header-section-number">20.22</span> SHOW REST
            GRANTS</h2>
            <p>Show the list of REST privileges that were granted to the
            given role.</p>
            <p><strong><em>SYNTAX</em></strong></p>
            <pre class="antlr"><code>showRestGrantsStatement:
    SHOW REST GRANTS FOR roleName (
        (ON | FROM) (
            ANY SERVICE
            | SERVICE? serviceRequestPath
        )
    )?
;</code></pre>
            <p>showRestGrantsStatement ::= <img
            src="sections/sql/../../images/sql/showRestGrantsStatement.svg"
            title="showRestGrantsStatement"
            alt="showRestGrantsStatement" /></p>
            <hr />
            <p><strong>MRS Core REST APIs</strong></p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="21" id="mrs-core-rest-apis"><span
            class="header-section-number">21</span> MRS Core REST
            APIs</h1>
            <p>This section provides examples of using the MySQL REST
            Service queries and other operations against tables and
            views after you have REST-enabled them.</p>
            <p>The examples in this section provide an insight into the
            direct, low-level REST API calls that can be made against
            the MySQL REST Service. They can be used to gain a deep
            understanding of how MRS works.</p>
            <p>When developing an application with MRS, it is
            recommended to use a higher-level MRS Software Development
            Kit (SDK) instead. Please check if a <a
            href="#document-top">SDK</a> has already been made
            available for your programming language and platform.</p>
            <h2 data-number="21.1"
            id="about-mrs-restful-web-services"><span
            class="header-section-number">21.1</span> About MRS RESTful
            Web Services</h2>
            <p>MRS supports the creation of an unlimited amount of
            distinct RESTful Web Services. You can also refer to them as
            MRS services. Each of those MRS services usually maps to one
            (or more) web applications.</p>
            <p>After you create a RESTful Web Service, you can access it
            by navigating to the following URL.</p>
            <p>Pattern:</p>
            <pre><code>https://&lt;HOSTNAME:PORT&gt;/&lt;MRS_SERVICE_PATH&gt;/&lt;MRS_DATABASE_SCHEMA_PATH&gt;/&lt;MRS_DATABASE_OBJECT_PATH&gt;/</code></pre>
            <ul>
            <li><code>HOSTNAME:PORT/MRS_SERVICE_PATH</code>: Specifies
            the address at which the given MRS service is running. You
            can also refer to it as the MRS service URI.</li>
            <li><code>MRS_DATABASE_SCHEMA_PATH</code>: Specifies the
            path that you provided while REST-enabling your database
            schema. By default, it is the name of the schema.</li>
            <li><code>MRS_DATABASE_OBJECT_PATH</code>: Specifies the
            path that you provided while REST-enabling your database
            object (TABLE, VIEW or PROCEDURE).</li>
            </ul>
            <p>Together, these values comprise the MRS endpoint URL.</p>
            <p>Example:</p>
            <pre><code>https://localhost:8000/mrs/sakila/actor</code></pre>
            <h2 data-number="21.2"
            id="about-request-path-syntax-requirements"><span
            class="header-section-number">21.2</span> About Request Path
            Syntax Requirements</h2>
            <p>To prevent path-based attacks, MRS requires the syntax of
            the path element of each request URL to conform to the
            following rules:</p>
            <ul>
            <li>Is not empty or whitespace-only</li>
            <li>Does not contain any of the following characters: ?, #,
            ;, %</li>
            <li>Does not contain the null character (000)</li>
            <li>Does not contain characters in the range: 001-031</li>
            <li>Does not end with white space or a period (.)</li>
            <li>Does not contain double forward slash (//) or double
            back slash(\)</li>
            <li>Does not contain two or more periods in sequence (.., …,
            and so on)</li>
            <li>Total length is {<span class="citation"
            data-cites="value">@value</span> #MAX_PATH_LENGTH}
            characters or less</li>
            <li>Does not match any of the following names (case
            insensitive), with or without file extensions: CON, PRN,
            AUX, CLOCK$, NUL, COM0, COM1, COM2, COM3, COM4, COM5, COM6,
            COM7, COM8, COM9, LPT0, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6,
            LPT7, LPT8, LPT9</li>
            </ul>
            <p>If you intend to enable REST endpoints for database
            objects, then avoid object names that do not comply with
            these requirements. For example, do not create a table named
            #EMPS. If you do want to auto-REST enable objects that have
            non-compliant names, then you must use an alias that
            complies with the requirements.</p>
            <p>These requirements are applied to the URL decoded form of
            the URL, to prevent attempted circumvention of percent
            encodings.</p>
            <h2 data-number="21.3"
            id="about-curl-and-testing-restful-services"><span
            class="header-section-number">21.3</span> About cURL and
            Testing RESTful Services</h2>
            <p>Usually you can navigate to a URL of a RESTful service
            using a web browser. However, another way to test it is by
            using a command line tool like cURL.</p>
            <p>cURL enables you to see and control what data is being
            sent to and received from a RESTful service.</p>
            <pre><code>curl -i https://localhost:8000/mrs/sakila/actor/2</code></pre>
            <p>This example produces a response like the following:</p>
            <pre><code>{
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;http://localhost:8000/mrs/sakila/actor/2&quot;
        }
    ],
    &quot;actor_id&quot;: 2,
    &quot;last_name&quot;: &quot;WAHLBERG&quot;,
    &quot;first_name&quot;: &quot;NICK&quot;,
    &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
}</code></pre>
            <p>The -i option tells cURL to display the HTTP headers
            returned by the server.</p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="22" id="mrs-rest-queries"><span
            class="header-section-number">22</span> MRS REST
            Queries</h1>
            <p>A MRS REST service provides access to one or more schemas
            (and their metadata) as well as their comprising database
            objects such as tables, views and procedures (and their
            metadata).</p>
            <h2 data-number="22.1" id="get-schema-metadata"><span
            class="header-section-number">22.1</span> Get Schema
            Metadata</h2>
            <p>This example retrieves a list of resources available
            through the specified schema alias. It shows RESTful
            services that are created by enabling a table, view or
            procedure.</p>
            <p>Pattern:</p>
            <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/metadata-catalog/</code></pre>
            <p>Example:</p>
            <pre><code>GET http://localhost:8000/mrs/sakila/metadata-catalog/</code></pre>
            <p>Result:</p>
            <pre><code>{
    &quot;items&quot;: [
        {
            &quot;name&quot;: &quot;/actor&quot;,
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;describes&quot;,
                    &quot;href&quot;: &quot;/mrs/sakila/actor&quot;
                },
                {
                    &quot;rel&quot;: &quot;canonical&quot;,
                    &quot;href&quot;: &quot;/mrs/sakila/metadata-catalog/actor&quot;
                }
            ]
        },
        {
            &quot;name&quot;: &quot;/address&quot;,
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;describes&quot;,
                    &quot;href&quot;: &quot;/mrs/sakila/address&quot;
                },
                {
                    &quot;rel&quot;: &quot;canonical&quot;,
                    &quot;href&quot;: &quot;/mrs/sakila/metadata-catalog/address&quot;
                }
            ]
        }
    ],
    &quot;limit&quot;: 25,
    &quot;offset&quot;: 0,
    &quot;hasMore&quot;: false,
    &quot;count&quot;: 2,
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/metadata-catalog/&quot;
        }
    ]
}</code></pre>
            <p>Each available resource has two hyperlinks:</p>
            <ul>
            <li>The link with a “describes” relation points to the
            actual resource</li>
            <li>The link with a “canonical” relation points to the
            resource metadata</li>
            </ul>
            <h2 data-number="22.2" id="get-object-metadata"><span
            class="header-section-number">22.2</span> Get Object
            Metadata</h2>
            <p>This example retrieves the metadata (which describes the
            object) of an individual object. The location of the
            metadata is specified by the canonical link relation.</p>
            <p>Pattern:</p>
            <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/metadata-catalog/&lt;ObjectAlias&gt;/</code></pre>
            <p>Example:</p>
            <pre><code>GET http://localhost:8000/mrs/sakila/metadata-catalog/actor/</code></pre>
            <p>Result:</p>
            <pre><code>{
    &quot;name&quot;: &quot;/actor&quot;,
    &quot;primaryKey&quot;: [
        &quot;actor_id&quot;
    ],
    &quot;members&quot;: [
        {
            &quot;name&quot;: &quot;actor_id&quot;,
            &quot;type&quot;: &quot;null&quot;
        },
        {
            &quot;name&quot;: &quot;first_name&quot;,
            &quot;type&quot;: &quot;null&quot;
        },
        {
            &quot;name&quot;: &quot;last_name&quot;,
            &quot;type&quot;: &quot;null&quot;
        },
        {
            &quot;name&quot;: &quot;last_update&quot;,
            &quot;type&quot;: &quot;string&quot;
        }
    ],
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;collection&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/metadata-catalog&quot;,
            &quot;mediaType&quot;: &quot;application/json&quot;
        },
        {
            &quot;rel&quot;: &quot;canonical&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/metadata-catalog/actor&quot;
        },
        {
            &quot;rel&quot;: &quot;describes&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/actor&quot;
        }
    ]
}</code></pre>
            <h2 data-number="22.3" id="get-object-data"><span
            class="header-section-number">22.3</span> Get Object
            Data</h2>
            <p>This example retrieves the data in the object. Each row
            in the object corresponds to a JSON object embedded within
            the JSON array</p>
            <p>Pattern:</p>
            <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/</code></pre>
            <p>Example:</p>
            <pre><code>GET http://localhost:8000/mrs/sakila/actor/</code></pre>
            <p>Result:</p>
            <pre><code>{
    &quot;items&quot;: [
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;/mrs/sakila/actor/1&quot;
                }
            ],
            &quot;actor_id&quot;: 1,
            &quot;last_name&quot;: &quot;GUINESSS&quot;,
            &quot;first_name&quot;: &quot;PENELOPE&quot;,
            &quot;last_update&quot;: &quot;2021-09-28 20:18:53.000000&quot;
        },
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;/mrs/sakila/actor/2&quot;
                }
            ],
            &quot;actor_id&quot;: 2,
            &quot;last_name&quot;: &quot;WAHLBERG&quot;,
            &quot;first_name&quot;: &quot;NICK&quot;,
            &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
        },
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;/mrs/sakila/actor/3&quot;
                }
            ],
            &quot;actor_id&quot;: 3,
            &quot;last_name&quot;: &quot;CHASE&quot;,
            &quot;first_name&quot;: &quot;ED&quot;,
            &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
        },
        ...
    ]
}</code></pre>
            <h3 data-number="22.3.1"
            id="get-table-data-using-pagination"><span
            class="header-section-number">22.3.1</span> Get Table Data
            Using Pagination</h3>
            <p>We can specify offset and limit parameters which are used
            for result data pagination.</p>
            <p>Pattern:</p>
            <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/?offset=&lt;Offset&gt;&amp;limit=&lt;Limit&gt;</code></pre>
            <p>Example:</p>
            <pre><code>GET http://localhost:8080/mrs/sakila/actor/?offset=10&amp;limit=2</code></pre>
            <p>Result:</p>
            <pre><code>{
    &quot;items&quot;: [
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;/mrs/sakila/actor/11&quot;
                }
            ],
            &quot;actor_id&quot;: 11,
            &quot;last_name&quot;: &quot;CAGE&quot;,
            &quot;first_name&quot;: &quot;ZERO&quot;,
            &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
        },
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;/mrs/sakila/actor/12&quot;
                }
            ],
            &quot;actor_id&quot;: 12,
            &quot;last_name&quot;: &quot;BERRY&quot;,
            &quot;first_name&quot;: &quot;KARL&quot;,
            &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
        }
    ],
    &quot;limit&quot;: 2,
    &quot;offset&quot;: 10,
    &quot;hasMore&quot;: true,
    &quot;count&quot;: 2,
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/actor/&quot;
        },
        {
            &quot;rel&quot;: &quot;next&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/actor/?offset=12&amp;limit=2&quot;
        },
        {
            &quot;rel&quot;: &quot;prev&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/actor/?offset=8&amp;limit=2&quot;
        },
        {
            &quot;rel&quot;: &quot;first&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/actor/?limit=2&quot;
        }
    ]
}</code></pre>
            <h3 data-number="22.3.2"
            id="get-table-data-using-query"><span
            class="header-section-number">22.3.2</span> Get Table Data
            Using Query</h3>
            <p>We can use a filter clause to restrict the set of objects
            that are returned.</p>
            <p>Pattern:</p>
            <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/?q=&lt;FilterClause&gt;</code></pre>
            <p>Example:</p>
            <pre><code>GET http://localhost:8080/mrs/sakila/actor/?q={&quot;last_name&quot;:{&quot;$like&quot;:&quot;WAW%&quot;}}</code></pre>
            <p>Result:</p>
            <pre><code>{
    &quot;items&quot;: [
        {
            &quot;links&quot;: [
                {
                    &quot;rel&quot;: &quot;self&quot;,
                    &quot;href&quot;: &quot;/mrs/sakila/actor/97&quot;
                }
            ],
            &quot;actor_id&quot;: 97,
            &quot;last_name&quot;: &quot;HAWKE&quot;,
            &quot;first_name&quot;: &quot;MEG&quot;,
            &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
        }
    ],
    &quot;limit&quot;: 25,
    &quot;offset&quot;: 0,
    &quot;hasMore&quot;: false,
    &quot;count&quot;: 1,
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/actor/&quot;
        }
    ]
}</code></pre>
            <h3 data-number="22.3.3"
            id="get-table-row-using-primary-key"><span
            class="header-section-number">22.3.3</span> Get Table Row
            Using Primary Key</h3>
            <p>This example retrieves an object by specifying its
            identifying key values.</p>
            <p>Note: A table requires a primary key to be part of a REST
            service.</p>
            <p>Pattern:</p>
            <pre><code>GET http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/&lt;KeyValues&gt;</code></pre>
            <p>Where <code>&lt;KeyValues&gt;</code> is a comma-separated
            list of key values (in key order).</p>
            <p>Example:</p>
            <pre><code>GET http://localhost:8000/mrs/sakila/actor/53</code></pre>
            <p>Result:</p>
            <pre><code>{
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/actor/53&quot;
        }
    ],
    &quot;actor_id&quot;: 53,
    &quot;last_name&quot;: &quot;TEMPLE&quot;,
    &quot;first_name&quot;: &quot;MENA&quot;,
    &quot;last_update&quot;: &quot;2006-02-15 03:34:33.000000&quot;
}</code></pre>
            <h2 data-number="22.4" id="insert-table-row"><span
            class="header-section-number">22.4</span> Insert Table
            Row</h2>
            <p>To insert data into a table, the request body should be a
            JSON object that contains the data to be inserted.</p>
            <p>If the object has a primary key, then the POST request
            can include the primary key value in the body. If the table
            has an AUTO_INCREMENT column then the primary key column may
            be omitted.</p>
            <p>Pattern:</p>
            <pre><code>POST http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/</code></pre>
            <p>Example:</p>
            <pre><code>curl -i -H &quot;Content-Type: application/json&quot; -X POST -d &quot;{ \&quot;last_name\&quot; : \&quot;FOLEY\&quot;, \&quot;first_name\&quot;: \&quot;MIKE\&quot; }&quot; &quot;http://localhost:8000/mrs/sakila/actor/&quot; Content-Type: application/json</code></pre>
            <p>Result:</p>
            <pre><code>{
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/actor/201&quot;
        }
    ],
    &quot;actor_id&quot;: 201,
    &quot;last_name&quot;: &quot;FOLEY&quot;,
    &quot;first_name&quot;: &quot;MIKE&quot;,
    &quot;last_update&quot;: &quot;2022-11-29 15:35:17.000000&quot;
}</code></pre>
            <h2 data-number="22.5" id="updateinsert-table-row"><span
            class="header-section-number">22.5</span> Update/Insert
            Table Row</h2>
            <p>To insert, update or “upsert” (update if exists, insert
            if not) data into a table, we can send a request where the
            body contains a JSON object with the data to insert or
            update.</p>
            <p>Pattern:</p>
            <pre><code>PUT http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/&lt;KeyValues&gt;</code></pre>
            <p>Example:</p>
            <pre><code>curl -i -H &quot;Content-Type: application/json&quot; -X PUT -d &quot;{ \&quot;last_name\&quot; : \&quot;FOLEY\&quot;, \&quot;first_name\&quot;: \&quot;JACK\&quot; }&quot; &quot;https://localhost:8000/mrs/sakila/actor/201&quot; Content-Type: application/json</code></pre>
            <p>Result:</p>
            <pre><code>{
    &quot;links&quot;: [
        {
            &quot;rel&quot;: &quot;self&quot;,
            &quot;href&quot;: &quot;/mrs/sakila/actor/201&quot;
        }
    ],
    &quot;actor_id&quot;: 201,
    &quot;last_name&quot;: &quot;FOLEY&quot;,
    &quot;first_name&quot;: &quot;JACK&quot;,
    &quot;last_update&quot;: &quot;2022-11-29 15:45:10.000000&quot;
}</code></pre>
            <h2 data-number="22.6" id="delete-using-filter"><span
            class="header-section-number">22.6</span> Delete Using
            Filter</h2>
            <p>Deleting a object or other database object can be done by
            specifying a filter clause that identifies the object to
            delete.</p>
            <p>Pattern:</p>
            <pre><code>DELETE http://&lt;HOST&gt;:&lt;PORT&gt;/&lt;ServiceAlias&gt;/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/?q=&lt;FilterClause&gt;</code></pre>
            <p>Example:</p>
            <pre><code>curl -i -X DELETE &quot;https://localhost:8000/mrs/sakila/actor/?q=\{\&quot;actor_id\&quot;:201\}&quot;</code></pre>
            <p>Result:</p>
            <pre><code>{
    &quot;itemsDeleted&quot;: 1
}</code></pre>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="23" id="filtering-in-rest-queries"><span
            class="header-section-number">23</span> Filtering in REST
            Queries</h1>
            <p>This section details the process of filtering in queries
            against REST-enabled tables and views. The next section
            offers practical examples to illustrate the concepts.</p>
            <p>Filtering involves the process of limiting a collection
            resource by using a per-request dynamic filter definition
            across multiple page resources. Each page contains a subset
            of items found in the complete collection. Filtering enables
            efficient traversal of large collections.</p>
            <p>To implement filtering in a query, incorporate the
            parameter q=FilterObject, where FilterObject is a JSON
            object specifying the custom selection and sorting to be
            applied to the resource. To illustrate, consider the
            following example:</p>
            <div class="sourceCode" id="cb221"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>https://example.com/myService/sakila/actor/</span></code></pre></div>
            <p>The following query contains a filter that restricts the
            <code>first_name</code> column to “BRUCE”. Note that the
            REST object was created using the default JSON field
            mapping, which translates the database column
            <code>first_name</code> (snake_case) to the JSON field
            <code>firstName</code> (camelCase).</p>
            <div class="sourceCode" id="cb222"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a>https://example.com/myService/sakila/actor/?q={&quot;firstName&quot;:&quot;BRUCE&quot;}</span></code></pre></div>
            <h2 data-number="23.1" id="filterobject-grammar"><span
            class="header-section-number">23.1</span> FilterObject
            Grammar</h2>
            <p>The FilterObject must be a JSON object that complies with
            the following syntax:</p>
            <div class="sourceCode" id="cb223"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>    FilterObject { orderby , asof, wmembers }</span></code></pre></div>
            <p>The orderby, asof, and wmembers attributes are optional,
            and their definitions are as follows:</p>
            <div class="sourceCode" id="cb224"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a>orderby</span>
<span id="cb224-2"><a href="#cb224-2" aria-hidden="true" tabindex="-1"></a>    &quot;$orderby&quot;: {orderByMembers}</span>
<span id="cb224-3"><a href="#cb224-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-4"><a href="#cb224-4" aria-hidden="true" tabindex="-1"></a>orderByMembers</span>
<span id="cb224-5"><a href="#cb224-5" aria-hidden="true" tabindex="-1"></a>    orderByProperty</span>
<span id="cb224-6"><a href="#cb224-6" aria-hidden="true" tabindex="-1"></a>    orderByProperty , orderByMembers</span>
<span id="cb224-7"><a href="#cb224-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-8"><a href="#cb224-8" aria-hidden="true" tabindex="-1"></a>orderByProperty</span>
<span id="cb224-9"><a href="#cb224-9" aria-hidden="true" tabindex="-1"></a>    columnName : sortingValue</span>
<span id="cb224-10"><a href="#cb224-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-11"><a href="#cb224-11" aria-hidden="true" tabindex="-1"></a>sortingValue</span>
<span id="cb224-12"><a href="#cb224-12" aria-hidden="true" tabindex="-1"></a>    &quot;ASC&quot;</span>
<span id="cb224-13"><a href="#cb224-13" aria-hidden="true" tabindex="-1"></a>    &quot;DESC&quot;</span>
<span id="cb224-14"><a href="#cb224-14" aria-hidden="true" tabindex="-1"></a>    &quot;-1&quot;</span>
<span id="cb224-15"><a href="#cb224-15" aria-hidden="true" tabindex="-1"></a>    &quot;1&quot;</span>
<span id="cb224-16"><a href="#cb224-16" aria-hidden="true" tabindex="-1"></a>    -1</span>
<span id="cb224-17"><a href="#cb224-17" aria-hidden="true" tabindex="-1"></a>    1</span>
<span id="cb224-18"><a href="#cb224-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-19"><a href="#cb224-19" aria-hidden="true" tabindex="-1"></a>asof</span>
<span id="cb224-20"><a href="#cb224-20" aria-hidden="true" tabindex="-1"></a>    &quot;$asof&quot;: gtid</span>
<span id="cb224-21"><a href="#cb224-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-22"><a href="#cb224-22" aria-hidden="true" tabindex="-1"></a>wmembers</span>
<span id="cb224-23"><a href="#cb224-23" aria-hidden="true" tabindex="-1"></a>    wpair</span>
<span id="cb224-24"><a href="#cb224-24" aria-hidden="true" tabindex="-1"></a>    wpair , wmembers</span>
<span id="cb224-25"><a href="#cb224-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-26"><a href="#cb224-26" aria-hidden="true" tabindex="-1"></a>wpair</span>
<span id="cb224-27"><a href="#cb224-27" aria-hidden="true" tabindex="-1"></a>    columnProperty</span>
<span id="cb224-28"><a href="#cb224-28" aria-hidden="true" tabindex="-1"></a>    complexOperatorProperty</span>
<span id="cb224-29"><a href="#cb224-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-30"><a href="#cb224-30" aria-hidden="true" tabindex="-1"></a>columnProperty</span>
<span id="cb224-31"><a href="#cb224-31" aria-hidden="true" tabindex="-1"></a>    columnName : string</span>
<span id="cb224-32"><a href="#cb224-32" aria-hidden="true" tabindex="-1"></a>    columnName : number</span>
<span id="cb224-33"><a href="#cb224-33" aria-hidden="true" tabindex="-1"></a>    columnName : date</span>
<span id="cb224-34"><a href="#cb224-34" aria-hidden="true" tabindex="-1"></a>    columnName : geo</span>
<span id="cb224-35"><a href="#cb224-35" aria-hidden="true" tabindex="-1"></a>    columnName : vector</span>
<span id="cb224-36"><a href="#cb224-36" aria-hidden="true" tabindex="-1"></a>    columnName : boolean</span>
<span id="cb224-37"><a href="#cb224-37" aria-hidden="true" tabindex="-1"></a>    columnName : simpleOperatorObject</span>
<span id="cb224-38"><a href="#cb224-38" aria-hidden="true" tabindex="-1"></a>    columnName : complexOperatorObject</span>
<span id="cb224-39"><a href="#cb224-39" aria-hidden="true" tabindex="-1"></a>    columnName : [complexValues]</span>
<span id="cb224-40"><a href="#cb224-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-41"><a href="#cb224-41" aria-hidden="true" tabindex="-1"></a>columnName</span>
<span id="cb224-42"><a href="#cb224-42" aria-hidden="true" tabindex="-1"></a>&quot;\p{Alpha}[[\p{Alpha}]]([[\p{Alnum}]#$_])*$&quot;</span>
<span id="cb224-43"><a href="#cb224-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-44"><a href="#cb224-44" aria-hidden="true" tabindex="-1"></a>complexOperatorProperty</span>
<span id="cb224-45"><a href="#cb224-45" aria-hidden="true" tabindex="-1"></a>    complexKey : [complexValues]</span>
<span id="cb224-46"><a href="#cb224-46" aria-hidden="true" tabindex="-1"></a>    complexKey : simpleOperatorObject</span>
<span id="cb224-47"><a href="#cb224-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-48"><a href="#cb224-48" aria-hidden="true" tabindex="-1"></a>complexKey</span>
<span id="cb224-49"><a href="#cb224-49" aria-hidden="true" tabindex="-1"></a>    &quot;$and&quot;</span>
<span id="cb224-50"><a href="#cb224-50" aria-hidden="true" tabindex="-1"></a>    &quot;$or&quot;</span>
<span id="cb224-51"><a href="#cb224-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-52"><a href="#cb224-52" aria-hidden="true" tabindex="-1"></a>complexValues</span>
<span id="cb224-53"><a href="#cb224-53" aria-hidden="true" tabindex="-1"></a>    complexValue , complexValues</span>
<span id="cb224-54"><a href="#cb224-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-55"><a href="#cb224-55" aria-hidden="true" tabindex="-1"></a>complexValue</span>
<span id="cb224-56"><a href="#cb224-56" aria-hidden="true" tabindex="-1"></a>    simpleOperatorObject</span>
<span id="cb224-57"><a href="#cb224-57" aria-hidden="true" tabindex="-1"></a>    complexOperatorObject</span>
<span id="cb224-58"><a href="#cb224-58" aria-hidden="true" tabindex="-1"></a>    columnObject</span>
<span id="cb224-59"><a href="#cb224-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-60"><a href="#cb224-60" aria-hidden="true" tabindex="-1"></a>columnObject</span>
<span id="cb224-61"><a href="#cb224-61" aria-hidden="true" tabindex="-1"></a>    {columnProperty}</span>
<span id="cb224-62"><a href="#cb224-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-63"><a href="#cb224-63" aria-hidden="true" tabindex="-1"></a>simpleOperatorObject</span>
<span id="cb224-64"><a href="#cb224-64" aria-hidden="true" tabindex="-1"></a>    {simpleOperatorProperty}</span>
<span id="cb224-65"><a href="#cb224-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-66"><a href="#cb224-66" aria-hidden="true" tabindex="-1"></a>complexOperatorObject</span>
<span id="cb224-67"><a href="#cb224-67" aria-hidden="true" tabindex="-1"></a>    {complexOperatorProperty}</span>
<span id="cb224-68"><a href="#cb224-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-69"><a href="#cb224-69" aria-hidden="true" tabindex="-1"></a>simpleOperatorProperty</span>
<span id="cb224-70"><a href="#cb224-70" aria-hidden="true" tabindex="-1"></a>    &quot;$eq&quot; : string | number | date | geo | vector | boolean</span>
<span id="cb224-71"><a href="#cb224-71" aria-hidden="true" tabindex="-1"></a>    &quot;$ne&quot; : string | number | date | geo | vector | boolean</span>
<span id="cb224-72"><a href="#cb224-72" aria-hidden="true" tabindex="-1"></a>    &quot;$lt&quot; :  number | date</span>
<span id="cb224-73"><a href="#cb224-73" aria-hidden="true" tabindex="-1"></a>    &quot;$lte&quot; : number | date</span>
<span id="cb224-74"><a href="#cb224-74" aria-hidden="true" tabindex="-1"></a>    &quot;$gt&quot; : number | date</span>
<span id="cb224-75"><a href="#cb224-75" aria-hidden="true" tabindex="-1"></a>    &quot;$gte&quot; : number | date</span>
<span id="cb224-76"><a href="#cb224-76" aria-hidden="true" tabindex="-1"></a>    &quot;$instr&quot; : string</span>
<span id="cb224-77"><a href="#cb224-77" aria-hidden="true" tabindex="-1"></a>    &quot;$ninstr&quot; : string</span>
<span id="cb224-78"><a href="#cb224-78" aria-hidden="true" tabindex="-1"></a>    &quot;$like&quot; : string</span>
<span id="cb224-79"><a href="#cb224-79" aria-hidden="true" tabindex="-1"></a>    &quot;$null&quot; : null</span>
<span id="cb224-80"><a href="#cb224-80" aria-hidden="true" tabindex="-1"></a>    &quot;$notnull&quot; : null</span>
<span id="cb224-81"><a href="#cb224-81" aria-hidden="true" tabindex="-1"></a>    &quot;$between&quot; : betweenValue</span>
<span id="cb224-82"><a href="#cb224-82" aria-hidden="true" tabindex="-1"></a>    &quot;$match&quot;: fullTextSearch</span>
<span id="cb224-83"><a href="#cb224-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-84"><a href="#cb224-84" aria-hidden="true" tabindex="-1"></a>betweenValue</span>
<span id="cb224-85"><a href="#cb224-85" aria-hidden="true" tabindex="-1"></a>    [null , betweenNotNull]</span>
<span id="cb224-86"><a href="#cb224-86" aria-hidden="true" tabindex="-1"></a>    [betweenNotNull , null]</span>
<span id="cb224-87"><a href="#cb224-87" aria-hidden="true" tabindex="-1"></a>    [betweenRegular , betweenRegular]</span>
<span id="cb224-88"><a href="#cb224-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-89"><a href="#cb224-89" aria-hidden="true" tabindex="-1"></a>betweenNotNull</span>
<span id="cb224-90"><a href="#cb224-90" aria-hidden="true" tabindex="-1"></a>    number</span>
<span id="cb224-91"><a href="#cb224-91" aria-hidden="true" tabindex="-1"></a>    date</span>
<span id="cb224-92"><a href="#cb224-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-93"><a href="#cb224-93" aria-hidden="true" tabindex="-1"></a>betweenRegular</span>
<span id="cb224-94"><a href="#cb224-94" aria-hidden="true" tabindex="-1"></a>    string</span>
<span id="cb224-95"><a href="#cb224-95" aria-hidden="true" tabindex="-1"></a>    number</span>
<span id="cb224-96"><a href="#cb224-96" aria-hidden="true" tabindex="-1"></a>    date</span>
<span id="cb224-97"><a href="#cb224-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-98"><a href="#cb224-98" aria-hidden="true" tabindex="-1"></a>fullTextSearch</span>
<span id="cb224-99"><a href="#cb224-99" aria-hidden="true" tabindex="-1"></a>    {&quot;$params&quot;:[fieldList], &quot;$against&quot;:{&quot;$expr&quot;:fullTextExpr}}</span>
<span id="cb224-100"><a href="#cb224-100" aria-hidden="true" tabindex="-1"></a>    {&quot;$params&quot;:[fieldList], &quot;$against&quot;:{&quot;$expr&quot;:fullTextExpr, &quot;$modifier&quot;:fullTextMod}}</span></code></pre></div>
            <p>Data type definitions include the following:</p>
            <div class="sourceCode" id="cb225"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a>string</span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a>    JSONString</span>
<span id="cb225-3"><a href="#cb225-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-4"><a href="#cb225-4" aria-hidden="true" tabindex="-1"></a>number</span>
<span id="cb225-5"><a href="#cb225-5" aria-hidden="true" tabindex="-1"></a>    JSONNumber</span>
<span id="cb225-6"><a href="#cb225-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-7"><a href="#cb225-7" aria-hidden="true" tabindex="-1"></a>date</span>
<span id="cb225-8"><a href="#cb225-8" aria-hidden="true" tabindex="-1"></a>      {&quot;$date&quot;:&quot;datechars&quot;}</span>
<span id="cb225-9"><a href="#cb225-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-10"><a href="#cb225-10" aria-hidden="true" tabindex="-1"></a>gtid</span>
<span id="cb225-11"><a href="#cb225-11" aria-hidden="true" tabindex="-1"></a>    JSONString</span>
<span id="cb225-12"><a href="#cb225-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-13"><a href="#cb225-13" aria-hidden="true" tabindex="-1"></a>geo</span>
<span id="cb225-14"><a href="#cb225-14" aria-hidden="true" tabindex="-1"></a>    https://en.wikipedia.org/wiki/GeoJSON</span>
<span id="cb225-15"><a href="#cb225-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-16"><a href="#cb225-16" aria-hidden="true" tabindex="-1"></a>vector</span>
<span id="cb225-17"><a href="#cb225-17" aria-hidden="true" tabindex="-1"></a>    [numberList]</span>
<span id="cb225-18"><a href="#cb225-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-19"><a href="#cb225-19" aria-hidden="true" tabindex="-1"></a>numberList</span>
<span id="cb225-20"><a href="#cb225-20" aria-hidden="true" tabindex="-1"></a>    number, numberList</span>
<span id="cb225-21"><a href="#cb225-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-22"><a href="#cb225-22" aria-hidden="true" tabindex="-1"></a>fieldList</span>
<span id="cb225-23"><a href="#cb225-23" aria-hidden="true" tabindex="-1"></a>    fieldName, fieldList</span>
<span id="cb225-24"><a href="#cb225-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-25"><a href="#cb225-25" aria-hidden="true" tabindex="-1"></a>fieldName: JSONString</span>
<span id="cb225-26"><a href="#cb225-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-27"><a href="#cb225-27" aria-hidden="true" tabindex="-1"></a>fullTextExpr: JSONString</span>
<span id="cb225-28"><a href="#cb225-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-29"><a href="#cb225-29" aria-hidden="true" tabindex="-1"></a>fullTextMod:</span>
<span id="cb225-30"><a href="#cb225-30" aria-hidden="true" tabindex="-1"></a>    &quot;IN NATURAL LANGUAGE MODE&quot;</span>
<span id="cb225-31"><a href="#cb225-31" aria-hidden="true" tabindex="-1"></a>    &quot;IN NATURAL LANGUAGE MODE WITH QUERY EXPANSION&quot;</span>
<span id="cb225-32"><a href="#cb225-32" aria-hidden="true" tabindex="-1"></a>    &quot;IN BOOLEAN MODE&quot;</span>
<span id="cb225-33"><a href="#cb225-33" aria-hidden="true" tabindex="-1"></a>    &quot;WITH QUERY EXPANSION&quot;</span></code></pre></div>
            <p>Where:</p>
            <div class="sourceCode" id="cb226"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>datechars is an RFC3339 date format in UTC (Z)</span>
<span id="cb226-2"><a href="#cb226-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb226-3"><a href="#cb226-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb226-4"><a href="#cb226-4" aria-hidden="true" tabindex="-1"></a>JSONString</span>
<span id="cb226-5"><a href="#cb226-5" aria-hidden="true" tabindex="-1"></a>        &quot;&quot;</span>
<span id="cb226-6"><a href="#cb226-6" aria-hidden="true" tabindex="-1"></a>        &quot; chars &quot;</span>
<span id="cb226-7"><a href="#cb226-7" aria-hidden="true" tabindex="-1"></a>chars</span>
<span id="cb226-8"><a href="#cb226-8" aria-hidden="true" tabindex="-1"></a>        char</span>
<span id="cb226-9"><a href="#cb226-9" aria-hidden="true" tabindex="-1"></a>        char chars</span>
<span id="cb226-10"><a href="#cb226-10" aria-hidden="true" tabindex="-1"></a>char</span>
<span id="cb226-11"><a href="#cb226-11" aria-hidden="true" tabindex="-1"></a>        any-Unicode-character except-&quot;-or-\-or-control-character</span>
<span id="cb226-12"><a href="#cb226-12" aria-hidden="true" tabindex="-1"></a>        \&quot;</span>
<span id="cb226-13"><a href="#cb226-13" aria-hidden="true" tabindex="-1"></a>        \\</span>
<span id="cb226-14"><a href="#cb226-14" aria-hidden="true" tabindex="-1"></a>        \/</span>
<span id="cb226-15"><a href="#cb226-15" aria-hidden="true" tabindex="-1"></a>        \b</span>
<span id="cb226-16"><a href="#cb226-16" aria-hidden="true" tabindex="-1"></a>        \f</span>
<span id="cb226-17"><a href="#cb226-17" aria-hidden="true" tabindex="-1"></a>        \n</span>
<span id="cb226-18"><a href="#cb226-18" aria-hidden="true" tabindex="-1"></a>        \r</span>
<span id="cb226-19"><a href="#cb226-19" aria-hidden="true" tabindex="-1"></a>        \t</span>
<span id="cb226-20"><a href="#cb226-20" aria-hidden="true" tabindex="-1"></a>        \u four-hex-digits</span>
<span id="cb226-21"><a href="#cb226-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb226-22"><a href="#cb226-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb226-23"><a href="#cb226-23" aria-hidden="true" tabindex="-1"></a>JSONNumber</span>
<span id="cb226-24"><a href="#cb226-24" aria-hidden="true" tabindex="-1"></a>    int</span>
<span id="cb226-25"><a href="#cb226-25" aria-hidden="true" tabindex="-1"></a>    int frac</span>
<span id="cb226-26"><a href="#cb226-26" aria-hidden="true" tabindex="-1"></a>    int exp</span>
<span id="cb226-27"><a href="#cb226-27" aria-hidden="true" tabindex="-1"></a>    int frac exp</span>
<span id="cb226-28"><a href="#cb226-28" aria-hidden="true" tabindex="-1"></a>int</span>
<span id="cb226-29"><a href="#cb226-29" aria-hidden="true" tabindex="-1"></a>    digit</span>
<span id="cb226-30"><a href="#cb226-30" aria-hidden="true" tabindex="-1"></a>    digit1-9 digits</span>
<span id="cb226-31"><a href="#cb226-31" aria-hidden="true" tabindex="-1"></a>    - digit</span>
<span id="cb226-32"><a href="#cb226-32" aria-hidden="true" tabindex="-1"></a>    - digit1-9 digits</span>
<span id="cb226-33"><a href="#cb226-33" aria-hidden="true" tabindex="-1"></a>frac</span>
<span id="cb226-34"><a href="#cb226-34" aria-hidden="true" tabindex="-1"></a>    . digits</span>
<span id="cb226-35"><a href="#cb226-35" aria-hidden="true" tabindex="-1"></a>exp</span>
<span id="cb226-36"><a href="#cb226-36" aria-hidden="true" tabindex="-1"></a>    e digits</span>
<span id="cb226-37"><a href="#cb226-37" aria-hidden="true" tabindex="-1"></a>digits</span>
<span id="cb226-38"><a href="#cb226-38" aria-hidden="true" tabindex="-1"></a>    digit</span>
<span id="cb226-39"><a href="#cb226-39" aria-hidden="true" tabindex="-1"></a>    digit digits</span>
<span id="cb226-40"><a href="#cb226-40" aria-hidden="true" tabindex="-1"></a>e</span>
<span id="cb226-41"><a href="#cb226-41" aria-hidden="true" tabindex="-1"></a>    e</span>
<span id="cb226-42"><a href="#cb226-42" aria-hidden="true" tabindex="-1"></a>    e+</span>
<span id="cb226-43"><a href="#cb226-43" aria-hidden="true" tabindex="-1"></a>    e-</span>
<span id="cb226-44"><a href="#cb226-44" aria-hidden="true" tabindex="-1"></a>    E</span>
<span id="cb226-45"><a href="#cb226-45" aria-hidden="true" tabindex="-1"></a>    E+</span>
<span id="cb226-46"><a href="#cb226-46" aria-hidden="true" tabindex="-1"></a>    E-</span></code></pre></div>
            <p>The FilterObject must be encoded according to Section 2.1
            of RFC3986.</p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="24"
            id="filterobject-grammar-examples"><span
            class="header-section-number">24</span> FilterObject Grammar
            Examples</h1>
            <h2 data-number="24.1" id="order-by-property-orderby"><span
            class="header-section-number">24.1</span> ORDER BY property
            ($orderby)</h2>
            <div class="sourceCode" id="cb227"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a>Order by with literals</span>
<span id="cb227-2"><a href="#cb227-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-3"><a href="#cb227-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb227-4"><a href="#cb227-4" aria-hidden="true" tabindex="-1"></a>  &quot;$orderby&quot;: {&quot;SALARY&quot;:  &quot;ASC&quot;,&quot;ENAME&quot;:&quot;DESC&quot;}</span>
<span id="cb227-5"><a href="#cb227-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb227-6"><a href="#cb227-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-7"><a href="#cb227-7" aria-hidden="true" tabindex="-1"></a>Order by with numbers</span>
<span id="cb227-8"><a href="#cb227-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-9"><a href="#cb227-9" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb227-10"><a href="#cb227-10" aria-hidden="true" tabindex="-1"></a>  &quot;$orderby&quot;: {&quot;SALARY&quot;:  -1,&quot;ENAME&quot;:  1}</span>
<span id="cb227-11"><a href="#cb227-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.2" id="asof-property-asof"><span
            class="header-section-number">24.2</span> ASOF property
            ($asof)</h2>
            <div class="sourceCode" id="cb228"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a>With SCN (Implicit)</span>
<span id="cb228-2"><a href="#cb228-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-3"><a href="#cb228-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb228-4"><a href="#cb228-4" aria-hidden="true" tabindex="-1"></a>  &quot;$asof&quot;: 1273919</span>
<span id="cb228-5"><a href="#cb228-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb228-6"><a href="#cb228-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-7"><a href="#cb228-7" aria-hidden="true" tabindex="-1"></a>With SCN (Explicit)</span>
<span id="cb228-8"><a href="#cb228-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-9"><a href="#cb228-9" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb228-10"><a href="#cb228-10" aria-hidden="true" tabindex="-1"></a>  &quot;$asof&quot;: {&quot;$scn&quot;: &quot;1273919&quot;}</span>
<span id="cb228-11"><a href="#cb228-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb228-12"><a href="#cb228-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-13"><a href="#cb228-13" aria-hidden="true" tabindex="-1"></a>With Date (Implicit)</span>
<span id="cb228-14"><a href="#cb228-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-15"><a href="#cb228-15" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb228-16"><a href="#cb228-16" aria-hidden="true" tabindex="-1"></a>  &quot;$asof&quot;: &quot;2014-06-30T00:00:00Z&quot;</span>
<span id="cb228-17"><a href="#cb228-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb228-18"><a href="#cb228-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-19"><a href="#cb228-19" aria-hidden="true" tabindex="-1"></a>With Date (Explicit)</span>
<span id="cb228-20"><a href="#cb228-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-21"><a href="#cb228-21" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb228-22"><a href="#cb228-22" aria-hidden="true" tabindex="-1"></a>  &quot;$asof&quot;: {&quot;$date&quot;: &quot;2014-06-30T00:00:00Z&quot;}</span>
<span id="cb228-23"><a href="#cb228-23" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.3" id="equals-operator-eq"><span
            class="header-section-number">24.3</span> EQUALS operator
            ($eq)</h2>
            <div class="sourceCode" id="cb229"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a>Implicit (Support String and Dates too)</span>
<span id="cb229-2"><a href="#cb229-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-3"><a href="#cb229-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb229-4"><a href="#cb229-4" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: 1000</span>
<span id="cb229-5"><a href="#cb229-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb229-6"><a href="#cb229-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-7"><a href="#cb229-7" aria-hidden="true" tabindex="-1"></a>Explicit</span>
<span id="cb229-8"><a href="#cb229-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-9"><a href="#cb229-9" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb229-10"><a href="#cb229-10" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$eq&quot;: 1000}</span>
<span id="cb229-11"><a href="#cb229-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb229-12"><a href="#cb229-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-13"><a href="#cb229-13" aria-hidden="true" tabindex="-1"></a>Strings</span>
<span id="cb229-14"><a href="#cb229-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-15"><a href="#cb229-15" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb229-16"><a href="#cb229-16" aria-hidden="true" tabindex="-1"></a>  &quot;ENAME&quot;: {&quot;$eq&quot;:&quot;SMITH&quot;}</span>
<span id="cb229-17"><a href="#cb229-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb229-18"><a href="#cb229-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-19"><a href="#cb229-19" aria-hidden="true" tabindex="-1"></a>Dates</span>
<span id="cb229-20"><a href="#cb229-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-21"><a href="#cb229-21" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb229-22"><a href="#cb229-22" aria-hidden="true" tabindex="-1"></a>  &quot;HIREDATE&quot;: {&quot;$date&quot;: &quot;1981-11-17T08:00:00Z&quot;}</span>
<span id="cb229-23"><a href="#cb229-23" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.4" id="not-equals-operator-ne"><span
            class="header-section-number">24.4</span> NOT EQUALS
            operator ($ne)</h2>
            <div class="sourceCode" id="cb230"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>Number</span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-3"><a href="#cb230-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb230-4"><a href="#cb230-4" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$ne&quot;: 1000}</span>
<span id="cb230-5"><a href="#cb230-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb230-6"><a href="#cb230-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-7"><a href="#cb230-7" aria-hidden="true" tabindex="-1"></a>String</span>
<span id="cb230-8"><a href="#cb230-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-9"><a href="#cb230-9" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb230-10"><a href="#cb230-10" aria-hidden="true" tabindex="-1"></a>  &quot;ENAME&quot;: {&quot;$ne&quot;:&quot;SMITH&quot;}</span>
<span id="cb230-11"><a href="#cb230-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb230-12"><a href="#cb230-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-13"><a href="#cb230-13" aria-hidden="true" tabindex="-1"></a>Dates</span>
<span id="cb230-14"><a href="#cb230-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-15"><a href="#cb230-15" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb230-16"><a href="#cb230-16" aria-hidden="true" tabindex="-1"></a>  &quot;HIREDATE&quot;: {&quot;$ne&quot;: {&quot;$date&quot;:&quot;1981-11-17T08:00:00Z&quot;}}</span>
<span id="cb230-17"><a href="#cb230-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.5" id="less-than-operator-lt"><span
            class="header-section-number">24.5</span> LESS THAN operator
            ($lt)</h2>
            <p>(Supports dates and numbers only)</p>
            <div class="sourceCode" id="cb231"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a>Numbers</span>
<span id="cb231-2"><a href="#cb231-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-3"><a href="#cb231-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb231-4"><a href="#cb231-4" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$lt&quot;: 10000}</span>
<span id="cb231-5"><a href="#cb231-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb231-6"><a href="#cb231-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-7"><a href="#cb231-7" aria-hidden="true" tabindex="-1"></a>Dates</span>
<span id="cb231-8"><a href="#cb231-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-9"><a href="#cb231-9" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb231-10"><a href="#cb231-10" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$lt&quot;: {&quot;$date&quot;:&quot;1999-12-17T08:00:00Z&quot;}}</span>
<span id="cb231-11"><a href="#cb231-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.6"
            id="less-than-or-equals-operator-lte"><span
            class="header-section-number">24.6</span> LESS THAN OR
            EQUALS operator ($lte)</h2>
            <p>(Supports dates and numbers only)</p>
            <div class="sourceCode" id="cb232"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a>Numbers</span>
<span id="cb232-2"><a href="#cb232-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-3"><a href="#cb232-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb232-4"><a href="#cb232-4" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$lte&quot;: 10000}</span>
<span id="cb232-5"><a href="#cb232-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb232-6"><a href="#cb232-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-7"><a href="#cb232-7" aria-hidden="true" tabindex="-1"></a>Dates</span>
<span id="cb232-8"><a href="#cb232-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-9"><a href="#cb232-9" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb232-10"><a href="#cb232-10" aria-hidden="true" tabindex="-1"></a>  &quot;HIREDATE&quot;: {&quot;$lte&quot;: {&quot;$date&quot;:&quot;1999-12-17T08:00:00Z&quot;}}</span>
<span id="cb232-11"><a href="#cb232-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.7" id="greater-than-operator-gt"><span
            class="header-section-number">24.7</span> GREATER THAN
            operator ($gt)</h2>
            <p>(Supports dates and numbers only)</p>
            <div class="sourceCode" id="cb233"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a>Numbers</span>
<span id="cb233-2"><a href="#cb233-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb233-3"><a href="#cb233-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb233-4"><a href="#cb233-4" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$gt&quot;: 10000}</span>
<span id="cb233-5"><a href="#cb233-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb233-6"><a href="#cb233-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb233-7"><a href="#cb233-7" aria-hidden="true" tabindex="-1"></a>Dates</span>
<span id="cb233-8"><a href="#cb233-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb233-9"><a href="#cb233-9" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb233-10"><a href="#cb233-10" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$gt&quot;: {&quot;$date&quot;:&quot;1999-12-17T08:00:00Z&quot;}}</span>
<span id="cb233-11"><a href="#cb233-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.8"
            id="greater-than-or-equals-operator-gte"><span
            class="header-section-number">24.8</span> GREATER THAN OR
            EQUALS operator ($gte)</h2>
            <p>(Supports dates and numbers only)</p>
            <div class="sourceCode" id="cb234"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a>Numbers</span>
<span id="cb234-2"><a href="#cb234-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-3"><a href="#cb234-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb234-4"><a href="#cb234-4" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$gte&quot;: 10000}</span>
<span id="cb234-5"><a href="#cb234-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb234-6"><a href="#cb234-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-7"><a href="#cb234-7" aria-hidden="true" tabindex="-1"></a>Dates</span>
<span id="cb234-8"><a href="#cb234-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-9"><a href="#cb234-9" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb234-10"><a href="#cb234-10" aria-hidden="true" tabindex="-1"></a>  &quot;HIREDATE&quot;: {&quot;$gte&quot;: {&quot;$date&quot;:&quot;1999-12-17T08:00:00Z&quot;}}</span>
<span id="cb234-11"><a href="#cb234-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.9" id="in-string-operator-instr"><span
            class="header-section-number">24.9</span> In string operator
            ($instr)</h2>
            <p>(Supports strings only)</p>
            <div class="sourceCode" id="cb235"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb235-2"><a href="#cb235-2" aria-hidden="true" tabindex="-1"></a>  &quot;ENAME&quot;: {&quot;$instr&quot;:&quot;MC&quot;}</span>
<span id="cb235-3"><a href="#cb235-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.10"
            id="not-in-string-operator-ninstr"><span
            class="header-section-number">24.10</span> Not in string
            operator ($ninstr)</h2>
            <p>(Supports strings only)</p>
            <div class="sourceCode" id="cb236"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb236-2"><a href="#cb236-2" aria-hidden="true" tabindex="-1"></a>  &quot;ENAME&quot;: {&quot;$ninstr&quot;:&quot;MC&quot;}</span>
<span id="cb236-3"><a href="#cb236-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.11" id="like-operator-like"><span
            class="header-section-number">24.11</span> LIKE operator
            ($like)</h2>
            <p>(Supports strings. Eescape character not supported to try
            to match expressions with _ or % characters.)</p>
            <div class="sourceCode" id="cb237"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>  &quot;ENAME&quot;: {&quot;$like&quot;:&quot;AX%&quot;}</span>
<span id="cb237-3"><a href="#cb237-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.12" id="between-operator-between"><span
            class="header-section-number">24.12</span> BETWEEN operator
            ($between)</h2>
            <p>(Supports string, dates, and numbers)</p>
            <div class="sourceCode" id="cb238"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a>Numbers</span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-3"><a href="#cb238-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb238-4"><a href="#cb238-4" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$between&quot;: [1000,2000]}</span>
<span id="cb238-5"><a href="#cb238-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb238-6"><a href="#cb238-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-7"><a href="#cb238-7" aria-hidden="true" tabindex="-1"></a>Dates</span>
<span id="cb238-8"><a href="#cb238-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-9"><a href="#cb238-9" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb238-10"><a href="#cb238-10" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$between&quot;: [{&quot;$date&quot;:&quot;1989-12-17T08:00:00Z&quot;},{&quot;$date&quot;:&quot;1999-12-17T08:00:00Z&quot;}]}</span>
<span id="cb238-11"><a href="#cb238-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb238-12"><a href="#cb238-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-13"><a href="#cb238-13" aria-hidden="true" tabindex="-1"></a>Strings</span>
<span id="cb238-14"><a href="#cb238-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-15"><a href="#cb238-15" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb238-16"><a href="#cb238-16" aria-hidden="true" tabindex="-1"></a>  &quot;ENAME&quot;: {&quot;$between&quot;: [&quot;A&quot;,&quot;C&quot;]}</span>
<span id="cb238-17"><a href="#cb238-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb238-18"><a href="#cb238-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-19"><a href="#cb238-19" aria-hidden="true" tabindex="-1"></a>Null Ranges ($lte equivalent)</span>
<span id="cb238-20"><a href="#cb238-20" aria-hidden="true" tabindex="-1"></a>(Supported by numbers and dates only)</span>
<span id="cb238-21"><a href="#cb238-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-22"><a href="#cb238-22" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb238-23"><a href="#cb238-23" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$between&quot;: [null,2000]}</span>
<span id="cb238-24"><a href="#cb238-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb238-25"><a href="#cb238-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-26"><a href="#cb238-26" aria-hidden="true" tabindex="-1"></a>Null Ranges ($gte equivalent)</span>
<span id="cb238-27"><a href="#cb238-27" aria-hidden="true" tabindex="-1"></a>(Supported by numbers and dates only)</span>
<span id="cb238-28"><a href="#cb238-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-29"><a href="#cb238-29" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb238-30"><a href="#cb238-30" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$between&quot;: [1000,null]}</span>
<span id="cb238-31"><a href="#cb238-31" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.13" id="null-operator-null"><span
            class="header-section-number">24.13</span> NULL operator
            ($null)</h2>
            <div class="sourceCode" id="cb239"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb239-2"><a href="#cb239-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;ENAME&quot;</span><span class="fu">:</span> <span class="fu">{</span><span class="dt">&quot;$null&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">}</span></span>
<span id="cb239-3"><a href="#cb239-3" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <h2 data-number="24.14" id="not-null-operator-notnull"><span
            class="header-section-number">24.14</span> NOT NULL operator
            ($notnull)</h2>
            <div class="sourceCode" id="cb240"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb240-2"><a href="#cb240-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;ENAME&quot;</span><span class="fu">:</span> <span class="fu">{</span><span class="dt">&quot;$notnull&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">}</span></span>
<span id="cb240-3"><a href="#cb240-3" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <h2 data-number="24.15" id="and-operator-and"><span
            class="header-section-number">24.15</span> AND operator
            ($and)</h2>
            <p>(Supports all operators, including $and and $or)</p>
            <div class="sourceCode" id="cb241"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a>(Example: Salary greater than 1000 and name starts with S or T)</span>
<span id="cb241-2"><a href="#cb241-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb241-3"><a href="#cb241-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb241-4"><a href="#cb241-4" aria-hidden="true" tabindex="-1"></a>  &quot;SALARY&quot;: {&quot;$gt&quot;: 1000},</span>
<span id="cb241-5"><a href="#cb241-5" aria-hidden="true" tabindex="-1"></a>  &quot;ENAME&quot;: {&quot;$or&quot;: [{&quot;$like&quot;:&quot;S%&quot;}, {&quot;$like&quot;:&quot;T%&quot;}]}</span>
<span id="cb241-6"><a href="#cb241-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb241-7"><a href="#cb241-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb241-8"><a href="#cb241-8" aria-hidden="true" tabindex="-1"></a>Invalid expression (operators $lt and $gt lack column context)</span>
<span id="cb241-9"><a href="#cb241-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb241-10"><a href="#cb241-10" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb241-11"><a href="#cb241-11" aria-hidden="true" tabindex="-1"></a>  &quot;$and&quot;: [{&quot;$lt&quot;: 5000},{&quot;$gt&quot;: 1000}]</span>
<span id="cb241-12"><a href="#cb241-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb241-13"><a href="#cb241-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb241-14"><a href="#cb241-14" aria-hidden="true" tabindex="-1"></a>Valid alternative for the previous invalid expression</span>
<span id="cb241-15"><a href="#cb241-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb241-16"><a href="#cb241-16" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb241-17"><a href="#cb241-17" aria-hidden="true" tabindex="-1"></a>  &quot;$and&quot;: [{&quot;SALARY&quot;: {&quot;$lt&quot;: 5000}}, {&quot;SALARY&quot;: {&quot;$gt&quot;: 1000}}]</span>
<span id="cb241-18"><a href="#cb241-18" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="24.16" id="or-operator-or"><span
            class="header-section-number">24.16</span> OR operator
            ($or)</h2>
            <p>(Supports all operators including $and and $or. Similar
            to High order AND)</p>
            <div class="sourceCode" id="cb242"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>(Example: name starts with S or salary greater than 1000)</span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-3"><a href="#cb242-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb242-4"><a href="#cb242-4" aria-hidden="true" tabindex="-1"></a>  &quot;$or&quot;: [{&quot;SALARY&quot;:{&quot;$gt&quot;: 1000}},{&quot;ENAME&quot;: {&quot;$like&quot;:&quot;S%&quot;}}]</span>
<span id="cb242-5"><a href="#cb242-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <hr />
            <p><strong>MySQL REST Service - SDK Reference</strong></p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="25"
            id="introduction-to-the-mysql-rest-service-client-sdk"><span
            class="header-section-number">25</span> Introduction to the
            MySQL REST Service Client SDK</h1>
            <p>The MySQL REST Service offers a Software Development Kit
            (SDK) that makes it easier to write client applications and
            interact with the REST service.</p>
            <p>The SDK features a Client API that is specifically
            generated for each REST Service. This makes it possible to
            provide the best possible support for each REST project.</p>
            <p>The SDK is generated for a specific development language.
            Right now, TypeScript and Python are supported. Support for
            other languages is planned. Each language-specific SDK has
            its own individual and independent version number.
            Versioning follows the rules specified by <a
            href="https://semver.org/">Semantic Versioning
            2.0.0</a>.</p>
            <p>Most of the examples in this guide are written in
            TypeScript. If you want more details about the SDK for a
            different language, check the API reference docs.</p>
            <h2 data-number="25.1" id="sdk-cheat-sheet"><span
            class="header-section-number">25.1</span> SDK Cheat
            Sheet</h2>
            <table style="width:100%;">
            <caption>SDK Cheat Sheet</caption>
            <colgroup>
            <col style="width: 9%" />
            <col style="width: 16%" />
            <col style="width: 16%" />
            <col style="width: 57%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th style="text-align: right;">Scope</th>
            <th style="text-align: left;">TypeScript</th>
            <th style="text-align: left;">Python</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td style="text-align: right;">All</td>
            <td style="text-align: left;"><a
            href="#getmetadata-ts">getMetadata</a></td>
            <td style="text-align: left;"><a
            href="#get_metadata-py">get_metadata</a></td>
            <td>Returns the metadata of a REST service, schema, view,
            function or procedure.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;">Service</td>
            <td style="text-align: left;"><a
            href="#service-getauthapps-ts">getAuthApps</a></td>
            <td style="text-align: left;"><a
            href="#service-get_auth_apps-py">get_auth_apps</a></td>
            <td>Used to authenticate with the REST service.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#service-deauthenticate-ts">authenticate</a></td>
            <td style="text-align: left;"><a
            href="#service-authenticate-py">authenticate</a></td>
            <td>Used to authenticate with the REST service.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#service-deauthenticate-ts">deauthenticate</a></td>
            <td style="text-align: left;"><a
            href="#service-deauthenticate-py">deauthenticate</a></td>
            <td>Used to close an authenticated session to the REST
            service.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;">View</td>
            <td style="text-align: left;"><a
            href="#view-create-ts">create</a></td>
            <td style="text-align: left;"><a
            href="#view-create-py">create</a></td>
            <td>Creates a new document on a given REST view
            endpoint.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#view-createmany-ts">createMany</a></td>
            <td style="text-align: left;"><a
            href="#view-create_many-py">create_many</a></td>
            <td>Creates a list of document on a given REST view
            endpoint.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#view-find-ts">find</a></td>
            <td style="text-align: left;"><a
            href="#view-find-py">find</a></td>
            <td>Reads the first page of documents of a search request
            and returns an iterator.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#view-findfirst-ts">findFirst</a></td>
            <td style="text-align: left;"><a
            href="#view-find_first-py">find_first</a></td>
            <td>Reads the first matching document of a search
            request.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#view-findfirst-ts">findFirstOrThrow</a></td>
            <td style="text-align: left;"><a
            href="#view-find_first-py">find_first</a></td>
            <td>Reads the first matching document of a search request
            and throws an error if not found.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#view-findunique-ts">findUnique</a></td>
            <td style="text-align: left;"><a
            href="#view-find_first-py">find_unique</a></td>
            <td>Reads the first matching document of a primary key
            lookup.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#view-finduniqueorthrow-ts">findUniqueOrThrow</a></td>
            <td style="text-align: left;"><a
            href="#view-find_unique_or_throw-py">find_unique_or_throw</a></td>
            <td>Reads the first matching document of a primary key
            lookup and throws if not found.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#view-delete-ts">delete</a></td>
            <td style="text-align: left;"><a
            href="#view-delete-py">delete</a></td>
            <td>Deletes a given document from a REST view endpoint.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#view-deletemany-ts">deleteMany</a></td>
            <td style="text-align: left;"><a
            href="#view-delete_many-py">delete_many</a></td>
            <td>Deletes several documents from a REST view
            endpoint.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#view-update-ts">update</a></td>
            <td style="text-align: left;"><a
            href="#view-update-py">update</a></td>
            <td>Updates a given document on a REST view endpoint.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#view-updatemany-ts">updateMany</a></td>
            <td style="text-align: left;"><a
            href="#view-update_many-py">update_many</a></td>
            <td>Updates several documents on a REST view endpoint.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;">Document</td>
            <td style="text-align: left;"><a
            href="#document-update-ts">update</a></td>
            <td style="text-align: left;"><a
            href="#document-update-py">update</a></td>
            <td>Updates a REST document that was fetched before.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#document-delete-ts">delete</a></td>
            <td style="text-align: left;"><a
            href="#document-delete-py">delete</a></td>
            <td>Deletes a REST document that was fetched before.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;">Function</td>
            <td style="text-align: left;"><a
            href="#function-call-ts">call</a></td>
            <td style="text-align: left;"><a
            href="#function-call-py">call</a></td>
            <td>Calls a REST function.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#function-start-ts">start</a></td>
            <td style="text-align: left;"><a
            href="#function-start-py">start</a></td>
            <td>Calls an async REST function and returns a task.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;">Procedure</td>
            <td style="text-align: left;"><a
            href="#procedure-call-ts">call</a></td>
            <td style="text-align: left;"><a
            href="#procedure-call-py">call</a></td>
            <td>Calls a REST procedure.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#procedure-start-ts">start</a></td>
            <td style="text-align: left;"><a
            href="#procedure-start-py">start</a></td>
            <td>Calls an async REST procedure and returns a task.</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;">Task</td>
            <td style="text-align: left;"><a
            href="#task-watch-ts">watch</a></td>
            <td style="text-align: left;"><a
            href="#task-watch-py">watch</a></td>
            <td>Watches a Task for progress and result.</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;"></td>
            <td style="text-align: left;"><a
            href="#task-kill-ts">kill</a></td>
            <td style="text-align: left;"><a
            href="#task-kill-py">kill</a></td>
            <td>Terminates an async REST function or REST procedure
            call.</td>
            </tr>
            </tbody>
            </table>
            <h2 data-number="25.2" id="generation-of-sdk-files"><span
            class="header-section-number">25.2</span> Generation of SDK
            Files</h2>
            <p>Once a REST service has been defined, the corresponding
            SDK can be generated in the required development
            language.</p>
            <p>Several different methods can be used to perform the
            actual generation process.</p>
            <ul>
            <li>Generating the SDK files from MySQL Shell for VS Code
            <ul>
            <li>When using <a href="https://code.visualstudio.com/">VS
            Code</a> or <a href="https://vscodium.com/">VSCodium</a> and
            the <a
            href="https://marketplace.visualstudio.com/items?itemName=Oracle.mysql-shell-for-vs-code">MySQL
            Shell for VS Code extension</a>, the SDK for a given REST
            service can be generated directly from the UI.</li>
            <li>While using the MySQL Shell for VS Code extension, the
            SDK will be generated on the fly when using a DB Notebook to
            enabled instant prototyping of the SDK API calls.</li>
            </ul></li>
            <li>Generating the SDK Files from the Command Line
            <ul>
            <li>To integrate the SDK generation into an existing
            development process, it is possible to use the MySQL Shell
            on the command line to generate the SDK files.</li>
            </ul></li>
            </ul>
            <p>An constructor/initializer for the client-side REST
            service instance is generated based on the conventions
            established for the selected programming language. It allows
            to optionally specify the base URL of that REST service, has
            deployed in the MySQL Router instance used by the MRS
            installation. This would override the base URL specified
            when the SDK is generated in the first place, using the
            MySQL Shell.</p>
            <h3 data-number="25.2.1"
            id="generating-the-sdk-files-from-mysql-shell-for-vs-code"><span
            class="header-section-number">25.2.1</span> Generating the
            SDK Files from MySQL Shell for VS Code</h3>
            <p>To generate the SDK files for a development project,
            right click on the MRS Service and select
            <code>Dump to Disk &gt; Dump REST Client SDK Files ...</code>.
            This will allow you to select a destination folder inside
            your development project the files will be placed in.</p>
            <p>The following files will be placed in the selected
            folder.</p>
            <h3 data-number="25.2.2"
            id="on-the-fly-generation-of-typescript-sdk-in-vs-code"><span
            class="header-section-number">25.2.2</span> On the Fly
            Generation of TypeScript SDK in VS Code</h3>
            <p>The MySQL Shell for VS Code extension allows interactive
            execution of TypeScript code inside a DB Notebook. To make
            working with the MySQL REST Service easier, the TypeScript
            SDK for the current REST Service is made available directly
            within the DB Notebooks.</p>
            <p>Whenever a REST DB Object has being edited, the
            TypeScript SDK is updated to allow instant prototyping of
            REST queries using the Client API.</p>
            <p>This allows for adjusting and fine tuning the REST views
            and routines till they exactly meet the developer’s
            requirements and to prototype Client API calls for a
            development project.</p>
            <h3 data-number="25.2.3"
            id="generating-the-sdk-files-from-the-command-line"><span
            class="header-section-number">25.2.3</span> Generating the
            SDK Files from the Command Line</h3>
            <p>To generate the SDK files on the command line, the MySQL
            Shell needs to be <a
            href="https://dev.mysql.com/downloads/shell/">downloaded</a>
            and installed.</p>
            <blockquote>
            <p>When using the MySQL Shell for VS Code extension, the
            MySQL Shell executable is made available at
            <code>~/.mysqlsh-gui/mysqlsh</code> and a dedicated
            installation of the MySQL Shell is not required.</p>
            </blockquote>
            <p>The following template shows how to call the
            <code>mrs.dump.sdk_service_files</code> plugin function to
            perform the SDK generation.</p>
            <div class="sourceCode" id="cb243"><pre
            class="sourceCode sh"><code class="sourceCode bash"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mysqlsh</span> dba@localhost <span class="at">--py</span> <span class="at">-e</span> <span class="st">&#39;mrs.dump.sdk_service_files(directory=&quot;/path/to/project/sdk&quot;, options={&quot;sdk_language&quot;: &quot;TypeScript&quot;, &quot;service_url&quot;:&quot;https://example.com/myService&quot;})&#39;</span></span></code></pre></div>
            <p>The full list of parameters include the following.</p>
            <div class="sourceCode" id="cb244"><pre
            class="sourceCode txt"><code class="sourceCode default"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a>\? mrs.dump.sdk_service_files</span>
<span id="cb244-2"><a href="#cb244-2" aria-hidden="true" tabindex="-1"></a>NAME</span>
<span id="cb244-3"><a href="#cb244-3" aria-hidden="true" tabindex="-1"></a>      sdk_service_files - Dumps the SDK service files for a REST Service</span>
<span id="cb244-4"><a href="#cb244-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-5"><a href="#cb244-5" aria-hidden="true" tabindex="-1"></a>SYNTAX</span>
<span id="cb244-6"><a href="#cb244-6" aria-hidden="true" tabindex="-1"></a>      mrs.dump.sdk_service_files([kwargs])</span>
<span id="cb244-7"><a href="#cb244-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-8"><a href="#cb244-8" aria-hidden="true" tabindex="-1"></a>WHERE</span>
<span id="cb244-9"><a href="#cb244-9" aria-hidden="true" tabindex="-1"></a>      kwargs: Dictionary - Options to determine what should be generated.</span>
<span id="cb244-10"><a href="#cb244-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-11"><a href="#cb244-11" aria-hidden="true" tabindex="-1"></a>DESCRIPTION</span>
<span id="cb244-12"><a href="#cb244-12" aria-hidden="true" tabindex="-1"></a>      Returns:</span>
<span id="cb244-13"><a href="#cb244-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-14"><a href="#cb244-14" aria-hidden="true" tabindex="-1"></a>          True on success</span>
<span id="cb244-15"><a href="#cb244-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-16"><a href="#cb244-16" aria-hidden="true" tabindex="-1"></a>      The kwargs parameter accepts the following options:</span>
<span id="cb244-17"><a href="#cb244-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-18"><a href="#cb244-18" aria-hidden="true" tabindex="-1"></a>      - directory: String - The directory to store the .mrs.sdk folder with the</span>
<span id="cb244-19"><a href="#cb244-19" aria-hidden="true" tabindex="-1"></a>        files.</span>
<span id="cb244-20"><a href="#cb244-20" aria-hidden="true" tabindex="-1"></a>      - options: Dictionary - Several options how the SDK should be created.</span>
<span id="cb244-21"><a href="#cb244-21" aria-hidden="true" tabindex="-1"></a>      - session: Object - The database session to use.</span>
<span id="cb244-22"><a href="#cb244-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-23"><a href="#cb244-23" aria-hidden="true" tabindex="-1"></a>      The options option accepts the following options:</span>
<span id="cb244-24"><a href="#cb244-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-25"><a href="#cb244-25" aria-hidden="true" tabindex="-1"></a>      - service_id: String - The ID of the service the SDK should be generated</span>
<span id="cb244-26"><a href="#cb244-26" aria-hidden="true" tabindex="-1"></a>        for. If not specified, the default service is used.</span>
<span id="cb244-27"><a href="#cb244-27" aria-hidden="true" tabindex="-1"></a>      - db_connection_uri: String - The dbConnectionUri that was used to export</span>
<span id="cb244-28"><a href="#cb244-28" aria-hidden="true" tabindex="-1"></a>        the SDK files.</span>
<span id="cb244-29"><a href="#cb244-29" aria-hidden="true" tabindex="-1"></a>      - sdk_language: String - The SDK language to generate.</span>
<span id="cb244-30"><a href="#cb244-30" aria-hidden="true" tabindex="-1"></a>      - add_app_base_class: String - The additional AppBaseClass file name.</span>
<span id="cb244-31"><a href="#cb244-31" aria-hidden="true" tabindex="-1"></a>      - service_url: String - The url of the service.</span>
<span id="cb244-32"><a href="#cb244-32" aria-hidden="true" tabindex="-1"></a>      - version: Integer - The version of the generated files.</span>
<span id="cb244-33"><a href="#cb244-33" aria-hidden="true" tabindex="-1"></a>      - generationDate: String - The generation date of the SDK files.</span>
<span id="cb244-34"><a href="#cb244-34" aria-hidden="true" tabindex="-1"></a>      - header: String - The header to use for the SDK files.</span></code></pre></div>
            <h3 data-number="25.2.4" id="important-notes"><span
            class="header-section-number">25.2.4</span> Important
            Notes</h3>
            <p>The identifiers used to name each corresponding REST
            resource (services, schemas and/or objects) in the SDK are
            based on their corresponding request path segment.</p>
            <p>These are generated using the most common convention for
            each language - TypeScript and Python - which means that the
            identifier generated for a request path such as
            <code>/myRequestPath</code> would be equivalent to the one
            generated for <code>/my_request_path</code>. To avoid a
            naming conflict in this case, the code generator keeps track
            of potential conflicts and appends a suffix to duplicate
            identifiers which corresponds to an increasing number based
            on the current total of duplicates. Following the sorting
            rules by omission in MySQL, under these circumstances, the
            snake_case version takes precedence over the camelCase
            version.</p>
            <table>
            <colgroup>
            <col style="width: 20%" />
            <col style="width: 18%" />
            <col style="width: 18%" />
            <col style="width: 20%" />
            <col style="width: 20%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Request Path</th>
            <th>TypeScript Class</th>
            <th>Python Class</th>
            <th>TypeScript Property</th>
            <th>Python Property</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td><code>/my_request_path</code></td>
            <td><code>MyRequestPath</code></td>
            <td><code>MyRequestPath</code></td>
            <td><code>myRequestPath</code></td>
            <td><code>my_request_path</code></td>
            </tr>
            <tr class="even">
            <td><code>/myRequestPath</code></td>
            <td><code>MyRequestPath1</code></td>
            <td><code>MyRequestPath1</code></td>
            <td><code>myRequestPath1</code></td>
            <td><code>my_request_path1</code></td>
            </tr>
            </tbody>
            </table>
            <p>Naming conflicts can also happen with the static
            identifiers used the native SDK functions available at each
            REST resource level (service, schema and/or object),
            examples can be as follows (depending on the level):</p>
            <ul>
            <li><code>authenticate</code></li>
            <li><code>deauthenticate</code></li>
            <li><code>getMetadata</code>/<code>get_metadata</code></li>
            <li><code>getAuthApps</code>/<code>get_auth_apps</code></li>
            </ul>
            <p>In this case, the non static identifiers used for schema
            or object names will contain the corresponding suffix.</p>
            <p>Additionally, request paths with a leading numeric
            character are also perfectly valid, but without special
            handling, the resulting identifiers would lead to syntax
            errors in both languages. In this case, following the common
            convention, the generated identifier contains an extra
            leading <code>_</code>.</p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="26" id="working-with-rest-services"><span
            class="header-section-number">26</span> Working with REST
            Services</h1>
            <p>The initializer returns an objects that implements the
            interface described in the <a
            href="#client-api-reference">API reference docs</a>.</p>
            <p>For a REST service available under the root path
            <code>/myService</code>, the corresponding client-side
            object can be created, on TypeScript, as follows:</p>
            <div class="sourceCode" id="cb245"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb245-2"><a href="#cb245-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-3"><a href="#cb245-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span></code></pre></div>
            <p>or, using a custom base URL:</p>
            <div class="sourceCode" id="cb246"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb246-2"><a href="#cb246-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb246-3"><a href="#cb246-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>(<span class="st">&quot;https://localhost:8443/myService&quot;</span>)<span class="op">;</span></span></code></pre></div>
            <p>Similarly, on Python, the client-side object can be
            created as follows:</p>
            <div class="sourceCode" id="cb247"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.my_service <span class="im">import</span> <span class="op">*</span></span>
<span id="cb247-2"><a href="#cb247-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb247-3"><a href="#cb247-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span></code></pre></div>
            <p>or, using a custom base URL:</p>
            <div class="sourceCode" id="cb248"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.my_service <span class="im">import</span> <span class="op">*</span></span>
<span id="cb248-2"><a href="#cb248-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-3"><a href="#cb248-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService(base_url<span class="op">=</span><span class="st">&quot;https://localhost:8443/myService&quot;</span>)</span>
<span id="cb248-4"><a href="#cb248-4" aria-hidden="true" tabindex="-1"></a><span class="co"># or just</span></span>
<span id="cb248-5"><a href="#cb248-5" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService(<span class="st">&quot;https://localhost:8443/myService&quot;</span>)</span></code></pre></div>
            <h2 data-number="26.1" id="authentication"><span
            class="header-section-number">26.1</span>
            Authentication</h2>
            <p>When a REST object requires authentication, applications
            using the SDK should authenticate in the scope of the
            corresponding REST service beforehand. A client can be
            authenticated using an existing authentication app,
            providing a valid username and password (and optionally, a
            vendor id).</p>
            <p>If a vendor id is not specified, the SDK automatically
            looks up the appropriate vendor id for the corresponding
            authentication app (which results in an extra round-trip to
            the MRS backend).</p>
            <p>Currently, the MRS SDK (both for TypeScript and Python)
            only supports MRS Native and MySQL Internal Authentication
            apps (more details <a
            href="../devGuide/Auth.md">here</a>).</p>
            <h3 data-number="26.1.1"
            id="mrs-native-authentication"><span
            class="header-section-number">26.1.1</span> MRS Native
            Authentication</h3>
            <p>With an authentication app created as follows:</p>
            <div class="sourceCode" id="cb249"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST AUTH APP baz <span class="kw">ON</span> SERVICE <span class="op">/</span>myService VENDOR MRS;</span></code></pre></div>
            <p>and a REST user created as follows:</p>
            <div class="sourceCode" id="cb250"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="fu">USER</span> <span class="ot">&quot;foo&quot;</span>@<span class="ot">&quot;baz&quot;</span> <span class="kw">IDENTIFIED</span> <span class="kw">BY</span> <span class="ot">&quot;bar&quot;</span>;</span></code></pre></div>
            <p><strong><em>TypeScript</em></strong></p>
            <div class="sourceCode" id="cb251"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="fu">authenticate</span>({ username<span class="op">:</span> <span class="st">&quot;foo&quot;</span><span class="op">,</span> password<span class="op">:</span> <span class="st">&quot;bar&quot;</span><span class="op">,</span> app<span class="op">:</span> <span class="st">&quot;baz&quot;</span> })</span></code></pre></div>
            <p><strong><em>Python</em></strong></p>
            <div class="sourceCode" id="cb252"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a>my_service.authenticate(username<span class="op">=</span><span class="st">&quot;foo&quot;</span>, password<span class="op">=</span><span class="st">&quot;bar&quot;</span>, app<span class="op">=</span><span class="st">&quot;baz&quot;</span>)</span></code></pre></div>
            <h3 data-number="26.1.2"
            id="mysql-internal-authentication"><span
            class="header-section-number">26.1.2</span> MySQL Internal
            Authentication</h3>
            <p>In the same way, with an authentication app created as
            follows:</p>
            <div class="sourceCode" id="cb253"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST AUTH APP qux <span class="kw">ON</span> SERVICE <span class="op">/</span>myService VENDOR MYSQL;</span></code></pre></div>
            <p>and, this time, an actual MySQL server account created as
            follows:</p>
            <div class="sourceCode" id="cb254"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="fu">USER</span> foo <span class="kw">IDENTIFIED</span> <span class="kw">BY</span> <span class="ot">&quot;bar&quot;</span>;</span></code></pre></div>
            <p>the API is used in the exact same way.</p>
            <p><strong><em>TypeScript</em></strong></p>
            <div class="sourceCode" id="cb255"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb255-1"><a href="#cb255-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="fu">authenticate</span>({ username<span class="op">:</span> <span class="st">&quot;foo&quot;</span><span class="op">,</span> password<span class="op">:</span> <span class="st">&quot;bar&quot;</span><span class="op">,</span> app<span class="op">:</span> <span class="st">&quot;qux&quot;</span> })</span></code></pre></div>
            <p><strong><em>Python</em></strong></p>
            <div class="sourceCode" id="cb256"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a>my_service.authenticate(username<span class="op">=</span><span class="st">&quot;foo&quot;</span>, password<span class="op">=</span><span class="st">&quot;bar&quot;</span>, app<span class="op">=</span><span class="st">&quot;baz&quot;</span>)</span></code></pre></div>
            <p>After the authentication succeeds, every valid SDK
            command that executes on top of a REST object that requires
            authentication, should also succeed.</p>
            <h3 data-number="26.1.3" id="authentication-errors"><span
            class="header-section-number">26.1.3</span> Authentication
            Errors</h3>
            <p>In the case where a vendor id is not specified when
            calling the command, the client performs a vendor lookup in
            the backend using the name of the authentication app. If the
            authentication app does not exist, the command yields an
            error.</p>
            <div class="sourceCode" id="cb257"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> {</span>
<span id="cb257-2"><a href="#cb257-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> myService<span class="op">.</span><span class="fu">authenticate</span>({ username<span class="op">:</span> <span class="st">&quot;foo&quot;</span><span class="op">,</span> password<span class="op">:</span> <span class="st">&quot;bar&quot;</span><span class="op">,</span> app<span class="op">:</span> <span class="st">&quot;&lt;non_existing&gt;&quot;</span> })</span>
<span id="cb257-3"><a href="#cb257-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">catch</span> (err) {</span>
<span id="cb257-4"><a href="#cb257-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(err<span class="op">.</span><span class="at">message</span>) <span class="co">// &quot;Authentication failed. The authentication app does not exist.&quot;</span></span>
<span id="cb257-5"><a href="#cb257-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>In the case where a vendor id is specified when calling
            the command, the client does not perform any additional
            vendor lookup, which means that it assumes the command was
            provided with the name of an authentication app of that same
            vendor and simplify attempts to authenticate using the
            appropriate authentication mechanism. Ultimately the
            authentication will fail and the command will return an
            error.</p>
            <div class="sourceCode" id="cb258"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> result <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="fu">authenticate</span>({</span>
<span id="cb258-2"><a href="#cb258-2" aria-hidden="true" tabindex="-1"></a>    username<span class="op">:</span> <span class="st">&quot;foo&quot;</span><span class="op">,</span></span>
<span id="cb258-3"><a href="#cb258-3" aria-hidden="true" tabindex="-1"></a>    password<span class="op">:</span> <span class="st">&quot;bar&quot;</span><span class="op">,</span></span>
<span id="cb258-4"><a href="#cb258-4" aria-hidden="true" tabindex="-1"></a>    app<span class="op">:</span> <span class="st">&quot;&lt;app_from_different_vendor&gt;&quot;</span><span class="op">,</span></span>
<span id="cb258-5"><a href="#cb258-5" aria-hidden="true" tabindex="-1"></a>    vendor<span class="op">:</span> <span class="st">&quot;&lt;vendor_id&gt;&quot;</span></span>
<span id="cb258-6"><a href="#cb258-6" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb258-7"><a href="#cb258-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-8"><a href="#cb258-8" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(result<span class="op">.</span><span class="at">errorMessage</span>) <span class="co">// Authentication failed. The authentication app is of a different vendor.</span></span></code></pre></div>
            <p>Additionally, the command will, as expected, also yield
            an error when the password does not match the given
            username.</p>
            <h3 data-number="26.1.4" id="deauthentication"><span
            class="header-section-number">26.1.4</span>
            Deauthentication</h3>
            <p>Once a user is authenticated, it can logout from a given
            service, by calling the <code>deauthenticate</code> command
            as follows:</p>
            <div class="sourceCode" id="cb259"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="fu">deauthenticate</span>()</span></code></pre></div>
            <p>If no user is authenticated, calling the command yields
            an error as follows:</p>
            <div class="sourceCode" id="cb260"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> {</span>
<span id="cb260-2"><a href="#cb260-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> myService<span class="op">.</span><span class="fu">deauthenticate</span>()</span>
<span id="cb260-3"><a href="#cb260-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">catch</span> (err) {</span>
<span id="cb260-4"><a href="#cb260-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(err<span class="op">.</span><span class="at">message</span>) <span class="co">// No user is currently authenticated.</span></span>
<span id="cb260-5"><a href="#cb260-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <!-- Copyright (c) 2023, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="27" id="working-with-rest-views"><span
            class="header-section-number">27</span> Working with REST
            Views</h1>
            <h2 data-number="27.1" id="create-a-new-document"><span
            class="header-section-number">27.1</span> Create a New
            Document</h2>
            <p>To insert a new document on a REST view, the
            <code>create</code> API method is used.</p>
            <h3 data-number="27.1.1"
            id="example-of-inserting-a-new-document"><span
            class="header-section-number">27.1.1</span> Example of
            Inserting a New Document</h3>
            <p>Given the REST view <code>/actor</code> defined as
            follows, this example shows how to insert a new
            document.</p>
            <div class="sourceCode" id="cb261"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST SERVICE <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> <span class="op">/</span>myService;</span>
<span id="cb261-2"><a href="#cb261-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-3"><a href="#cb261-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REST <span class="kw">SCHEMA</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> <span class="op">/</span>sakila <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">FROM</span> sakila;</span>
<span id="cb261-4"><a href="#cb261-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-5"><a href="#cb261-5" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>actor</span>
<span id="cb261-6"><a href="#cb261-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila</span>
<span id="cb261-7"><a href="#cb261-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AS</span> sakila.actor <span class="kw">CLASS</span> MyServiceSakilaActor @INSERT @UPDATE @DELETE {</span>
<span id="cb261-8"><a href="#cb261-8" aria-hidden="true" tabindex="-1"></a>        actorId: actor_id @SORTABLE @KEY,</span>
<span id="cb261-9"><a href="#cb261-9" aria-hidden="true" tabindex="-1"></a>        firstName: first_name,</span>
<span id="cb261-10"><a href="#cb261-10" aria-hidden="true" tabindex="-1"></a>        lastName: last_name,</span>
<span id="cb261-11"><a href="#cb261-11" aria-hidden="true" tabindex="-1"></a>        lastUpdate: last_update</span>
<span id="cb261-12"><a href="#cb261-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb261-13"><a href="#cb261-13" aria-hidden="true" tabindex="-1"></a>    AUTHENTICATION REQUIRED;</span></code></pre></div>
            <blockquote>
            <p>Inserting a new document in the <code>actor</code> table
            does not require either the <code>actorId</code> field or
            the <code>lastUpdate</code> field because the former is an
            auto-generated primary key (<code>AUTO_INCREMENT</code>)
            whereas the latter maps to a column with a default value
            <code>CURRENT_TIMESTAMP()</code>.</p>
            </blockquote>
            <p><strong><em>TypeScript</em></strong></p>
            <div class="sourceCode" id="cb262"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">create</span>({ data<span class="op">:</span> { firstName<span class="op">:</span> <span class="st">&quot;FOO&quot;</span><span class="op">,</span> lastName<span class="op">:</span> <span class="st">&quot;BAR&quot;</span> } })</span></code></pre></div>
            <p><strong><em>Python</em></strong></p>
            <div class="sourceCode" id="cb263"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a>my_service.sakila.actor.create(data<span class="op">=</span>{<span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;FOO&quot;</span>, <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;BAR&quot;</span>})</span></code></pre></div>
            <h2 data-number="27.2" id="read-documents"><span
            class="header-section-number">27.2</span> Read
            Documents</h2>
            <p>To fetch documents from a REST view the family of
            <code>find</code> API commands is used. Each of these
            commands covers a specific use case when looking for
            documents.</p>
            <table>
            <caption>Family of <code>find</code> API Commands</caption>
            <colgroup>
            <col style="width: 50%" />
            <col style="width: 50%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>API Command</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>find()</td>
            <td>Fetches a page of the list of documents that were
            found.</td>
            </tr>
            <tr class="even">
            <td>findFirst()</td>
            <td>Fetches the first document that was found.</td>
            </tr>
            <tr class="odd">
            <td>findFirstOrThrow()</td>
            <td>Same as findFirst() but throws when there was no
            document found.</td>
            </tr>
            <tr class="even">
            <td>findUnique()</td>
            <td>Fetches the first document that matches a unique key
            lookup.</td>
            </tr>
            <tr class="odd">
            <td>findUniqueOrThrow()</td>
            <td>Same as findUnique() but throws when there was no
            document found.</td>
            </tr>
            </tbody>
            </table>
            <blockquote>
            <p>Please not that exact spelling of the API commands
            depends on the actual SDK language used, as its specific
            naming conventions (e.g. snake_case for Python) are
            honored.</p>
            </blockquote>
            <h3 data-number="27.2.1"
            id="querying-data-in-multiple-pages"><span
            class="header-section-number">27.2.1</span> Querying Data in
            Multiple Pages</h3>
            <p>When a query for a REST View produces multiple documents,
            those are sent to the client organized in a set of pages
            that can be requested on demand. Each page contains, by
            default, 25 documents at most. The page size can be
            customized at the REST object level or by using the
            <code>take</code> option in the <code>find()</code> command.
            The command works by fetching the first page of documents,
            and provides additional infrastructure to keep consuming
            more matching documents whilst they exist.</p>
            <p>For example, retrieving the first 50 documents with the
            default page size can be done as follows:</p>
            <div class="sourceCode" id="cb264"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> countries <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">country</span><span class="op">.</span><span class="fu">find</span>()<span class="op">;</span></span>
<span id="cb264-2"><a href="#cb264-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(countries)</span>
<span id="cb264-3"><a href="#cb264-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (countries<span class="op">.</span><span class="at">hasMore</span>) {</span>
<span id="cb264-4"><a href="#cb264-4" aria-hidden="true" tabindex="-1"></a>    countries <span class="op">=</span> <span class="cf">await</span> countries<span class="op">.</span><span class="fu">next</span>()<span class="op">;</span></span>
<span id="cb264-5"><a href="#cb264-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(countries)</span>
<span id="cb264-6"><a href="#cb264-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb264-7"><a href="#cb264-7" aria-hidden="true" tabindex="-1"></a>[</span>
<span id="cb264-8"><a href="#cb264-8" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb264-9"><a href="#cb264-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Afghanistan&quot;</span><span class="op">,</span></span>
<span id="cb264-10"><a href="#cb264-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb264-11"><a href="#cb264-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span><span class="op">,</span></span>
<span id="cb264-12"><a href="#cb264-12" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb264-13"><a href="#cb264-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...</span></span>
<span id="cb264-14"><a href="#cb264-14" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb264-15"><a href="#cb264-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Congo, The Democratic Republic of the&quot;</span><span class="op">,</span></span>
<span id="cb264-16"><a href="#cb264-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span></span>
<span id="cb264-17"><a href="#cb264-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span><span class="op">,</span></span>
<span id="cb264-18"><a href="#cb264-18" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb264-19"><a href="#cb264-19" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb264-20"><a href="#cb264-20" aria-hidden="true" tabindex="-1"></a>[</span>
<span id="cb264-21"><a href="#cb264-21" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb264-22"><a href="#cb264-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Czech Republic&quot;</span><span class="op">,</span></span>
<span id="cb264-23"><a href="#cb264-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">26</span><span class="op">,</span></span>
<span id="cb264-24"><a href="#cb264-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span><span class="op">,</span></span>
<span id="cb264-25"><a href="#cb264-25" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb264-26"><a href="#cb264-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...</span></span>
<span id="cb264-27"><a href="#cb264-27" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb264-28"><a href="#cb264-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Japan&quot;</span><span class="op">,</span></span>
<span id="cb264-29"><a href="#cb264-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span></span>
<span id="cb264-30"><a href="#cb264-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span><span class="op">,</span></span>
<span id="cb264-31"><a href="#cb264-31" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb264-32"><a href="#cb264-32" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
            <p>Retrieving all documents under a given filter, whilst
            skipping an initial number of them and lowering the page
            size can be done as follows:</p>
            <div class="sourceCode" id="cb265"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> countries <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">country</span><span class="op">.</span><span class="fu">find</span>({ where<span class="op">:</span> { country<span class="op">:</span> { $like<span class="op">:</span> <span class="st">&quot;C%&quot;</span> } }<span class="op">,</span> take<span class="op">:</span> <span class="dv">3</span><span class="op">,</span> skip<span class="op">:</span> <span class="dv">2</span> })<span class="op">;</span></span>
<span id="cb265-2"><a href="#cb265-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(countries)</span>
<span id="cb265-3"><a href="#cb265-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (countries<span class="op">.</span><span class="at">hasMore</span>) {</span>
<span id="cb265-4"><a href="#cb265-4" aria-hidden="true" tabindex="-1"></a>    countries <span class="op">=</span> <span class="cf">await</span> countries<span class="op">.</span><span class="fu">next</span>()<span class="op">;</span></span>
<span id="cb265-5"><a href="#cb265-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(countries)</span>
<span id="cb265-6"><a href="#cb265-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb265-7"><a href="#cb265-7" aria-hidden="true" tabindex="-1"></a>[</span>
<span id="cb265-8"><a href="#cb265-8" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb265-9"><a href="#cb265-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Canada&quot;</span><span class="op">,</span></span>
<span id="cb265-10"><a href="#cb265-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb265-11"><a href="#cb265-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span><span class="op">,</span></span>
<span id="cb265-12"><a href="#cb265-12" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb265-13"><a href="#cb265-13" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb265-14"><a href="#cb265-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Chad&quot;</span><span class="op">,</span></span>
<span id="cb265-15"><a href="#cb265-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">21</span><span class="op">,</span></span>
<span id="cb265-16"><a href="#cb265-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span><span class="op">,</span></span>
<span id="cb265-17"><a href="#cb265-17" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb265-18"><a href="#cb265-18" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb265-19"><a href="#cb265-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Chile&quot;</span><span class="op">,</span></span>
<span id="cb265-20"><a href="#cb265-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">22</span><span class="op">,</span></span>
<span id="cb265-21"><a href="#cb265-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span><span class="op">,</span></span>
<span id="cb265-22"><a href="#cb265-22" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb265-23"><a href="#cb265-23" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb265-24"><a href="#cb265-24" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb265-25"><a href="#cb265-25" aria-hidden="true" tabindex="-1"></a>[</span>
<span id="cb265-26"><a href="#cb265-26" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb265-27"><a href="#cb265-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Czech Republic&quot;</span><span class="op">,</span></span>
<span id="cb265-28"><a href="#cb265-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">26</span><span class="op">,</span></span>
<span id="cb265-29"><a href="#cb265-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:44:00.000000&quot;</span><span class="op">,</span></span>
<span id="cb265-30"><a href="#cb265-30" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb265-31"><a href="#cb265-31" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
            <h3 data-number="27.2.2"
            id="querying-data-across-relational-tables"><span
            class="header-section-number">27.2.2</span> Querying Data
            Across Relational Tables</h3>
            <p>MySQL supports foreign keys, which permit
            cross-referencing related data across tables, and foreign
            key constraints to help keep the related data
            consistent.</p>
            <p>A foreign key relationship involves a parent table that
            holds the initial column values, and a child table with
            column values that reference the parent column values. A
            foreign key constraint is defined on the child table.
            Foreign keys enable establishing one-to-one, one-to-many or
            many-to-many relationships between rows in those tables.</p>
            <p>With the MySQL REST Service, these relationships can be
            expanded to include related data from different tables
            embedded in the same result set with the REST data mapping
            view feature available for each MRS database object. The
            client can then select which columns should be expanded
            using a specific HTTP query syntax to specify and navigate
            along the nesting path of columns on other tables that are
            referenced by a root column in the main (or parent)
            table.</p>
            <p>A key feature of the MRS SDK is the ability to query
            these relations between two database objects and include or
            exclude specific columns from the query response.</p>
            <p>This feature is available using the <code>select</code>
            option in the following API commands:</p>
            <ul>
            <li><code>findFirst()</code></li>
            <li><code>find()</code></li>
            <li><code>findUnique()</code></li>
            </ul>
            <p>By default, all the object fields (expanded or not) and
            their values are returned in the query response. Specific
            fields can be excluded from the query response using a plain
            object format in which the properties are the names of the
            fields to exclude and each value is <code>false</code>.</p>
            <p>With a setup using the <a
            href="https://dev.mysql.com/doc/sakila/en/">Sakila Sample
            Database</a> where the schema is available under a REST
            service called <code>myService</code> and the relationship
            between the city and country tables (one-to-one) is expanded
            via the REST data mapping view feature, the
            <code>lastUpdate</code> and <code>country.lastUpdate</code>
            fields can be excluded as follows:</p>
            <div class="sourceCode" id="cb266"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findFirst</span>({ select<span class="op">:</span> { lastUpdate<span class="op">:</span> <span class="kw">false</span><span class="op">,</span> country<span class="op">:</span> { lastUpdate<span class="op">:</span> <span class="kw">false</span> } } })</span>
<span id="cb266-2"><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb266-3"><a href="#cb266-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;city&quot;</span><span class="op">:</span> <span class="st">&quot;A Coruña (La Coruña)&quot;</span><span class="op">,</span></span>
<span id="cb266-4"><a href="#cb266-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;cityId&quot;</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb266-5"><a href="#cb266-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;country&quot;</span><span class="op">:</span> {</span>
<span id="cb266-6"><a href="#cb266-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Spain&quot;</span><span class="op">,</span></span>
<span id="cb266-7"><a href="#cb266-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">87</span></span>
<span id="cb266-8"><a href="#cb266-8" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb266-9"><a href="#cb266-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;countryId&quot;</span><span class="op">:</span> <span class="dv">87</span></span>
<span id="cb266-10"><a href="#cb266-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>In the same way, if the relationship between the
            <code>actor</code> and <code>film</code> tables
            (many-to-many) is expanded, the following command excludes
            the identifiers on each nested object:</p>
            <div class="sourceCode" id="cb267"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">findFirst</span>({ select<span class="op">:</span> { filmActor<span class="op">:</span> { actorId<span class="op">:</span> <span class="kw">false</span><span class="op">,</span> film<span class="op">:</span> { filmId<span class="op">:</span> <span class="kw">false</span><span class="op">,</span> languageId<span class="op">:</span> <span class="kw">false</span><span class="op">,</span> originalLanguageId<span class="op">:</span> <span class="kw">false</span> } } } })</span>
<span id="cb267-2"><a href="#cb267-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb267-3"><a href="#cb267-3" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb267-4"><a href="#cb267-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;actorId&quot;</span><span class="op">:</span> <span class="dv">58</span><span class="op">,</span></span>
<span id="cb267-5"><a href="#cb267-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;lastName&quot;</span><span class="op">:</span> <span class="st">&quot;AKROYD&quot;</span><span class="op">,</span></span>
<span id="cb267-6"><a href="#cb267-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;filmActor&quot;</span><span class="op">:</span> [</span>
<span id="cb267-7"><a href="#cb267-7" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb267-8"><a href="#cb267-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;film&quot;</span><span class="op">:</span> {</span>
<span id="cb267-9"><a href="#cb267-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;title&quot;</span><span class="op">:</span> <span class="st">&quot;BACKLASH UNDEFEATED&quot;</span><span class="op">,</span></span>
<span id="cb267-10"><a href="#cb267-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;length&quot;</span><span class="op">:</span> <span class="dv">118</span><span class="op">,</span></span>
<span id="cb267-11"><a href="#cb267-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;rating&quot;</span><span class="op">:</span> <span class="st">&quot;PG-13&quot;</span><span class="op">,</span></span>
<span id="cb267-12"><a href="#cb267-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 05:03:42.000000&quot;</span><span class="op">,</span></span>
<span id="cb267-13"><a href="#cb267-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;rentalRate&quot;</span><span class="op">:</span> <span class="fl">4.99</span><span class="op">,</span></span>
<span id="cb267-14"><a href="#cb267-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;description&quot;</span><span class="op">:</span> <span class="st">&quot;A Stunning Character Study of a Mad Scientist And a Mad Cow who must Kill a Car in A Monastery&quot;</span><span class="op">,</span></span>
<span id="cb267-15"><a href="#cb267-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;releaseYear&quot;</span><span class="op">:</span> <span class="dv">2006</span><span class="op">,</span></span>
<span id="cb267-16"><a href="#cb267-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;rentalDuration&quot;</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb267-17"><a href="#cb267-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;replacementCost&quot;</span><span class="op">:</span> <span class="fl">24.99</span><span class="op">,</span></span>
<span id="cb267-18"><a href="#cb267-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;specialFeatures&quot;</span><span class="op">:</span> <span class="st">&quot;Trailers,Behind the Scenes&quot;</span></span>
<span id="cb267-19"><a href="#cb267-19" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb267-20"><a href="#cb267-20" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;filmId&quot;</span><span class="op">:</span> <span class="dv">48</span><span class="op">,</span></span>
<span id="cb267-21"><a href="#cb267-21" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 05:05:03.000000&quot;</span></span>
<span id="cb267-22"><a href="#cb267-22" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb267-23"><a href="#cb267-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb267-24"><a href="#cb267-24" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb267-25"><a href="#cb267-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;firstName&quot;</span><span class="op">:</span> <span class="st">&quot;CHRISTIAN&quot;</span><span class="op">,</span></span>
<span id="cb267-26"><a href="#cb267-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;lastUpdate&quot;</span><span class="op">:</span> <span class="st">&quot;2006-02-15 04:34:33.000000&quot;</span></span>
<span id="cb267-27"><a href="#cb267-27" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>On the other hand, fields can be cherry-picked and
            included in the query response by using either the same
            object format and setting the value to <code>true</code>, or
            alternatively, using a list of field names to include.</p>
            <p>In the same way, this is possible for one-to-one
            relationships:</p>
            <div class="sourceCode" id="cb268"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">city</span><span class="op">.</span><span class="fu">findFirst</span>({ select<span class="op">:</span> { city<span class="op">:</span> <span class="kw">true</span><span class="op">,</span> country<span class="op">:</span> { country<span class="op">:</span> <span class="kw">true</span> } } })</span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb268-3"><a href="#cb268-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;city&quot;</span><span class="op">:</span> <span class="st">&quot;A Coruña (La Coruña)&quot;</span><span class="op">,</span></span>
<span id="cb268-4"><a href="#cb268-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;country&quot;</span><span class="op">:</span> {</span>
<span id="cb268-5"><a href="#cb268-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span><span class="op">:</span> <span class="st">&quot;Spain&quot;</span><span class="op">,</span></span>
<span id="cb268-6"><a href="#cb268-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb268-7"><a href="#cb268-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>And also for many-to-many relationships:</p>
            <div class="sourceCode" id="cb269"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb269-1"><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">findFirst</span>({ select<span class="op">:</span> [<span class="st">&#39;filmActor.film.title&#39;</span>] })</span>
<span id="cb269-2"><a href="#cb269-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb269-3"><a href="#cb269-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;filmActor&quot;</span><span class="op">:</span> [</span>
<span id="cb269-4"><a href="#cb269-4" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb269-5"><a href="#cb269-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;film&quot;</span><span class="op">:</span> {</span>
<span id="cb269-6"><a href="#cb269-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;title&quot;</span><span class="op">:</span> <span class="st">&quot;BACKLASH UNDEFEATED&quot;</span></span>
<span id="cb269-7"><a href="#cb269-7" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb269-8"><a href="#cb269-8" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb269-9"><a href="#cb269-9" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb269-10"><a href="#cb269-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;film&quot;</span><span class="op">:</span> {</span>
<span id="cb269-11"><a href="#cb269-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;title&quot;</span><span class="op">:</span> <span class="st">&quot;BETRAYED REAR&quot;</span></span>
<span id="cb269-12"><a href="#cb269-12" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb269-13"><a href="#cb269-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb269-14"><a href="#cb269-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb269-15"><a href="#cb269-15" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb269-16"><a href="#cb269-16" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="27.3" id="updating-a-document"><span
            class="header-section-number">27.3</span> Updating A
            Document</h2>
            <p>The SDK offers two different methods of how to update an
            existing document on a REST view.</p>
            <ol type="1">
            <li>Using the REST view <code>update</code> method.
            <ul>
            <li>REST view class exposes an <code>update</code> API
            method that can be called with the new document data. In
            this case, all fields, including the primary key fields need
            to be specified explicitly.</li>
            </ul></li>
            <li>Using the Document API.
            <ul>
            <li>When a MRS document has been fetched before using the
            <code>find</code> API methods, the updates can be applied
            directly to the fields of that document. After all changes
            have been performed, the <code>update</code> method of the
            document object can be called. Please see the <a
            href="#document-api-for-updates-and-deletes">Document
            API</a> section for more details.</li>
            </ul></li>
            </ol>
            <h3 data-number="27.3.1"
            id="updating-a-document-using-the-rest-view-update-method"><span
            class="header-section-number">27.3.1</span> Updating a
            Document Using the REST View update Method</h3>
            <p>Updating a document on the REST view requires all fields
            to be specified if they are not nullable.</p>
            <p>In the following example, neither <code>firstName</code>
            nor <code>lastName</code> are nullable and have to be
            specified. On the other hand, the <code>description</code>
            column in the <code>film_text</code> table is nullable.</p>
            <p><strong><em>TypeScript</em></strong></p>
            <div class="sourceCode" id="cb270"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">update</span>({ data<span class="op">:</span> { id<span class="op">:</span> <span class="dv">1</span><span class="op">,</span> firstName<span class="op">:</span> <span class="st">&quot;PENELOPE&quot;</span><span class="op">,</span> lastName<span class="op">:</span> <span class="st">&quot;CRUZ&quot;</span> } }) <span class="co">// Property &#39;lastUpdate&#39; is missing in type &#39;{ actorId: number; lastName: string; firstName: string; }&#39; but required in type &#39;IUpdateMyServiceSakilaActor&#39;.</span></span>
<span id="cb270-2"><a href="#cb270-2" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">filmText</span><span class="op">.</span><span class="fu">update</span>({ data<span class="op">:</span> { film_id<span class="op">:</span> <span class="dv">1</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&quot;FOO&quot;</span> } })</span></code></pre></div>
            <p><strong><em>Python</em></strong></p>
            <div class="sourceCode" id="cb271"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb271-1"><a href="#cb271-1" aria-hidden="true" tabindex="-1"></a>my_service.sakila.actor.update(data<span class="op">=</span>{<span class="st">&quot;id&quot;</span>: <span class="dv">1</span>, <span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;PENELOPE&quot;</span>, <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;CRUZ&quot;</span>}) <span class="co"># Missing key &quot;last_update&quot; for TypedDict &quot;IUpdateMyServiceSakilaActor&quot;</span></span>
<span id="cb271-2"><a href="#cb271-2" aria-hidden="true" tabindex="-1"></a>my_service.sakila.film_text.update(data<span class="op">=</span>{<span class="st">&quot;film_id&quot;</span>: <span class="dv">1</span>, <span class="st">&quot;title&quot;</span>: <span class="st">&quot;FOO&quot;</span>})</span></code></pre></div>
            <h3 data-number="27.3.2"
            id="updating-a-document-using-the-document-api"><span
            class="header-section-number">27.3.2</span> Updating a
            Document using the Document API</h3>
            <p>When fetching documents from REST view endpoints, the SDK
            offers a convenient API to work with those objects in a
            object-oriented way, by using <code>update</code> and
            <code>delete</code> methods that can be directly called on
            the document.</p>
            <p>The <code>update</code> and <code>delete</code> methods
            are only available if the corresponding REST View enables
            the “UPDATE” and/or “DELETE” CRUD operations, respectively
            and specifies the appropriate identifier fields (mapping to
            underlying database primary keys).</p>
            <blockquote>
            <p>In the TypeScript SDK, the identifier fields that are
            part of a REST Document are read-only. This is currently not
            the case on the Python SDK.</p>
            </blockquote>
            <p><strong><em>TypeScript</em></strong></p>
            <div class="sourceCode" id="cb272"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> actor <span class="op">=</span> <span class="cf">await</span> my_service<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">find_first</span>()</span>
<span id="cb272-2"><a href="#cb272-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (actor) {</span>
<span id="cb272-3"><a href="#cb272-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(actor<span class="op">.</span><span class="at">actorId</span>) <span class="co">// 1</span></span>
<span id="cb272-4"><a href="#cb272-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(actor<span class="op">.</span><span class="at">lastName</span>) <span class="co">// &quot;GUINESS&quot;</span></span>
<span id="cb272-5"><a href="#cb272-5" aria-hidden="true" tabindex="-1"></a>    actor<span class="op">.</span><span class="at">lastName</span> <span class="op">=</span> <span class="st">&quot;NOGUINESS&quot;</span></span>
<span id="cb272-6"><a href="#cb272-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> actor<span class="op">.</span><span class="fu">update</span>()</span>
<span id="cb272-7"><a href="#cb272-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb272-8"><a href="#cb272-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-9"><a href="#cb272-9" aria-hidden="true" tabindex="-1"></a>actor <span class="op">=</span> <span class="cf">await</span> my_service<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">find_first</span>()</span>
<span id="cb272-10"><a href="#cb272-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (actor) {</span>
<span id="cb272-11"><a href="#cb272-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(actor<span class="op">.</span><span class="at">lastName</span>) <span class="co">// &quot;NOGUINESS&quot;</span></span>
<span id="cb272-12"><a href="#cb272-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> actor<span class="op">.</span><span class="fu">delete</span>()</span>
<span id="cb272-13"><a href="#cb272-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb272-14"><a href="#cb272-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-15"><a href="#cb272-15" aria-hidden="true" tabindex="-1"></a>actor <span class="op">=</span> <span class="cf">await</span> my_service<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">find_first</span>()</span>
<span id="cb272-16"><a href="#cb272-16" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (actor) {</span>
<span id="cb272-17"><a href="#cb272-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(actor<span class="op">.</span><span class="at">actorId</span>) <span class="co">// 2</span></span>
<span id="cb272-18"><a href="#cb272-18" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p><strong><em>Python</em></strong></p>
            <div class="sourceCode" id="cb273"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb273-1"><a href="#cb273-1" aria-hidden="true" tabindex="-1"></a>actor <span class="op">=</span> <span class="cf">await</span> my_service.sakila.actor.find_first()</span>
<span id="cb273-2"><a href="#cb273-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> actor:</span>
<span id="cb273-3"><a href="#cb273-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(actor.actor_id) <span class="co"># 1</span></span>
<span id="cb273-4"><a href="#cb273-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(actor.last_name) <span class="co"># &quot;GUINESS&quot;</span></span>
<span id="cb273-5"><a href="#cb273-5" aria-hidden="true" tabindex="-1"></a>    actor.last_name <span class="op">=</span> <span class="st">&quot;NOGUINESS&quot;</span></span>
<span id="cb273-6"><a href="#cb273-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> actor.update()</span>
<span id="cb273-7"><a href="#cb273-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb273-8"><a href="#cb273-8" aria-hidden="true" tabindex="-1"></a>actor <span class="op">=</span> <span class="cf">await</span> my_service.sakila.actor.find_first()</span>
<span id="cb273-9"><a href="#cb273-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> actor:</span>
<span id="cb273-10"><a href="#cb273-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(actor.last_name) <span class="co"># &quot;NOGUINESS&quot;</span></span>
<span id="cb273-11"><a href="#cb273-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> actor.delete()</span>
<span id="cb273-12"><a href="#cb273-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb273-13"><a href="#cb273-13" aria-hidden="true" tabindex="-1"></a>actor <span class="op">=</span> <span class="cf">await</span> my_service.sakila.actor.find_first()</span>
<span id="cb273-14"><a href="#cb273-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> actor:</span>
<span id="cb273-15"><a href="#cb273-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(actor.actor_id) <span class="co"># 2</span></span></code></pre></div>
            <h3 data-number="27.3.3"
            id="language-specific-implementation-details"><span
            class="header-section-number">27.3.3</span> Language
            Specific Implementation Details</h3>
            <p>All MRS SDK commands that return back to the application
            one or more instances of REST documents perform some
            internal plumbing to simplify the client-side data
            structure, by ensuring that SDK-specific details such as
            protocol resource metadata (which includes things like ETags
            and GTIDs) or HATEOAS-specific properties (such as links and
            pagination control fields) are not exposed but are still
            able to be tracked at runtime. This is important because,
            even though those details are not supposed to be handled by
            an application, they can still determine specific behaviors
            when the application executes an SDK command.</p>
            <p>For instance, when updating a REST document, the
            corresponding <a
            href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/ETag">ETag</a>
            must be sent to the MySQL Router, in order to detect <a
            href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/ETag#avoiding_mid-air_collisions">mid-air
            collisions</a> and make sure that changes happened in the
            document, after it was retrieved by the application in the
            first place, are not overridden. In the same way, a command
            executed by the application that can write data
            (<code>INSERT</code> or <code>UPDATE</code>) will spawn a
            server-side transaction that can generate a <a
            href="https://dev.mysql.com/doc/refman/8.4/en/replication-gtids.html">GTID</a>
            which must also be sent to the MySQL Router if the
            application requires <a
            href="#read-your-writes-consistency">read consistency</a> in
            a setup consisting of multiple server instances.</p>
            <p>Hiding and locking these details involves either wrapping
            the actual data responses sent by the MySQL Router or
            applying specific access control constraints on top of the
            details available on those responses. In TypeScript, this is
            done by wrapping a client-side instance in a <a
            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy"><code>Proxy</code></a>
            object. In Python, this is done by wrapping it in a <a
            href="https://docs.python.org/3/library/dataclasses.html"><code>dataclass</code></a>.</p>
            <p>This results in something as follows:</p>
            <div class="sourceCode" id="cb274"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> actor <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">findFirst</span>()</span>
<span id="cb274-2"><a href="#cb274-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb274-3"><a href="#cb274-3" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> {</span>
<span id="cb274-4"><a href="#cb274-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">delete</span> actor<span class="op">.</span><span class="at">_metadata</span></span>
<span id="cb274-5"><a href="#cb274-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">catch</span> (err) {</span>
<span id="cb274-6"><a href="#cb274-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(err<span class="op">.</span><span class="at">message</span>) <span class="co">// The &quot;_metadata&quot; property cannot be deleted.</span></span>
<span id="cb274-7"><a href="#cb274-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb274-8"><a href="#cb274-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb274-9"><a href="#cb274-9" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> {</span>
<span id="cb274-10"><a href="#cb274-10" aria-hidden="true" tabindex="-1"></a>    actor<span class="op">.</span><span class="at">_metadata</span> <span class="op">=</span> { foo<span class="op">:</span> <span class="st">&quot;bar&quot;</span> }</span>
<span id="cb274-11"><a href="#cb274-11" aria-hidden="true" tabindex="-1"></a>} <span class="cf">catch</span> (err) {</span>
<span id="cb274-12"><a href="#cb274-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(err<span class="op">.</span><span class="at">message</span>) <span class="co">// The &quot;_metadata&quot; property cannot be changed.</span></span>
<span id="cb274-13"><a href="#cb274-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>Additionally, these wrappers allow to augment the object
            representation of a REST Document with a small contextual
            API which contains utility commands (<code>update()</code>
            and <code>delete()</code>, names are self-describing) that
            operate directly in the scope of each particular
            document.</p>
            <h3 data-number="27.3.4"
            id="contextual-fields-and-parameters"><span
            class="header-section-number">27.3.4</span> Contextual
            fields and parameters</h3>
            <p>There are different requirements at play when inserting a
            new document or when updating an existing document in a
            Table or View using the MySQL REST Service. For starters,
            since there is currently no support for partial updates,
            this means that every time an application wants to update a
            row, it needs to provide a complete representation of the
            row as it will become. That representation can still
            determine potential columns which will be “unset”
            notwithstanding, at least for those cases where the columns
            do not impose a constraint that prevents such an action
            (this is in line with what happens on <a
            href="https://docs.oracle.com/en/database/oracle/oracle-rest-data-services/24.2/orddg/developing-REST-applications.html#GUID-A323AA4F-32BE-47B7-9CC2-C0F4C8F4DFBE">ORDS</a>).
            On the other hand, even though there is no specific
            limitation for inserting new rows, an application should
            still be aware of the underlying column constraints to
            reduce the friction by requiring the minimum possible set of
            fields or alternatively, provide better user feedback
            (e.g. using the type checker) when it comes to missing
            fields required to perform the operation.</p>
            <p>From the MRS SDK standpoint this means that the type
            definitions used to insert and update rows must be capable
            of making the distinction between required and optional
            fields. In practice, a field should always be required
            unless there is some specific circumstance that allows it to
            be optional such as the fact that it maps to an
            auto-generated primary key column, a foreign key column, a
            nullable column or a column with a default value. Whilst
            inserting a value, all of these circumstances are valid and
            should be accounted for, whereas whilst updating a value,
            due to the limitations described above, it only makes sense
            for a field to be optional when it maps to a nullable column
            or column with row ownership.</p>
            <h2 data-number="27.4" id="deleting-a-document"><span
            class="header-section-number">27.4</span> Deleting A
            Document</h2>
            <p>Similar to updating a document, deleting a document can
            be done using either the REST view <code>delete</code>
            method or the Document API <code>delete</code> method called
            directly on the object.</p>
            <p>Please see above to learn how to delete a document via
            the Document API.</p>
            <h2 data-number="27.5"
            id="read-your-writes-consistency"><span
            class="header-section-number">27.5</span> Read Your Writes
            Consistency</h2>
            <p>With multiple MySQL server instances running as an InnoDB
            Cluster/ClusterSet, data read from one instance might be
            dependent on data written on a different instance, which
            might not have been yet replicated to the server where the
            data is being read from. This is a classical concern on
            distributed systems which alludes to the consistency of the
            data and the problem has been formalized as a concept called
            <a
            href="https://jepsen.io/consistency/models/read-your-writes">Read
            Your Writes</a>.</p>
            <p>To solve this issue, and ensure an application is always
            able to read its own writes, MySQL uses a Global Transaction
            ID (GTID), whose definition, according to the official <a
            href="https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-concepts.html">documentation</a>,
            is:</p>
            <p>A global transaction identifier (GTID) is a unique
            identifier created and associated with each transaction
            committed on the server of origin (the source). This
            identifier is unique not only to the server on which it
            originated, but is unique across all servers in a given
            replication topology.</p>
            <p>It is, in essence, and in layman’s terms, an identifier
            that is provided to a client for each “write” operation,
            which the client can then provide back to the MySQL server
            cluster which can use it to ensure any subsequent read
            accounts for all the data written up until the operation
            that generated that GTID. This usually carries a cost, and
            for that reason, is a behavior that needs to be explicitly
            enabled by the end user depending on what kind of topology
            an application is using.</p>
            <p>In the MySQL REST Service, it is possible to ensure an
            application is able to read its own writes consistently in a
            cluster of MySQL instances only when retrieving resources or
            deleting resources. Using the TypeScript SDK, this can be
            done with the <code>readOwnWrites</code> option available
            for the following commands:</p>
            <ul>
            <li><code>find()</code></li>
            <li><code>findFirst()</code></li>
            <li><code>findFirstOrThrow()</code></li>
            <li><code>findUnique()</code></li>
            <li><code>findUniqueOrThrow()</code></li>
            <li><code>delete()</code></li>
            <li><code>deleteMany()</code></li>
            </ul>
            <div class="sourceCode" id="cb275"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">findFirst</span>({ readOwnWrites<span class="op">:</span> <span class="kw">true</span> })</span></code></pre></div>
            <p>This option is only relevant when the application is
            running on top of a MySQL instance cluster where the GTID
            infrastructure is specifically configured and enabled,
            otherwise the option will be ignored.</p>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="28" id="working-with-rest-routines"><span
            class="header-section-number">28</span> Working with REST
            Routines</h1>
            <p>In its most basic form, a REST Function or Procedure can
            be executed with the MRS SDK using the <code>call()</code>
            command. The command must receive, as input, the SET of
            <code>IN</code> and/or <code>INOUT</code> parameters (and
            corresponding values) allowed by the database routine.</p>
            <p>The examples assume a setup using the <a
            href="https://dev.mysql.com/doc/sakila/en/">Sakila Sample
            Database</a> where the schema and the corresponding tables
            and routines are available under a REST service called
            <code>myService</code>.</p>
            <p>Consider the following REST Function based on the
            <code>inventory_in_stock</code> function available in the <a
            href="https://dev.mysql.com/doc/sakila/en/">Sakila Sample
            Database</a>.</p>
            <div class="sourceCode" id="cb276"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">FUNCTION</span> <span class="op">/</span>inventoryInStock</span>
<span id="cb276-2"><a href="#cb276-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>sakila</span>
<span id="cb276-3"><a href="#cb276-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AS</span> sakila.inventory_in_stock</span>
<span id="cb276-4"><a href="#cb276-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">PARAMETERS</span> MyServiceSakilaInventoryInStockParams {</span>
<span id="cb276-5"><a href="#cb276-5" aria-hidden="true" tabindex="-1"></a>        pInventoryId: p_inventory_id @IN</span>
<span id="cb276-6"><a href="#cb276-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb276-7"><a href="#cb276-7" aria-hidden="true" tabindex="-1"></a>    RESULT MyServiceSakilaInventoryInStockResult {</span>
<span id="cb276-8"><a href="#cb276-8" aria-hidden="true" tabindex="-1"></a>        result: result @DATATYPE(<span class="ot">&quot;bit(1)&quot;</span>)</span>
<span id="cb276-9"><a href="#cb276-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb276-10"><a href="#cb276-10" aria-hidden="true" tabindex="-1"></a>    AUTHENTICATION <span class="kw">NOT</span> REQUIRED;</span></code></pre></div>
            <p><strong><em>TypeScript</em></strong></p>
            <p>In the TypeScript SDK, the command accepts, as its first
            parameter, an object containing the set of <code>IN</code>
            and/or <code>INOUT</code> parameters (and corresponding
            values).</p>
            <div class="sourceCode" id="cb277"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">inventoryInStock</span><span class="op">.</span><span class="fu">call</span>({ pInventoryId<span class="op">:</span> <span class="dv">1</span> })<span class="op">;</span></span>
<span id="cb277-2"><a href="#cb277-2" aria-hidden="true" tabindex="-1"></a><span class="co">// true</span></span></code></pre></div>
            <p><strong><em>Python</em></strong></p>
            <p>In the Python SDK, the command accepts the same set of
            parameters and values as keyword arguments:</p>
            <div class="sourceCode" id="cb278"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a>my_service.sakila.inventory_in_stock.call(p_inventory_id<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb278-2"><a href="#cb278-2" aria-hidden="true" tabindex="-1"></a><span class="co"># true</span></span></code></pre></div>
            <p>For Functions or Procedures, all fields (or input
            parameters in this case) should be considered optional
            because they cannot have <code>NOT NULL</code> constraints,
            which always makes them nullable by nature. Thus, an
            optional parameter is just a parameter where the value can
            be <code>NULL</code>.</p>
            <p>Calling a function or procedure does not require any
            field to be specified because input parameters are nullable
            by nature (there is no syntax to add <code>NOT NULL</code>
            constraints). It is expected that functions and procedures
            handle <code>NULL</code> values at runtime accordingly. For
            example, with a MySQL <code>FUNCTION</code> as follows:</p>
            <div class="sourceCode" id="cb279"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a>DELIMITER <span class="op">//</span></span>
<span id="cb279-2"><a href="#cb279-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">FUNCTION</span> my_db.my_func (x <span class="dt">INT</span>, y <span class="dt">INT</span>)</span>
<span id="cb279-3"><a href="#cb279-3" aria-hidden="true" tabindex="-1"></a>RETURNS BIGINT DETERMINISTIC</span>
<span id="cb279-4"><a href="#cb279-4" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span></span>
<span id="cb279-5"><a href="#cb279-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">DECLARE</span> sum_result BIGINT <span class="kw">DEFAULT</span> <span class="dv">0</span>;</span>
<span id="cb279-6"><a href="#cb279-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">IF</span> y <span class="kw">is</span> <span class="kw">NULL</span> <span class="cf">THEN</span></span>
<span id="cb279-7"><a href="#cb279-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SET</span> sum_result <span class="op">=</span> x;</span>
<span id="cb279-8"><a href="#cb279-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">ELSE</span></span>
<span id="cb279-9"><a href="#cb279-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SET</span> sum_result <span class="op">=</span> x <span class="op">+</span> y;</span>
<span id="cb279-10"><a href="#cb279-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">END</span> <span class="cf">IF</span>;</span>
<span id="cb279-11"><a href="#cb279-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">RETURN</span> sum_result;</span>
<span id="cb279-12"><a href="#cb279-12" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span> <span class="op">//</span></span>
<span id="cb279-13"><a href="#cb279-13" aria-hidden="true" tabindex="-1"></a>DELIMITER ;</span></code></pre></div>
            <p>where the corresponding REST object is created as
            follows:</p>
            <div class="sourceCode" id="cb280"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">FUNCTION</span> <span class="op">/</span>myFunc <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>myDb <span class="kw">AS</span> my_db.my_func</span>
<span id="cb280-2"><a href="#cb280-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">PARAMETERS</span> IMyServiceMyDbMyFuncParams {</span>
<span id="cb280-3"><a href="#cb280-3" aria-hidden="true" tabindex="-1"></a>    x: x @IN,</span>
<span id="cb280-4"><a href="#cb280-4" aria-hidden="true" tabindex="-1"></a>    y: y @IN</span>
<span id="cb280-5"><a href="#cb280-5" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
            <p><strong><em>TypeScript</em></strong></p>
            <div class="sourceCode" id="cb281"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myFunc</span><span class="op">.</span><span class="fu">call</span>() <span class="co">// null</span></span>
<span id="cb281-2"><a href="#cb281-2" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myFunc</span><span class="op">.</span><span class="fu">call</span>({ x<span class="op">:</span> <span class="dv">3</span> }) <span class="co">// 3</span></span>
<span id="cb281-3"><a href="#cb281-3" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myFunc</span><span class="op">.</span><span class="fu">call</span>({ x<span class="op">:</span> <span class="dv">3</span><span class="op">,</span> y<span class="op">:</span> <span class="dv">2</span> }) <span class="co">// 5</span></span></code></pre></div>
            <p><strong><em>Python</em></strong></p>
            <div class="sourceCode" id="cb282"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a>my_service.my_db.myFunc() <span class="co"># None</span></span>
<span id="cb282-2"><a href="#cb282-2" aria-hidden="true" tabindex="-1"></a>my_service.my_db.myFunc(x<span class="op">=</span><span class="dv">3</span>) <span class="co"># 3</span></span>
<span id="cb282-3"><a href="#cb282-3" aria-hidden="true" tabindex="-1"></a>my_service.my_db.myFunc(x<span class="op">=</span><span class="dv">3</span>, y<span class="op">=</span><span class="dv">2</span>) <span class="co"># 5</span></span></code></pre></div>
            <p>Procedures can produce output either via result sets ou
            <code>OUT</code>/<code>INOUT</code> parameters. For example,
            with a MySQL <code>PROCEDURE</code> as follows:</p>
            <div class="sourceCode" id="cb283"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb283-1"><a href="#cb283-1" aria-hidden="true" tabindex="-1"></a>DELIMITER <span class="op">//</span></span>
<span id="cb283-2"><a href="#cb283-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PROCEDURE</span> my_db.my_proc (<span class="kw">IN</span> x <span class="dt">INT</span>, <span class="kw">IN</span> y <span class="dt">INT</span>, <span class="kw">OUT</span> z <span class="dt">INT</span>)</span>
<span id="cb283-3"><a href="#cb283-3" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span></span>
<span id="cb283-4"><a href="#cb283-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">DECLARE</span> sum_result BIGINT <span class="kw">DEFAULT</span> <span class="dv">0</span>;</span>
<span id="cb283-5"><a href="#cb283-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">IF</span> y <span class="kw">is</span> <span class="kw">NULL</span> <span class="cf">THEN</span></span>
<span id="cb283-6"><a href="#cb283-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SET</span> sum_result <span class="op">=</span> x;</span>
<span id="cb283-7"><a href="#cb283-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">ELSE</span></span>
<span id="cb283-8"><a href="#cb283-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SET</span> sum_result <span class="op">=</span> x <span class="op">+</span> y;</span>
<span id="cb283-9"><a href="#cb283-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">END</span> <span class="cf">IF</span>;</span>
<span id="cb283-10"><a href="#cb283-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">SELECT</span> sum_result <span class="kw">INTO</span> z;</span>
<span id="cb283-11"><a href="#cb283-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">SELECT</span> sum_result <span class="kw">AS</span> sum_result;</span>
<span id="cb283-12"><a href="#cb283-12" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span> <span class="op">//</span></span>
<span id="cb283-13"><a href="#cb283-13" aria-hidden="true" tabindex="-1"></a>DELIMITER ;</span></code></pre></div>
            <p>where the corresponding REST object is created as
            follows:</p>
            <div class="sourceCode" id="cb284"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">PROCEDURE</span> <span class="op">/</span>myProc <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>myDb <span class="kw">AS</span> my_db.my_proc</span>
<span id="cb284-2"><a href="#cb284-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">PARAMETERS</span> IMyServiceMyDbMyProcParams {</span>
<span id="cb284-3"><a href="#cb284-3" aria-hidden="true" tabindex="-1"></a>    x: x @IN,</span>
<span id="cb284-4"><a href="#cb284-4" aria-hidden="true" tabindex="-1"></a>    y: y @IN,</span>
<span id="cb284-5"><a href="#cb284-5" aria-hidden="true" tabindex="-1"></a>    x: z @OUT</span>
<span id="cb284-6"><a href="#cb284-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb284-7"><a href="#cb284-7" aria-hidden="true" tabindex="-1"></a>  RESULT MyServiceMyDbMyProcResult {</span>
<span id="cb284-8"><a href="#cb284-8" aria-hidden="true" tabindex="-1"></a>    sum_result: sum_result @DATATYPE(<span class="ot">&quot;INT&quot;</span>)</span>
<span id="cb284-9"><a href="#cb284-9" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
            <p><strong><em>TypeScript</em></strong></p>
            <div class="sourceCode" id="cb285"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb285-1"><a href="#cb285-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myProc</span><span class="op">.</span><span class="fu">call</span>() <span class="co">// { resultSets: [{ type: &quot;MyServiceMyDbMySumResult&quot;, items: [{ sum_result: null }] }], outParameters: { z: null } }</span></span>
<span id="cb285-2"><a href="#cb285-2" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myProc</span><span class="op">.</span><span class="fu">call</span>({ x<span class="op">:</span> <span class="dv">3</span> }) <span class="co">// { resultSets: [{ type: &quot;MyServiceMyDbMySumResult&quot;, items: [{ sum_result: 3 }] }], outParameters: { z: 3 } }</span></span>
<span id="cb285-3"><a href="#cb285-3" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myProc</span><span class="op">.</span><span class="fu">call</span>({ x<span class="op">:</span> <span class="dv">3</span><span class="op">,</span> y<span class="op">:</span> <span class="dv">2</span> }) <span class="co">// { resultSets: [{ type: &quot;MyServiceMyDbMySumResult&quot;, items: [{ sum_result: 5 }] }], outParameters: { z: 5 } }</span></span></code></pre></div>
            <p><strong><em>Python</em></strong></p>
            <div class="sourceCode" id="cb286"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a>my_service.my_db.myProc() <span class="co"># IMrsProcedureResponse(result_sets=[MrsProcedureResultSet(type=&#39;MyServiceMyDbMySumResult&#39;, items=[{&#39;sum_result&#39;: None}])], out_parameters={&#39;z&#39;: None}</span></span>
<span id="cb286-2"><a href="#cb286-2" aria-hidden="true" tabindex="-1"></a>my_service.my_db.myProc(x<span class="op">=</span><span class="dv">3</span>) <span class="co"># IMrsProcedureResponse(result_sets=[MrsProcedureResultSet(type=&#39;MyServiceMyDbMySumResult&#39;, items=[{&#39;sum_result&#39;: 3}])], out_parameters={&#39;z&#39;: 3}</span></span>
<span id="cb286-3"><a href="#cb286-3" aria-hidden="true" tabindex="-1"></a>my_service.my_db.myProc(x<span class="op">=</span><span class="dv">3</span>, y<span class="op">=</span><span class="dv">2</span>) <span class="co"># IMrsProcedureResponse(result_sets=[MrsProcedureResultSet(type=&#39;MyServiceMyDbMySumResult&#39;, items=[{&#39;sum_result&#39;: 5}])], out_parameters={&#39;z&#39;: 5}</span></span></code></pre></div>
            <h2 data-number="28.1" id="async-task-support"><span
            class="header-section-number">28.1</span> Async Task
            Support</h2>
            <p>Long-running REST Functions/Procedures can use the MySQL
            Async Task framework to spawn a monitoring task which can be
            asynchronously checked for updates by the client, in order
            to avoid directly executing the routine and hit any existing
            HTTP request or MySQL Router handling timeouts.</p>
            <p>Using the MRS TypeScript SDK, applications can either
            manually monitor tasks spawned for a given REST routine, or
            simply execute the routine without having to worry about
            those issues.</p>
            <p>In this case, for REST routine with an associated Async
            Task, the SDK will produce the same compatible
            <code>call()</code> command, with support for an additional
            object that allows to specify a set of execution options,
            namely:</p>
            <ul>
            <li><code>refreshRate</code> specifies the interval (ms)
            between each status update check</li>
            <li><code>progress</code> specifies an asynchronous callback
            that is executed with the details of each status update
            report</li>
            <li><code>timeout</code> specifies the maximum time (ms) to
            wait for the execution to complete if this threshold is
            reached, the ongoing task is killed</li>
            </ul>
            <p>As an example, consider the REST Function depicted above
            has an associated Async Task. Executing the task, whilst
            obtaining the status update reports generated by that task
            can be done, in TypeScript, as follows:</p>
            <div class="sourceCode" id="cb287"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb287-1"><a href="#cb287-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">inventoryInStock</span><span class="op">.</span><span class="fu">call</span>({ pInventoryId<span class="op">:</span> <span class="dv">1</span> }<span class="op">,</span> { progress<span class="op">:</span> (r) <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(r) })<span class="op">;</span></span></code></pre></div>
            <p>Additionally, the SDK produces a <code>start()</code>
            command, which starts the task and allows to manually watch
            for status updates and/or kill the task (cancelling the
            execution of the actual routine). The command accepts, as
            its first an only argument, the same set of <code>IN</code>
            and/or <code>INOUT</code> parameters (and corresponding
            values) and returns back a <code>Task</code> object which
            provides the API for task-level actions (check the reference
            <a href="ClientAPITypeScript.md#task">API docs</a> for more
            details).</p>
            <p>Starting the task and cancelling it if takes longer than
            a specified amount of time to finish can be done, in
            TypeScript, as follows:</p>
            <div class="sourceCode" id="cb288"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> task <span class="op">=</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">inventoryInStock</span><span class="op">.</span><span class="fu">start</span>({ pInventoryId<span class="op">:</span> <span class="dv">1</span> }<span class="op">,</span> { timeout<span class="op">:</span> <span class="dv">10000</span> })<span class="op">;</span></span>
<span id="cb288-2"><a href="#cb288-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb288-3"><a href="#cb288-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="cf">await</span> (<span class="kw">const</span> report <span class="kw">of</span> task<span class="op">.</span><span class="fu">watch</span>()) {</span>
<span id="cb288-4"><a href="#cb288-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (report<span class="op">.</span><span class="at">status</span> <span class="op">===</span> <span class="st">&quot;TIMEOUT&quot;</span>) {</span>
<span id="cb288-5"><a href="#cb288-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> task<span class="op">.</span><span class="fu">kill</span>()<span class="op">;</span></span>
<span id="cb288-6"><a href="#cb288-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (report<span class="op">.</span><span class="at">status</span> <span class="op">===</span> <span class="st">&quot;CANCELLED&quot;</span>) {</span>
<span id="cb288-7"><a href="#cb288-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// this block is executed after the task is killed</span></span>
<span id="cb288-8"><a href="#cb288-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(report<span class="op">.</span><span class="at">message</span>)<span class="op">;</span></span>
<span id="cb288-9"><a href="#cb288-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb288-10"><a href="#cb288-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>Getting the actual result produced by the REST routine
            can be done as follows:</p>
            <div class="sourceCode" id="cb289"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb289-1"><a href="#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> task <span class="op">=</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">inventoryInStock</span><span class="op">.</span><span class="fu">start</span>({ pInventoryId<span class="op">:</span> <span class="dv">1</span> })<span class="op">;</span></span>
<span id="cb289-2"><a href="#cb289-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-3"><a href="#cb289-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="cf">await</span> (<span class="kw">const</span> report <span class="kw">of</span> task<span class="op">.</span><span class="fu">watch</span>()) {</span>
<span id="cb289-4"><a href="#cb289-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (report<span class="op">.</span><span class="at">status</span> <span class="op">===</span> <span class="st">&quot;COMPLETED&quot;</span>) {</span>
<span id="cb289-5"><a href="#cb289-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(report<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="at">result</span>)<span class="op">;</span> <span class="co">// true</span></span>
<span id="cb289-6"><a href="#cb289-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb289-7"><a href="#cb289-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="29"
            id="typescript-client-api-reference"><span
            class="header-section-number">29</span> TypeScript Client
            API Reference</h1>
            <p>The MRS TypeScript SDK requires TypeScript 5.3.3+.</p>
            <h2 data-number="29.1" id="getmetadata-ts"><span
            class="header-section-number">29.1</span> getMetadata
            (TS)</h2>
            <p><code>getMetadata</code> is used to retrieve
            application-specific metadata attached to an MRS resource
            (REST Service, Schema and/or Object).</p>
            <h3 data-number="29.1.1" id="return-type-getmetadata"><span
            class="header-section-number">29.1.1</span> Return Type
            (getMetadata)</h3>
            <p>A JSON object containing the application-specific
            metadata attached to the resource.</p>
            <h3 data-number="29.1.2" id="example-getmetadata"><span
            class="header-section-number">29.1.2</span> Example
            (getMetadata)</h3>
            <div class="sourceCode" id="cb290"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb290-2"><a href="#cb290-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb290-3"><a href="#cb290-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb290-4"><a href="#cb290-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb290-5"><a href="#cb290-5" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="fu">getMetadata</span>()<span class="op">;</span></span>
<span id="cb290-6"><a href="#cb290-6" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="fu">getMetadata</span>()<span class="op">;</span></span>
<span id="cb290-7"><a href="#cb290-7" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">getMetadata</span>()<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.2" id="service.getauthapps-ts"><span
            class="header-section-number">29.2</span>
            Service.getAuthApps (TS)</h2>
            <p>Use <code>getAuthApps</code> to get a list of available
            REST authentication apps for the given REST service. A REST
            service may be linked to several REST auth apps and
            therefore it is necessary to choose the right one for
            authentication.</p>
            <p>The name of the REST auth apps needs to be passed to the
            <code>Service.authenticate</code> method when performing the
            authentication process.</p>
            <h2 data-number="29.3" id="service.authenticate-ts"><span
            class="header-section-number">29.3</span>
            Service.authenticate (TS)</h2>
            <p>Use <code>authenticate</code> to authenticate in a given
            REST service using a given authentication app.</p>
            <h3 data-number="29.3.1" id="options-authenticate"><span
            class="header-section-number">29.3.1</span> Options
            (authenticate)</h3>
            <table>
            <caption>REST Service Options for Authentication</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>username</td>
            <td>string</td>
            <td>Yes</td>
            <td>Username in the scope of the authentication app.</td>
            </tr>
            <tr class="even">
            <td>password</td>
            <td>string</td>
            <td>No</td>
            <td>Password in the scope of the authentication app.</td>
            </tr>
            <tr class="odd">
            <td>authApp</td>
            <td>string</td>
            <td>Yes</td>
            <td>Name of the authentication app.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.3.2" id="return-type-authenticate"><span
            class="header-section-number">29.3.2</span> Return Type
            (authenticate)</h3>
            <p>Nothing (void).</p>
            <h3 data-number="29.3.3" id="reference-authenticate"><span
            class="header-section-number">29.3.3</span> Reference
            (authenticate)</h3>
            <div class="sourceCode" id="cb291"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb291-1"><a href="#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">authenticate</span> (IAuthenticateOptions)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>IMrsLoginResult<span class="op">&gt;</span> {</span>
<span id="cb291-2"><a href="#cb291-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb291-3"><a href="#cb291-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb291-4"><a href="#cb291-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb291-5"><a href="#cb291-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IAuthenticateOptions {</span>
<span id="cb291-6"><a href="#cb291-6" aria-hidden="true" tabindex="-1"></a>    username<span class="op">:</span> <span class="dt">string</span></span>
<span id="cb291-7"><a href="#cb291-7" aria-hidden="true" tabindex="-1"></a>    password<span class="op">:</span> <span class="dt">string</span></span>
<span id="cb291-8"><a href="#cb291-8" aria-hidden="true" tabindex="-1"></a>    app<span class="op">:</span> <span class="dt">string</span></span>
<span id="cb291-9"><a href="#cb291-9" aria-hidden="true" tabindex="-1"></a>    vendor<span class="op">?:</span> <span class="dt">string</span></span>
<span id="cb291-10"><a href="#cb291-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb291-11"><a href="#cb291-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb291-12"><a href="#cb291-12" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsLoginResult {</span>
<span id="cb291-13"><a href="#cb291-13" aria-hidden="true" tabindex="-1"></a>    authApp<span class="op">?:</span> <span class="dt">string</span></span>
<span id="cb291-14"><a href="#cb291-14" aria-hidden="true" tabindex="-1"></a>    jwt<span class="op">?:</span> <span class="dt">string</span></span>
<span id="cb291-15"><a href="#cb291-15" aria-hidden="true" tabindex="-1"></a>    errorCode<span class="op">?:</span> <span class="dt">number</span></span>
<span id="cb291-16"><a href="#cb291-16" aria-hidden="true" tabindex="-1"></a>    errorMessage<span class="op">?:</span> <span class="dt">string</span></span>
<span id="cb291-17"><a href="#cb291-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="29.3.4" id="example-authenticate"><span
            class="header-section-number">29.3.4</span> Example
            (authenticate)</h3>
            <div class="sourceCode" id="cb292"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb292-2"><a href="#cb292-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-3"><a href="#cb292-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb292-4"><a href="#cb292-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-5"><a href="#cb292-5" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="fu">authenticate</span>({ username<span class="op">:</span> <span class="st">&#39;foo&#39;</span><span class="op">,</span> password<span class="op">:</span> <span class="st">&#39;bar&#39;</span><span class="op">,</span> app<span class="op">:</span> <span class="st">&#39;baz&#39;</span> })<span class="op">;</span></span>
<span id="cb292-6"><a href="#cb292-6" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="fu">authenticate</span>({ username<span class="op">:</span> <span class="st">&#39;foo&#39;</span><span class="op">,</span> password<span class="op">:</span> <span class="st">&#39;bar&#39;</span><span class="op">,</span> app<span class="op">:</span> <span class="st">&#39;baz&#39;</span><span class="op">,</span> vendor<span class="op">:</span> <span class="st">&quot;0x30000000000000000000000000000000&quot;</span> })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.4" id="service.deauthenticate-ts"><span
            class="header-section-number">29.4</span>
            Service.deauthenticate (TS)</h2>
            <p><code>deauthenticate</code> is used for logging out a
            user from a given REST service.</p>
            <h3 data-number="29.4.1"
            id="return-type-deauthenticate"><span
            class="header-section-number">29.4.1</span> Return Type
            (deauthenticate)</h3>
            <p>Nothing (void).</p>
            <h4 data-number="29.4.1.1"
            id="reference-deauthenticate"><span
            class="header-section-number">29.4.1.1</span> Reference
            (deauthenticate)</h4>
            <div class="sourceCode" id="cb293"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb293-1"><a href="#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">deauthenticate</span> ()<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> {</span>
<span id="cb293-2"><a href="#cb293-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb293-3"><a href="#cb293-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="29.4.2" id="example-deauthenticate"><span
            class="header-section-number">29.4.2</span> Example
            (deauthenticate)</h3>
            <div class="sourceCode" id="cb294"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb294-2"><a href="#cb294-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-3"><a href="#cb294-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb294-4"><a href="#cb294-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-5"><a href="#cb294-5" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="fu">deauthenticate</span>()<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.5" id="view.create-ts"><span
            class="header-section-number">29.5</span> View.create
            (TS)</h2>
            <p><code>create</code> is used to add a REST Document to a
            given REST View. The document is represented as a plain
            TypeScript/JavaScript object or, alternatively, as an
            instance of a particular class that encapsulates the data
            required to create a new document. To insert multiple
            documents, see <code>createMany</code>[#createmany].</p>
            <h3 data-number="29.5.1" id="options-create"><span
            class="header-section-number">29.5.1</span> Options
            (create)</h3>
            <table>
            <caption>REST View Options (create)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>data</td>
            <td>object</td>
            <td>Yes</td>
            <td>Object containing the mapping between column names and
            values for the REST Document to be created.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.5.2" id="return-type-create"><span
            class="header-section-number">29.5.2</span> Return Type
            (create)</h3>
            <p>A JSON object representing the created REST
            Documents.</p>
            <h3 data-number="29.5.3" id="reference-create"><span
            class="header-section-number">29.5.3</span> Reference
            (create)</h3>
            <div class="sourceCode" id="cb295"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb295-1"><a href="#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">create</span> (args<span class="op">:</span> ICreateOptions<span class="op">&lt;</span>Type<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>Type<span class="op">&gt;</span> {</span>
<span id="cb295-2"><a href="#cb295-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb295-3"><a href="#cb295-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb295-4"><a href="#cb295-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb295-5"><a href="#cb295-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> ICreateOptions<span class="op">&lt;</span>Type<span class="op">&gt;</span> {</span>
<span id="cb295-6"><a href="#cb295-6" aria-hidden="true" tabindex="-1"></a>    data<span class="op">:</span> Type</span>
<span id="cb295-7"><a href="#cb295-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="29.5.4" id="example-create"><span
            class="header-section-number">29.5.4</span> Example
            (create)</h3>
            <div class="sourceCode" id="cb296"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="im">type</span> { IMyServiceMrsNotesNote } <span class="im">from</span> <span class="st">&#39;/path/to/sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb296-2"><a href="#cb296-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb296-3"><a href="#cb296-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-4"><a href="#cb296-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb296-5"><a href="#cb296-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-6"><a href="#cb296-6" aria-hidden="true" tabindex="-1"></a><span class="co">// using a plain object</span></span>
<span id="cb296-7"><a href="#cb296-7" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">create</span>({ data<span class="op">:</span> { title<span class="op">:</span> <span class="st">&#39;foo&#39;</span> } })<span class="op">;</span></span>
<span id="cb296-8"><a href="#cb296-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-9"><a href="#cb296-9" aria-hidden="true" tabindex="-1"></a><span class="co">// using a custom class instance</span></span>
<span id="cb296-10"><a href="#cb296-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Note <span class="kw">implements</span> IMyServiceMrsNotesNote {</span>
<span id="cb296-11"><a href="#cb296-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb296-12"><a href="#cb296-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb296-13"><a href="#cb296-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-14"><a href="#cb296-14" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> note <span class="op">=</span> <span class="kw">new</span> <span class="fu">Note</span>()<span class="op">;</span></span>
<span id="cb296-15"><a href="#cb296-15" aria-hidden="true" tabindex="-1"></a>note<span class="op">.</span><span class="at">title</span> <span class="op">=</span> <span class="st">&#39;foo&#39;</span><span class="op">;</span></span>
<span id="cb296-16"><a href="#cb296-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-17"><a href="#cb296-17" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">create</span>({ data<span class="op">:</span> note })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.6" id="view.createmany-ts"><span
            class="header-section-number">29.6</span> View.createMany
            (TS)</h2>
            <p><code>createMany</code> adds one or more REST Documents
            to a given REST View. The documents are represented as plain
            TypeScript/JavaScript objects, or alternatively, as
            instances of a particular class that encapsulates the data
            required to create them.</p>
            <h3 data-number="29.6.1" id="options-createmany"><span
            class="header-section-number">29.6.1</span> Options
            (createMany)</h3>
            <table>
            <caption>REST View Options (createMany)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>data</td>
            <td>object</td>
            <td>Yes</td>
            <td>Array of objects containing the mapping between column
            names and values for the REST Documents to be created.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.6.2" id="return-type-createmany"><span
            class="header-section-number">29.6.2</span> Return Type
            (createMany)</h3>
            <p>An array of JSON objects representing the created REST
            Documents.</p>
            <h3 data-number="29.6.3" id="reference-createmany"><span
            class="header-section-number">29.6.3</span> Reference
            (createMany)</h3>
            <div class="sourceCode" id="cb297"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb297-1"><a href="#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">createMany</span> (args<span class="op">:</span> ICreateOptions<span class="op">&lt;</span>Type[]<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>Type[]<span class="op">&gt;</span> {</span>
<span id="cb297-2"><a href="#cb297-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb297-3"><a href="#cb297-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb297-4"><a href="#cb297-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb297-5"><a href="#cb297-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> ICreateOptions<span class="op">&lt;</span>Type<span class="op">&gt;</span> {</span>
<span id="cb297-6"><a href="#cb297-6" aria-hidden="true" tabindex="-1"></a>    data<span class="op">:</span> Type</span>
<span id="cb297-7"><a href="#cb297-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="29.6.4" id="example-createmany"><span
            class="header-section-number">29.6.4</span> Example
            (createMany)</h3>
            <div class="sourceCode" id="cb298"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="im">type</span> { IMyServiceMrsNotesNote } <span class="im">from</span> <span class="st">&#39;/path/to/sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb298-2"><a href="#cb298-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb298-3"><a href="#cb298-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-4"><a href="#cb298-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb298-5"><a href="#cb298-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-6"><a href="#cb298-6" aria-hidden="true" tabindex="-1"></a><span class="co">// using a plain object</span></span>
<span id="cb298-7"><a href="#cb298-7" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">createMany</span>({ data<span class="op">:</span> [{ title<span class="op">:</span> <span class="st">&#39;foo&#39;</span> }<span class="op">,</span> { title<span class="op">:</span> <span class="st">&#39;bar&#39;</span> }] })<span class="op">;</span></span>
<span id="cb298-8"><a href="#cb298-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-9"><a href="#cb298-9" aria-hidden="true" tabindex="-1"></a><span class="co">// using a custom class</span></span>
<span id="cb298-10"><a href="#cb298-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Note <span class="kw">implements</span> IMyServiceMrsNotesNote {</span>
<span id="cb298-11"><a href="#cb298-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb298-12"><a href="#cb298-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb298-13"><a href="#cb298-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-14"><a href="#cb298-14" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> note1 <span class="op">=</span> <span class="kw">new</span> <span class="fu">Note</span>()<span class="op">;</span></span>
<span id="cb298-15"><a href="#cb298-15" aria-hidden="true" tabindex="-1"></a>note1<span class="op">.</span><span class="at">title</span> <span class="op">=</span> <span class="st">&#39;foo&#39;</span><span class="op">;</span></span>
<span id="cb298-16"><a href="#cb298-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-17"><a href="#cb298-17" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> note2 <span class="op">=</span> <span class="kw">new</span> <span class="fu">Note</span>({ <span class="co">/* */</span> })<span class="op">;</span></span>
<span id="cb298-18"><a href="#cb298-18" aria-hidden="true" tabindex="-1"></a>note1<span class="op">.</span><span class="at">title</span> <span class="op">=</span> <span class="st">&#39;bar&#39;</span><span class="op">;</span></span>
<span id="cb298-19"><a href="#cb298-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-20"><a href="#cb298-20" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">createMany</span>({ data<span class="op">:</span> [note1<span class="op">,</span> note2] })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.7" id="view.find-ts"><span
            class="header-section-number">29.7</span> View.find
            (TS)</h2>
            <p><code>find</code> is used to query the subset of REST <a
            href="#rest-document">Documents</a> (that optionally match a
            given filter) in the first page.</p>
            <h3 data-number="29.7.1" id="options-find"><span
            class="header-section-number">29.7.1</span> Options
            (find)</h3>
            <table>
            <caption>REST View Options (find)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>cursor</td>
            <td>object</td>
            <td>No</td>
            <td>Retrieve documents using unique and sequential fields as
            cursor.</td>
            </tr>
            <tr class="even">
            <td>orderBy</td>
            <td>object</td>
            <td>No</td>
            <td>Determines the sort order of specific fields.</td>
            </tr>
            <tr class="odd">
            <td>select</td>
            <td>object</td>
            <td>No</td>
            <td>Specifies which properties to include in the returned
            object.</td>
            </tr>
            <tr class="even">
            <td>skip</td>
            <td>number</td>
            <td>No</td>
            <td>How many documents to skip before returning one of the
            matches.</td>
            </tr>
            <tr class="odd">
            <td>where</td>
            <td>object</td>
            <td>No</td>
            <td>Filtering conditions that apply to specific fields.</td>
            </tr>
            <tr class="even">
            <td>take</td>
            <td>number</td>
            <td>No</td>
            <td>The maximum size of the page.</td>
            </tr>
            <tr class="odd">
            <td>readOwnWrites</td>
            <td>boolean</td>
            <td>No</td>
            <td>Ensures read consistency for a cluster of servers.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.7.2" id="return-type-find"><span
            class="header-section-number">29.7.2</span> Return Type
            (find)</h3>
            <p>An array of JSON objects representing the first page of
            REST Documents matching the filter. If there are more
            matching REST Documents, the array contains an additional
            <code>hasMore</code> truthy property and a
            <code>next()</code> async function that automatically
            retrieves the subsequent page of REST Documents.</p>
            <h3 data-number="29.7.3" id="reference-find"><span
            class="header-section-number">29.7.3</span> Reference
            (find)</h3>
            <div class="sourceCode" id="cb299"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb299-1"><a href="#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">find</span> ({ cursor<span class="op">,</span> orderBy<span class="op">,</span> select<span class="op">,</span> skip<span class="op">,</span> take<span class="op">,</span> where }<span class="op">:</span> IFindManyOptions<span class="op">&lt;</span>Item<span class="op">,</span> Filterable<span class="op">,</span> Cursors<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>PaginatedList<span class="op">&lt;</span>Item<span class="op">&gt;&gt;</span> {</span>
<span id="cb299-2"><a href="#cb299-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb299-3"><a href="#cb299-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb299-4"><a href="#cb299-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-5"><a href="#cb299-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IFindManyOptions<span class="op">&lt;</span>Item<span class="op">,</span> Filterable<span class="op">,</span> Iterable<span class="op">&gt;</span> {</span>
<span id="cb299-6"><a href="#cb299-6" aria-hidden="true" tabindex="-1"></a>    cursor<span class="op">?:</span> Cursor<span class="op">&lt;</span>Iterable<span class="op">&gt;;</span></span>
<span id="cb299-7"><a href="#cb299-7" aria-hidden="true" tabindex="-1"></a>    orderBy<span class="op">?:</span> ColumnOrder<span class="op">&lt;</span>Filterable<span class="op">&gt;;</span></span>
<span id="cb299-8"><a href="#cb299-8" aria-hidden="true" tabindex="-1"></a>    select<span class="op">?:</span> BooleanFieldMapSelect<span class="op">&lt;</span>Item<span class="op">&gt;</span> <span class="op">|</span> FieldNameSelect<span class="op">&lt;</span>Item<span class="op">&gt;;</span></span>
<span id="cb299-9"><a href="#cb299-9" aria-hidden="true" tabindex="-1"></a>    skip<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb299-10"><a href="#cb299-10" aria-hidden="true" tabindex="-1"></a>    take<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb299-11"><a href="#cb299-11" aria-hidden="true" tabindex="-1"></a>    where<span class="op">?:</span> DataFilter<span class="op">&lt;</span>Filterable<span class="op">&gt;;</span></span>
<span id="cb299-12"><a href="#cb299-12" aria-hidden="true" tabindex="-1"></a>    readOwnWrites<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb299-13"><a href="#cb299-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb299-14"><a href="#cb299-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-15"><a href="#cb299-15" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">interface</span> IExhaustedList<span class="op">&lt;</span>T<span class="op">&gt;</span> <span class="kw">extends</span> <span class="bu">Array</span><span class="op">&lt;</span>T<span class="op">&gt;</span> {</span>
<span id="cb299-16"><a href="#cb299-16" aria-hidden="true" tabindex="-1"></a>    hasMore<span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb299-17"><a href="#cb299-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb299-18"><a href="#cb299-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-19"><a href="#cb299-19" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">interface</span> INotExhaustedList<span class="op">&lt;</span>T<span class="op">&gt;</span> <span class="kw">extends</span> <span class="bu">Array</span><span class="op">&lt;</span>T<span class="op">&gt;</span> {</span>
<span id="cb299-20"><a href="#cb299-20" aria-hidden="true" tabindex="-1"></a>    hasMore<span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb299-21"><a href="#cb299-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">next</span>()<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>PaginatedList<span class="op">&lt;</span>T<span class="op">&gt;&gt;,</span></span>
<span id="cb299-22"><a href="#cb299-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb299-23"><a href="#cb299-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-24"><a href="#cb299-24" aria-hidden="true" tabindex="-1"></a><span class="im">export type</span> PaginatedList<span class="op">&lt;</span>T<span class="op">&gt;</span> <span class="op">=</span> IExhaustedList<span class="op">&lt;</span>T<span class="op">&gt;</span> <span class="op">|</span> INotExhaustedList<span class="op">&lt;</span>T<span class="op">&gt;;</span></span></code></pre></div>
            <h3 data-number="29.7.4" id="example-find"><span
            class="header-section-number">29.7.4</span> Example
            (find)</h3>
            <div class="sourceCode" id="cb300"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb300-2"><a href="#cb300-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb300-3"><a href="#cb300-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb300-4"><a href="#cb300-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb300-5"><a href="#cb300-5" aria-hidden="true" tabindex="-1"></a><span class="co">// get all notes of the first page</span></span>
<span id="cb300-6"><a href="#cb300-6" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">find</span>()<span class="op">;</span></span>
<span id="cb300-7"><a href="#cb300-7" aria-hidden="true" tabindex="-1"></a><span class="co">// get the first 3 notes</span></span>
<span id="cb300-8"><a href="#cb300-8" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">find</span>({ take<span class="op">:</span> <span class="dv">3</span> })<span class="op">;</span></span>
<span id="cb300-9"><a href="#cb300-9" aria-hidden="true" tabindex="-1"></a><span class="co">// get notes of then first page where the id is greater than 10</span></span>
<span id="cb300-10"><a href="#cb300-10" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">find</span>({ where<span class="op">:</span> { id<span class="op">:</span> { $gt<span class="op">:</span> <span class="dv">10</span> } } })<span class="op">;</span></span>
<span id="cb300-11"><a href="#cb300-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb300-12"><a href="#cb300-12" aria-hidden="true" tabindex="-1"></a><span class="co">// iterate over the pages</span></span>
<span id="cb300-13"><a href="#cb300-13" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> notes <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">find</span>()<span class="op">;</span></span>
<span id="cb300-14"><a href="#cb300-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (notes<span class="op">.</span><span class="at">hasMore</span>) {</span>
<span id="cb300-15"><a href="#cb300-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// automatically get the next page (if there is one)</span></span>
<span id="cb300-16"><a href="#cb300-16" aria-hidden="true" tabindex="-1"></a>    notes <span class="op">=</span> <span class="cf">await</span> notes<span class="op">.</span><span class="fu">next</span>()<span class="op">;</span></span>
<span id="cb300-17"><a href="#cb300-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="29.8" id="view.findfirst-ts"><span
            class="header-section-number">29.8</span> View.findFirst
            (TS)</h2>
            <p><code>findFirst</code> is used to query the first REST
            Document (<strong>in no specific order</strong>) that
            matches a given optional filter.</p>
            <h3 data-number="29.8.1" id="options-findfirst"><span
            class="header-section-number">29.8.1</span> Options
            (findFirst)</h3>
            <table>
            <caption>REST View Options (findFirst)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>where</td>
            <td>object</td>
            <td>No</td>
            <td>Filtering conditions that apply to specific fields.</td>
            </tr>
            <tr class="even">
            <td>select</td>
            <td>object</td>
            <td>No</td>
            <td>Specifies which properties to include in the returned
            object.</td>
            </tr>
            <tr class="odd">
            <td>skip</td>
            <td>number</td>
            <td>No</td>
            <td>Specifies how many documents to skip before returning
            one of the matches.</td>
            </tr>
            <tr class="even">
            <td>readOwnWrites</td>
            <td>boolean</td>
            <td>No</td>
            <td>Ensures read consistency for a cluster of servers.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.8.2" id="return-type-findfirst"><span
            class="header-section-number">29.8.2</span> Return Type
            (findFirst)</h3>
            <p>A JSON object representing the first REST <a
            href="#rest-document">Document</a> that matches the filter
            or <code>undefined</code> when the document was not
            found.</p>
            <h3 data-number="29.8.3" id="reference-findfirst"><span
            class="header-section-number">29.8.3</span> Reference
            (findFirst)</h3>
            <div class="sourceCode" id="cb301"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb301-1"><a href="#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">findFirst</span> (args<span class="op">?:</span> IFindOptions<span class="op">&lt;</span>Selectable<span class="op">,</span> Filterable<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>Selectable <span class="op">|</span> <span class="dt">undefined</span><span class="op">&gt;</span> {</span>
<span id="cb301-2"><a href="#cb301-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb301-3"><a href="#cb301-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb301-4"><a href="#cb301-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-5"><a href="#cb301-5" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">interface</span> IFindOptions<span class="op">&lt;</span>Selectable<span class="op">,</span> Filterable<span class="op">&gt;</span> {</span>
<span id="cb301-6"><a href="#cb301-6" aria-hidden="true" tabindex="-1"></a>    orderBy<span class="op">?:</span> ColumnOrder<span class="op">&lt;</span>Filterable<span class="op">&gt;;</span></span>
<span id="cb301-7"><a href="#cb301-7" aria-hidden="true" tabindex="-1"></a>    select<span class="op">?:</span> BooleanFieldMapSelect<span class="op">&lt;</span>Selectable<span class="op">&gt;</span> <span class="op">|</span> FieldNameSelect<span class="op">&lt;</span>Selectable<span class="op">&gt;;</span></span>
<span id="cb301-8"><a href="#cb301-8" aria-hidden="true" tabindex="-1"></a>    skip<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb301-9"><a href="#cb301-9" aria-hidden="true" tabindex="-1"></a>    where<span class="op">?:</span> DataFilter<span class="op">&lt;</span>Filterable<span class="op">&gt;;</span></span>
<span id="cb301-10"><a href="#cb301-10" aria-hidden="true" tabindex="-1"></a>    readOwnWrites<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb301-11"><a href="#cb301-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="29.8.4" id="example-findfirst"><span
            class="header-section-number">29.8.4</span> Example
            (findFirst)</h3>
            <div class="sourceCode" id="cb302"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb302-2"><a href="#cb302-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-3"><a href="#cb302-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb302-4"><a href="#cb302-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-5"><a href="#cb302-5" aria-hidden="true" tabindex="-1"></a><span class="co">// get the first note, without any filter</span></span>
<span id="cb302-6"><a href="#cb302-6" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span>
<span id="cb302-7"><a href="#cb302-7" aria-hidden="true" tabindex="-1"></a><span class="co">// get the last note, without any filter</span></span>
<span id="cb302-8"><a href="#cb302-8" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">findFirst</span>({ orderBy<span class="op">:</span> { id<span class="op">:</span> <span class="st">&quot;DESC&quot;</span> } })<span class="op">;</span></span>
<span id="cb302-9"><a href="#cb302-9" aria-hidden="true" tabindex="-1"></a><span class="co">// get the second note, without any filter</span></span>
<span id="cb302-10"><a href="#cb302-10" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">findFirst</span>({ skip<span class="op">:</span> <span class="dv">1</span> })<span class="op">;</span></span>
<span id="cb302-11"><a href="#cb302-11" aria-hidden="true" tabindex="-1"></a><span class="co">// get the title and shared fields of the second note</span></span>
<span id="cb302-12"><a href="#cb302-12" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">findFirst</span>({ select<span class="op">:</span> { title<span class="op">:</span> <span class="kw">true</span><span class="op">,</span> shared<span class="op">:</span> <span class="kw">true</span> }<span class="op">,</span> skip<span class="op">:</span> <span class="dv">1</span> })<span class="op">;</span></span>
<span id="cb302-13"><a href="#cb302-13" aria-hidden="true" tabindex="-1"></a><span class="co">// get the title and shared fields of the first note</span></span>
<span id="cb302-14"><a href="#cb302-14" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">findFirst</span>({ select<span class="op">:</span> [<span class="st">&quot;title&quot;</span><span class="op">,</span> <span class="st">&quot;shared&quot;</span>] })<span class="op">;</span></span>
<span id="cb302-15"><a href="#cb302-15" aria-hidden="true" tabindex="-1"></a><span class="co">// get the first shared note</span></span>
<span id="cb302-16"><a href="#cb302-16" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">findFirst</span>({ where<span class="op">:</span> { shared<span class="op">:</span> <span class="kw">true</span> } })<span class="op">;</span></span>
<span id="cb302-17"><a href="#cb302-17" aria-hidden="true" tabindex="-1"></a><span class="co">// get the first note whose title includes the string &quot;foo&quot;</span></span>
<span id="cb302-18"><a href="#cb302-18" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">findFirst</span>({ where<span class="op">:</span> { title<span class="op">:</span> { $like<span class="op">:</span> <span class="st">&quot;%foo%&quot;</span> } } })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.9" id="view.findunique-ts"><span
            class="header-section-number">29.9</span> View.findUnique
            (TS)</h2>
            <p><code>findUnique</code> is used to query a single,
            uniquely identified REST Document by:</p>
            <ul>
            <li>Primary key column(s)</li>
            <li>Unique column(s)</li>
            </ul>
            <p>If no document was found matching the given
            <code>where</code> condition, <code>undefined</code> is
            returned. To have an exception thrown in this case, see <a
            href="#finduniqueorthrow">findUniqueOrThrow</a>.</p>
            <h3 data-number="29.9.1" id="options-findunique"><span
            class="header-section-number">29.9.1</span> Options
            (findUnique)</h3>
            <table>
            <caption>REST View Options (findUnique)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>where</td>
            <td>object</td>
            <td>Yes</td>
            <td>Wraps all unique columns so that individual documents
            can be selected.</td>
            </tr>
            <tr class="even">
            <td>select</td>
            <td>object</td>
            <td>No</td>
            <td>Specifies which properties to include in the returned
            object.</td>
            </tr>
            <tr class="odd">
            <td>readOwnWrites</td>
            <td>boolean</td>
            <td>No</td>
            <td>Ensures read consistency for a cluster of servers.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.9.2" id="return-type-findunique"><span
            class="header-section-number">29.9.2</span> Return Type
            (findUnique)</h3>
            <p>A JSON object representing the REST <a
            href="#rest-document">Document</a> that matches the filter
            or <code>undefined</code> when the document was not
            found.</p>
            <h3 data-number="29.9.3" id="reference-findunique"><span
            class="header-section-number">29.9.3</span> Reference
            (findUnique)</h3>
            <div class="sourceCode" id="cb303"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">findUnique</span> (args<span class="op">?:</span> IFindUniqueOptions<span class="op">&lt;</span>Selectable<span class="op">,</span> Filterable<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>Selectable <span class="op">|</span> <span class="dt">undefined</span><span class="op">&gt;</span> {</span>
<span id="cb303-2"><a href="#cb303-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb303-3"><a href="#cb303-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb303-4"><a href="#cb303-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-5"><a href="#cb303-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IFindUniqueOptions<span class="op">&lt;</span>Selectable<span class="op">,</span> Filterable<span class="op">&gt;</span> {</span>
<span id="cb303-6"><a href="#cb303-6" aria-hidden="true" tabindex="-1"></a>    select<span class="op">?:</span> BooleanFieldMapSelect<span class="op">&lt;</span>Selectable<span class="op">&gt;</span> <span class="op">|</span> FieldNameSelect<span class="op">&lt;</span>Selectable<span class="op">&gt;;</span></span>
<span id="cb303-7"><a href="#cb303-7" aria-hidden="true" tabindex="-1"></a>    where<span class="op">?:</span> DataFilter<span class="op">&lt;</span>Filterable<span class="op">&gt;;</span></span>
<span id="cb303-8"><a href="#cb303-8" aria-hidden="true" tabindex="-1"></a>    readOwnWrites<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb303-9"><a href="#cb303-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="29.9.4" id="example-findunique"><span
            class="header-section-number">29.9.4</span> Example
            (findUnique)</h3>
            <div class="sourceCode" id="cb304"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb304-1"><a href="#cb304-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb304-2"><a href="#cb304-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-3"><a href="#cb304-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb304-4"><a href="#cb304-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-5"><a href="#cb304-5" aria-hidden="true" tabindex="-1"></a><span class="co">// Get the note with id 4.</span></span>
<span id="cb304-6"><a href="#cb304-6" aria-hidden="true" tabindex="-1"></a><span class="co">// using implicit equality</span></span>
<span id="cb304-7"><a href="#cb304-7" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">findUnique</span>({ where<span class="op">:</span> { id<span class="op">:</span> <span class="dv">4</span> } })<span class="op">;</span></span>
<span id="cb304-8"><a href="#cb304-8" aria-hidden="true" tabindex="-1"></a><span class="co">// or using explicit equality</span></span>
<span id="cb304-9"><a href="#cb304-9" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">findUnique</span>({ where<span class="op">:</span> { id<span class="op">:</span> { $eq<span class="op">:</span> <span class="dv">4</span> } } })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.10" id="view.finduniqueorthrow-ts"><span
            class="header-section-number">29.10</span>
            View.findUniqueOrThrow (TS)</h2>
            <p><code>findUniqueOrThrow</code> retrieves a single REST <a
            href="#rest-document">Document</a> in the same way as <a
            href="#findunique">findUnique</a>. However, if the query
            does not find a document, it throws a
            <code>NotFoundError</code>.</p>
            <p><code>findUniqueOrThrow</code> differs from
            <code>findUnique</code> as follows:</p>
            <ul>
            <li>Its return type is non-nullable. For example,
            myService.mrsNotes.note.findUnique() can return a note or
            undefined, but myService.mrsNotes.note.findUniqueOrThrow()
            always returns a note.</li>
            </ul>
            <h2 data-number="29.11" id="view.delete-ts"><span
            class="header-section-number">29.11</span> View.delete
            (TS)</h2>
            <p><code>delete</code> is used to delete the first REST
            Document that matches a given required filter.</p>
            <h3 data-number="29.11.1" id="options-delete"><span
            class="header-section-number">29.11.1</span> Options
            (delete)</h3>
            <table>
            <caption>REST View Options (delete)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>where</td>
            <td>object</td>
            <td>Yes</td>
            <td>Filtering conditions that apply to specific fields.</td>
            </tr>
            <tr class="even">
            <td>readOwnWrites</td>
            <td>boolean</td>
            <td>No</td>
            <td>Ensures read consistency for a cluster of servers.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.11.2" id="return-type-delete"><span
            class="header-section-number">29.11.2</span> Return Type
            (delete)</h3>
            <p><code>true</code> if the document was deleted
            successfully or <code>false</code> otherwise.</p>
            <h3 data-number="29.11.3" id="reference-delete"><span
            class="header-section-number">29.11.3</span> Reference
            (delete)</h3>
            <div class="sourceCode" id="cb305"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb305-1"><a href="#cb305-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">delete</span> (args<span class="op">:</span> IDeleteOptions<span class="op">&lt;</span>IMyServiceMrsNotesUserParams<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>IMrsDeleteResult<span class="op">&gt;</span> {</span>
<span id="cb305-2"><a href="#cb305-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb305-3"><a href="#cb305-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb305-4"><a href="#cb305-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb305-5"><a href="#cb305-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IDeleteOptions<span class="op">&lt;</span>Filterable<span class="op">&gt;</span> {</span>
<span id="cb305-6"><a href="#cb305-6" aria-hidden="true" tabindex="-1"></a>    where<span class="op">?:</span> DataFilter<span class="op">&lt;</span>Filterable<span class="op">&gt;;</span></span>
<span id="cb305-7"><a href="#cb305-7" aria-hidden="true" tabindex="-1"></a>    readOwnWrites<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb305-8"><a href="#cb305-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb305-9"><a href="#cb305-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb305-10"><a href="#cb305-10" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsDeleteResult {</span>
<span id="cb305-11"><a href="#cb305-11" aria-hidden="true" tabindex="-1"></a>    itemsDeleted<span class="op">:</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb305-12"><a href="#cb305-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="29.11.4" id="example-delete"><span
            class="header-section-number">29.11.4</span> Example
            (delete)</h3>
            <div class="sourceCode" id="cb306"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb306-1"><a href="#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb306-2"><a href="#cb306-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb306-3"><a href="#cb306-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb306-4"><a href="#cb306-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb306-5"><a href="#cb306-5" aria-hidden="true" tabindex="-1"></a><span class="co">// delete the first note whose title includes the string &quot;foo&quot;</span></span>
<span id="cb306-6"><a href="#cb306-6" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">delete</span>({ where<span class="op">:</span> { title<span class="op">:</span> { $like<span class="op">:</span> <span class="st">&quot;%foo%&quot;</span> } } })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.12" id="view.deletemany-ts"><span
            class="header-section-number">29.12</span> View.deleteMany
            (TS)</h2>
            <p><code>delete</code> is used to delete all REST Documents
            that match a given filter.</p>
            <h3 data-number="29.12.1" id="options-deletemany"><span
            class="header-section-number">29.12.1</span> Options
            (deleteMany)</h3>
            <table>
            <caption>REST View Options (deleteMany)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>where</td>
            <td>object</td>
            <td>No</td>
            <td>Filtering conditions that apply to specific fields.</td>
            </tr>
            <tr class="even">
            <td>readOwnWrites</td>
            <td>boolean</td>
            <td>No</td>
            <td>Ensures read consistency for a cluster of servers.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.12.2" id="return-type-deletemany"><span
            class="header-section-number">29.12.2</span> Return Type
            (deleteMany)</h3>
            <p>The number of REST Documents that were deleted.</p>
            <h3 data-number="29.12.3" id="reference-deletemany"><span
            class="header-section-number">29.12.3</span> Reference
            (deleteMany)</h3>
            <div class="sourceCode" id="cb307"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb307-1"><a href="#cb307-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">deleteMany</span> (args<span class="op">:</span> IDeleteOptions<span class="op">&lt;</span>IMyServiceMrsNotesUserParams<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span><span class="dt">number</span><span class="op">&gt;</span> {</span>
<span id="cb307-2"><a href="#cb307-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb307-3"><a href="#cb307-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb307-4"><a href="#cb307-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb307-5"><a href="#cb307-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IDeleteOptions<span class="op">&lt;</span>Filterable<span class="op">&gt;</span> {</span>
<span id="cb307-6"><a href="#cb307-6" aria-hidden="true" tabindex="-1"></a>    where<span class="op">?:</span> DataFilter<span class="op">&lt;</span>Filterable<span class="op">&gt;;</span></span>
<span id="cb307-7"><a href="#cb307-7" aria-hidden="true" tabindex="-1"></a>    readOwnWrites<span class="op">:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb307-8"><a href="#cb307-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h4 data-number="29.12.3.1" id="example-deletemany"><span
            class="header-section-number">29.12.3.1</span> Example
            (deleteMany)</h4>
            <div class="sourceCode" id="cb308"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb308-2"><a href="#cb308-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb308-3"><a href="#cb308-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb308-4"><a href="#cb308-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb308-5"><a href="#cb308-5" aria-hidden="true" tabindex="-1"></a><span class="co">// delete all notes whose title includes the string &quot;foo&quot;</span></span>
<span id="cb308-6"><a href="#cb308-6" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">deleteMany</span>({ where<span class="op">:</span> { title<span class="op">:</span> { $like<span class="op">:</span> <span class="st">&quot;%foo%&quot;</span> } } })<span class="op">;</span></span>
<span id="cb308-7"><a href="#cb308-7" aria-hidden="true" tabindex="-1"></a><span class="co">// delete all shared notes</span></span>
<span id="cb308-8"><a href="#cb308-8" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">deleteMany</span>({ where<span class="op">:</span> { shared<span class="op">:</span> <span class="kw">true</span> } })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.13" id="view.update-ts"><span
            class="header-section-number">29.13</span> View.update
            (TS)</h2>
            <p><code>update</code> is used to update a REST Document
            with a given identifier or primary key.</p>
            <h3 data-number="29.13.1" id="options-update"><span
            class="header-section-number">29.13.1</span> Options
            (update)</h3>
            <table>
            <caption>REST View Options (update)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>data</td>
            <td>object</td>
            <td>Yes</td>
            <td>Set of fields and corresponding values to update.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.13.2" id="return-type-update"><span
            class="header-section-number">29.13.2</span> Return Type
            (update)</h3>
            <p>A JSON object representing the up-to-date REST <a
            href="#rest-document">Document</a>.</p>
            <h3 data-number="29.13.3" id="reference-update"><span
            class="header-section-number">29.13.3</span> Reference
            (update)</h3>
            <div class="sourceCode" id="cb309"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb309-1"><a href="#cb309-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">update</span> (args<span class="op">:</span> IUpdateOptions<span class="op">&lt;</span>UpdatableFields<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>Data<span class="op">&gt;</span> {</span>
<span id="cb309-2"><a href="#cb309-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb309-3"><a href="#cb309-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb309-4"><a href="#cb309-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb309-5"><a href="#cb309-5" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IUpdateOptions<span class="op">&lt;</span>Type<span class="op">&gt;</span> <span class="op">=</span> ICreateOptions<span class="op">&lt;</span>Type<span class="op">&gt;;</span></span></code></pre></div>
            <h3 data-number="29.13.4" id="example-update"><span
            class="header-section-number">29.13.4</span> Example
            (update)</h3>
            <div class="sourceCode" id="cb310"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb310-1"><a href="#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="im">type</span> { IMyServiceMrsNotesNote } <span class="im">from</span> <span class="st">&#39;/path/to/sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb310-2"><a href="#cb310-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb310-3"><a href="#cb310-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-4"><a href="#cb310-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb310-5"><a href="#cb310-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-6"><a href="#cb310-6" aria-hidden="true" tabindex="-1"></a><span class="co">// update the note with id is 1 using a plain object</span></span>
<span id="cb310-7"><a href="#cb310-7" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">update</span>({ data<span class="op">:</span> { id<span class="op">:</span> <span class="dv">1</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&#39;bar&#39;</span> } })<span class="op">;</span></span>
<span id="cb310-8"><a href="#cb310-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-9"><a href="#cb310-9" aria-hidden="true" tabindex="-1"></a><span class="co">// using a custom class instance</span></span>
<span id="cb310-10"><a href="#cb310-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Note <span class="kw">implements</span> IMyServiceMrsNotesNote {</span>
<span id="cb310-11"><a href="#cb310-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb310-12"><a href="#cb310-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb310-13"><a href="#cb310-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-14"><a href="#cb310-14" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> note <span class="op">=</span> <span class="kw">new</span> <span class="fu">Note</span>()<span class="op">;</span></span>
<span id="cb310-15"><a href="#cb310-15" aria-hidden="true" tabindex="-1"></a>note<span class="op">.</span><span class="at">id</span> <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb310-16"><a href="#cb310-16" aria-hidden="true" tabindex="-1"></a>note<span class="op">.</span><span class="at">shared</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb310-17"><a href="#cb310-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-18"><a href="#cb310-18" aria-hidden="true" tabindex="-1"></a><span class="co">// update the note with id 1</span></span>
<span id="cb310-19"><a href="#cb310-19" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">update</span>({ data<span class="op">:</span> note })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.14" id="view.updatemany-ts"><span
            class="header-section-number">29.14</span> View.updateMany
            (TS)</h2>
            <p><code>updateMany</code> is used to update all REST
            Documents with matching identifiers or primary keys.</p>
            <h3 data-number="29.14.1" id="options-updatemany"><span
            class="header-section-number">29.14.1</span> Options
            (updateMany)</h3>
            <table>
            <caption>REST View Options (updateMany)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>data</td>
            <td>object</td>
            <td>Yes</td>
            <td>Set of fields and corresponding values to update.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.14.2" id="return-type-updatemany"><span
            class="header-section-number">29.14.2</span> Return Type
            (updateMany)</h3>
            <p>An array of JSON objects representing the up-to-date REST
            <a href="#rest-document">Documents</a>.</p>
            <h3 data-number="29.14.3" id="reference-updatemany"><span
            class="header-section-number">29.14.3</span> Reference
            (updateMany)</h3>
            <div class="sourceCode" id="cb311"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb311-1"><a href="#cb311-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">updateMany</span> (args<span class="op">:</span> IUpdateOptions<span class="op">&lt;</span>UpdatableFields[]<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>Data[]<span class="op">&gt;</span> {</span>
<span id="cb311-2"><a href="#cb311-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb311-3"><a href="#cb311-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb311-4"><a href="#cb311-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb311-5"><a href="#cb311-5" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IUpdateOptions<span class="op">&lt;</span>Type<span class="op">&gt;</span> <span class="op">=</span> ICreateOptions<span class="op">&lt;</span>Type<span class="op">&gt;;</span></span></code></pre></div>
            <h3 data-number="29.14.4" id="example-updatemany"><span
            class="header-section-number">29.14.4</span> Example
            (updateMany)</h3>
            <div class="sourceCode" id="cb312"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb312-1"><a href="#cb312-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="im">type</span> { IMyServiceMrsNotesNote } <span class="im">from</span> <span class="st">&#39;/path/to/sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb312-2"><a href="#cb312-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb312-3"><a href="#cb312-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-4"><a href="#cb312-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb312-5"><a href="#cb312-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-6"><a href="#cb312-6" aria-hidden="true" tabindex="-1"></a><span class="co">// update the notes with id 1 and 2 using a plain object</span></span>
<span id="cb312-7"><a href="#cb312-7" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">update</span>({ data<span class="op">:</span> [{ id<span class="op">:</span> <span class="dv">1</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&#39;bar&#39;</span> }<span class="op">,</span> { id<span class="op">:</span> <span class="dv">2</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&#39;bar&#39;</span> }] })<span class="op">;</span></span>
<span id="cb312-8"><a href="#cb312-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-9"><a href="#cb312-9" aria-hidden="true" tabindex="-1"></a><span class="co">// using a custom class instance</span></span>
<span id="cb312-10"><a href="#cb312-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Note <span class="kw">implements</span> IMyServiceMrsNotesNote {</span>
<span id="cb312-11"><a href="#cb312-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb312-12"><a href="#cb312-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb312-13"><a href="#cb312-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-14"><a href="#cb312-14" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> note1 <span class="op">=</span> <span class="kw">new</span> <span class="fu">Note</span>()<span class="op">;</span></span>
<span id="cb312-15"><a href="#cb312-15" aria-hidden="true" tabindex="-1"></a>note<span class="op">.</span><span class="at">id</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb312-16"><a href="#cb312-16" aria-hidden="true" tabindex="-1"></a>note<span class="op">.</span><span class="at">shared</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb312-17"><a href="#cb312-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-18"><a href="#cb312-18" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> note2 <span class="op">=</span> <span class="kw">new</span> <span class="fu">Note</span>()<span class="op">;</span></span>
<span id="cb312-19"><a href="#cb312-19" aria-hidden="true" tabindex="-1"></a>note<span class="op">.</span><span class="at">id</span> <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb312-20"><a href="#cb312-20" aria-hidden="true" tabindex="-1"></a>note<span class="op">.</span><span class="at">shared</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb312-21"><a href="#cb312-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-22"><a href="#cb312-22" aria-hidden="true" tabindex="-1"></a><span class="co">// update the notes with id 1 and 2</span></span>
<span id="cb312-23"><a href="#cb312-23" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">note</span><span class="op">.</span><span class="fu">update</span>({ data<span class="op">:</span> [note1<span class="op">,</span> note2] })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.15" id="document.update-ts"><span
            class="header-section-number">29.15</span> Document.update
            (TS)</h2>
            <p><code>update</code> is used to update a given REST
            document by committing the set of updates performed locally
            on the corresponding instance in the application.</p>
            <blockquote>
            <p>This function is only available if the REST View enables
            the “UPDATE” CRUD operation and specifies one or more
            identifier fields.</p>
            </blockquote>
            <h3 data-number="29.15.1" id="reference-update-1"><span
            class="header-section-number">29.15.1</span> Reference
            (update)</h3>
            <div class="sourceCode" id="cb313"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb313-1"><a href="#cb313-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">update</span>()<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>IMyServiceSakilaActor<span class="op">&gt;</span> {</span>
<span id="cb313-2"><a href="#cb313-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb313-3"><a href="#cb313-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb313-4"><a href="#cb313-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb313-5"><a href="#cb313-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMyServiceSakilaActor {</span>
<span id="cb313-6"><a href="#cb313-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">readonly</span> actorId<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb313-7"><a href="#cb313-7" aria-hidden="true" tabindex="-1"></a>    firstName<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb313-8"><a href="#cb313-8" aria-hidden="true" tabindex="-1"></a>    lastName<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb313-9"><a href="#cb313-9" aria-hidden="true" tabindex="-1"></a>    lastUpdate<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb313-10"><a href="#cb313-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="29.15.2" id="example-update-1"><span
            class="header-section-number">29.15.2</span> Example
            (update)</h3>
            <div class="sourceCode" id="cb314"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb314-2"><a href="#cb314-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb314-3"><a href="#cb314-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb314-4"><a href="#cb314-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb314-5"><a href="#cb314-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> actor <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span>
<span id="cb314-6"><a href="#cb314-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (actor) {</span>
<span id="cb314-7"><a href="#cb314-7" aria-hidden="true" tabindex="-1"></a>    actor<span class="op">.</span><span class="at">lastName</span> <span class="op">=</span> <span class="st">&quot;FOO&quot;</span><span class="op">;</span></span>
<span id="cb314-8"><a href="#cb314-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> modifiedActor <span class="op">=</span> <span class="cf">await</span> actor<span class="op">.</span><span class="fu">update</span>()<span class="op">;</span></span>
<span id="cb314-9"><a href="#cb314-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(modifiedActor<span class="op">.</span><span class="at">lastName</span>)<span class="op">;</span> <span class="co">// FOO</span></span>
<span id="cb314-10"><a href="#cb314-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="29.16" id="document.delete-ts"><span
            class="header-section-number">29.16</span> Document.delete
            (TS)</h2>
            <p><code>delete</code> is used to delete a given REST
            document represented by a corresponding instance in the
            application.</p>
            <blockquote>
            <p>This function is only available if the REST View enables
            the “DELETE” CRUD operation and specifies one or more
            identifier fields.</p>
            </blockquote>
            <h3 data-number="29.16.1" id="return-type-delete-1"><span
            class="header-section-number">29.16.1</span> Return Type
            (delete)</h3>
            <p><code>true</code> if the document was deleted
            successfully or <code>false</code> otherwise.</p>
            <h3 data-number="29.16.2" id="reference-delete-1"><span
            class="header-section-number">29.16.2</span> Reference
            (delete)</h3>
            <div class="sourceCode" id="cb315"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb315-1"><a href="#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">delete</span>()<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span><span class="dt">boolean</span><span class="op">&gt;</span> {</span>
<span id="cb315-2"><a href="#cb315-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb315-3"><a href="#cb315-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="29.16.3" id="example-delete-1"><span
            class="header-section-number">29.16.3</span> Example
            (delete)</h3>
            <div class="sourceCode" id="cb316"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb316-1"><a href="#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb316-2"><a href="#cb316-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-3"><a href="#cb316-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb316-4"><a href="#cb316-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-5"><a href="#cb316-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> actor <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">findFirst</span>()<span class="op">;</span></span>
<span id="cb316-6"><a href="#cb316-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (actor) {</span>
<span id="cb316-7"><a href="#cb316-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="cf">await</span> actor<span class="op">.</span><span class="fu">delete</span>()) {</span>
<span id="cb316-8"><a href="#cb316-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Actor </span><span class="sc">${</span>actor<span class="op">.</span><span class="at">actorId</span><span class="sc">}</span><span class="vs"> was deleted.`</span>)</span>
<span id="cb316-9"><a href="#cb316-9" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb316-10"><a href="#cb316-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Actor </span><span class="sc">${</span>actor<span class="op">.</span><span class="at">actorId</span><span class="sc">}</span><span class="vs"> was not deleted.`</span>)</span>
<span id="cb316-11"><a href="#cb316-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb316-12"><a href="#cb316-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="29.17" id="function.call-ts"><span
            class="header-section-number">29.17</span> Function.call
            (TS)</h2>
            <p><code>call</code> is used to execute a REST routine
            (<code>FUNCTION</code> or <code>PROCEDURE</code>). The first
            parameter of the command is an <code>object</code>
            containing the set of <code>IN</code>/<code>INOUT</code>
            parameters (and corresponding values) as specified by the
            database routine. The second parameter is an
            <code>object</code> with execution options which is only
            available if the REST routine has an associated Async
            Task.</p>
            <h3 data-number="29.17.1" id="options-call"><span
            class="header-section-number">29.17.1</span> Options
            (call)</h3>
            <table>
            <caption>REST Function/Procedure Options (call)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>refreshRate</td>
            <td>number (&gt;=500)</td>
            <td>No</td>
            <td>Time (ms) to wait (default 2000) for retrieving the next
            progress report. (available only if the routine has an
            associated Async Task)</td>
            </tr>
            <tr class="even">
            <td>progress</td>
            <td>async function</td>
            <td>No</td>
            <td>Callback to be executed using the details of each
            progress report while the routine does not finish.</td>
            </tr>
            <tr class="odd">
            <td>timeout</td>
            <td>number</td>
            <td>No</td>
            <td>Maximum time to wait for the execution to complete. If
            this threshold is reached, the ongoing task is killed. By
            default, no timeout is enforced. (available only if the
            routine has an associated Async Task)</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.17.2" id="return-type-call"><span
            class="header-section-number">29.17.2</span> Return Type
            (call)</h3>
            <p>In the case of a <code>FUNCTION</code>, the value
            returned by that function. In the case of a
            <code>PROCEDURE</code>, a JSON object containing the result
            produced by the procedure (including
            <code>OUT</code>/<code>INOUT</code> parameters and result
            sets).</p>
            <p>Note: Procedures with an associated Async Task are not
            capable of not producing result sets, only
            <code>OUT</code>/<code>INOUT</code> parameter values.</p>
            <h3 data-number="29.17.3" id="reference-call"><span
            class="header-section-number">29.17.3</span> Reference
            (call)</h3>
            <div class="sourceCode" id="cb317"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb317-1"><a href="#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">call</span> (noteUpdateParams<span class="op">?:</span> IMyServiceMrsNotesNoteUpdateParams<span class="op">,</span> options<span class="op">?:</span> IMrsTaskRunOptions<span class="op">&lt;</span><span class="dt">object</span><span class="op">,</span> IMrsProcedureResult<span class="op">&lt;</span>IMyServiceMrsNotesNoteUpdateParamsOut<span class="op">,</span> IMyServiceMrsNotesNoteUpdateResultSet<span class="op">&gt;&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>IMrsProcedureResult<span class="op">&lt;</span>IMyServiceMrsNotesNoteUpdateParamsOut<span class="op">,</span> IMyServiceMrsNotesNoteUpdateResultSet<span class="op">&gt;&gt;</span> {</span>
<span id="cb317-2"><a href="#cb317-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb317-3"><a href="#cb317-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb317-4"><a href="#cb317-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-5"><a href="#cb317-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMyServiceMrsNotesNoteUpdateParams {</span>
<span id="cb317-6"><a href="#cb317-6" aria-hidden="true" tabindex="-1"></a>    tags<span class="op">?:</span> JsonValue<span class="op">;</span></span>
<span id="cb317-7"><a href="#cb317-7" aria-hidden="true" tabindex="-1"></a>    lockedDown<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb317-8"><a href="#cb317-8" aria-hidden="true" tabindex="-1"></a>    noteId<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb317-9"><a href="#cb317-9" aria-hidden="true" tabindex="-1"></a>    title<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb317-10"><a href="#cb317-10" aria-hidden="true" tabindex="-1"></a>    content<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb317-11"><a href="#cb317-11" aria-hidden="true" tabindex="-1"></a>    pinned<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb317-12"><a href="#cb317-12" aria-hidden="true" tabindex="-1"></a>    userId<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb317-13"><a href="#cb317-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb317-14"><a href="#cb317-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-15"><a href="#cb317-15" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsTaskStartOptions {</span>
<span id="cb317-16"><a href="#cb317-16" aria-hidden="true" tabindex="-1"></a>    refreshRate<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb317-17"><a href="#cb317-17" aria-hidden="true" tabindex="-1"></a>    timeout<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb317-18"><a href="#cb317-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb317-19"><a href="#cb317-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-20"><a href="#cb317-20" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsTaskRunOptions<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span> <span class="kw">extends</span> IMrsTaskStartOptions {</span>
<span id="cb317-21"><a href="#cb317-21" aria-hidden="true" tabindex="-1"></a>    progress<span class="op">?</span>(report<span class="op">:</span> IMrsRunningTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;;</span></span>
<span id="cb317-22"><a href="#cb317-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb317-23"><a href="#cb317-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-24"><a href="#cb317-24" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsRunningTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span> {</span>
<span id="cb317-25"><a href="#cb317-25" aria-hidden="true" tabindex="-1"></a>    data<span class="op">:</span> MrsTaskStatusUpdate<span class="op">;</span></span>
<span id="cb317-26"><a href="#cb317-26" aria-hidden="true" tabindex="-1"></a>    status<span class="op">:</span> <span class="st">&quot;RUNNING&quot;</span><span class="op">;</span></span>
<span id="cb317-27"><a href="#cb317-27" aria-hidden="true" tabindex="-1"></a>    message<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb317-28"><a href="#cb317-28" aria-hidden="true" tabindex="-1"></a>    progress<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb317-29"><a href="#cb317-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb317-30"><a href="#cb317-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-31"><a href="#cb317-31" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IMyServiceMrsNotesNoteUpdateParamsOut <span class="op">=</span> <span class="dt">never</span><span class="op">;</span></span>
<span id="cb317-32"><a href="#cb317-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-33"><a href="#cb317-33" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IMyServiceMrsNotesNoteUpdateResultSet <span class="op">=</span> JsonObject<span class="op">;</span></span>
<span id="cb317-34"><a href="#cb317-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-35"><a href="#cb317-35" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsProcedureResult<span class="op">&lt;</span>OutParams<span class="op">,</span> ResultSet<span class="op">&gt;</span> {</span>
<span id="cb317-36"><a href="#cb317-36" aria-hidden="true" tabindex="-1"></a>    outParameters<span class="op">?:</span> OutParams<span class="op">;</span></span>
<span id="cb317-37"><a href="#cb317-37" aria-hidden="true" tabindex="-1"></a>    resultSets<span class="op">:</span> ResultSet[]<span class="op">;</span></span>
<span id="cb317-38"><a href="#cb317-38" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h4 data-number="29.17.3.1" id="example-call"><span
            class="header-section-number">29.17.3.1</span> Example
            (call)</h4>
            <div class="sourceCode" id="cb318"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb318-1"><a href="#cb318-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb318-2"><a href="#cb318-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb318-3"><a href="#cb318-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb318-4"><a href="#cb318-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb318-5"><a href="#cb318-5" aria-hidden="true" tabindex="-1"></a><span class="co">// update the title of a note with a given id</span></span>
<span id="cb318-6"><a href="#cb318-6" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">noteUpdate</span><span class="op">.</span><span class="fu">call</span>({ noteId<span class="op">:</span> note<span class="op">.</span><span class="at">id</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&quot;hello world&quot;</span> })<span class="op">;</span></span>
<span id="cb318-7"><a href="#cb318-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb318-8"><a href="#cb318-8" aria-hidden="true" tabindex="-1"></a><span class="co">// execute a function for each progress status update</span></span>
<span id="cb318-9"><a href="#cb318-9" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> progress <span class="op">=</span> (report) <span class="kw">=&gt;</span> {</span>
<span id="cb318-10"><a href="#cb318-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(report<span class="op">.</span><span class="at">progress</span>)</span>
<span id="cb318-11"><a href="#cb318-11" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb318-12"><a href="#cb318-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb318-13"><a href="#cb318-13" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">noteUpdate</span><span class="op">.</span><span class="fu">call</span>({ noteId<span class="op">:</span> note<span class="op">.</span><span class="at">id</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&quot;hello world&quot;</span> }<span class="op">,</span> { progress })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.18" id="function.start-ts"><span
            class="header-section-number">29.18</span> Function.start
            (TS)</h2>
            <p><code>start</code> is used to start a REST routine
            (<code>FUNCTION</code> or <code>PROCEDURE</code>) with an
            associated Async Task. The first parameter of the command is
            an <code>object</code> containing the set of
            <code>IN</code>/<code>INOUT</code> parameters (and
            corresponding values) as specified by the database routine.
            The second and last parameter of the command is an
            <code>object</code> with a set of routine execution
            constraint options.</p>
            <h3 data-number="29.18.1" id="options-start"><span
            class="header-section-number">29.18.1</span> Options
            (start)</h3>
            <table>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>refreshRate</td>
            <td>number (&gt;=500)</td>
            <td>No</td>
            <td>Time (ms) to wait (default 2000) for retrieving the next
            progress report (available only if the routine has an
            associated Async Task).</td>
            </tr>
            <tr class="even">
            <td>timeout</td>
            <td>number</td>
            <td>No</td>
            <td>Time (ms) to wait for the routine to produce a
            result.</td>
            </tr>
            </tbody>
            </table>
            <h3 data-number="29.18.2" id="return-type-start"><span
            class="header-section-number">29.18.2</span> Return Type
            (start)</h3>
            <p>A <a href="#task">Task</a> instance.</p>
            <h3 data-number="29.18.3" id="reference-start"><span
            class="header-section-number">29.18.3</span> Reference
            (start)</h3>
            <div class="sourceCode" id="cb319"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb319-1"><a href="#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">start</span>(params<span class="op">?:</span> IMyServiceMrsNotesNoteUpdateParams<span class="op">,</span> options<span class="op">?:</span> IMrsTaskStartOptions)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>MrsTask<span class="op">&lt;</span><span class="dt">object</span><span class="op">,</span> IMrsProcedureResult<span class="op">&lt;</span>IMyServiceMrsNotesNoteUpdateParamsOut<span class="op">,</span> IMyServiceMrsNotesNoteUpdateResultSet<span class="op">&gt;&gt;&gt;</span> {</span>
<span id="cb319-2"><a href="#cb319-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb319-3"><a href="#cb319-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb319-4"><a href="#cb319-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-5"><a href="#cb319-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMyServiceMrsNotesNoteUpdateParams {</span>
<span id="cb319-6"><a href="#cb319-6" aria-hidden="true" tabindex="-1"></a>    tags<span class="op">?:</span> JsonValue<span class="op">;</span></span>
<span id="cb319-7"><a href="#cb319-7" aria-hidden="true" tabindex="-1"></a>    lockedDown<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb319-8"><a href="#cb319-8" aria-hidden="true" tabindex="-1"></a>    noteId<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb319-9"><a href="#cb319-9" aria-hidden="true" tabindex="-1"></a>    title<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb319-10"><a href="#cb319-10" aria-hidden="true" tabindex="-1"></a>    content<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb319-11"><a href="#cb319-11" aria-hidden="true" tabindex="-1"></a>    pinned<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb319-12"><a href="#cb319-12" aria-hidden="true" tabindex="-1"></a>    userId<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb319-13"><a href="#cb319-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb319-14"><a href="#cb319-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-15"><a href="#cb319-15" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IMyServiceMrsNotesNoteUpdateParamsOut <span class="op">=</span> <span class="dt">never</span><span class="op">;</span></span>
<span id="cb319-16"><a href="#cb319-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-17"><a href="#cb319-17" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IMyServiceMrsNotesNoteUpdateResultSet <span class="op">=</span> JsonObject<span class="op">;</span></span>
<span id="cb319-18"><a href="#cb319-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-19"><a href="#cb319-19" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsProcedureResult<span class="op">&lt;</span>OutParams<span class="op">,</span> ResultSet<span class="op">&gt;</span> {</span>
<span id="cb319-20"><a href="#cb319-20" aria-hidden="true" tabindex="-1"></a>    outParameters<span class="op">?:</span> OutParams<span class="op">;</span></span>
<span id="cb319-21"><a href="#cb319-21" aria-hidden="true" tabindex="-1"></a>    resultSets<span class="op">:</span> ResultSet[]<span class="op">;</span></span>
<span id="cb319-22"><a href="#cb319-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb319-23"><a href="#cb319-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-24"><a href="#cb319-24" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsTaskStartOptions {</span>
<span id="cb319-25"><a href="#cb319-25" aria-hidden="true" tabindex="-1"></a>    refreshRate<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb319-26"><a href="#cb319-26" aria-hidden="true" tabindex="-1"></a>    timeout<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb319-27"><a href="#cb319-27" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h4 data-number="29.18.3.1" id="example-start"><span
            class="header-section-number">29.18.3.1</span> Example
            (start)</h4>
            <div class="sourceCode" id="cb320"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb320-1"><a href="#cb320-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb320-2"><a href="#cb320-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb320-3"><a href="#cb320-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb320-4"><a href="#cb320-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb320-5"><a href="#cb320-5" aria-hidden="true" tabindex="-1"></a><span class="co">// update the title of a note with a given id</span></span>
<span id="cb320-6"><a href="#cb320-6" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> task <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">noteUpdate</span><span class="op">.</span><span class="fu">start</span>({ noteId<span class="op">:</span> note<span class="op">.</span><span class="at">id</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&quot;hello world&quot;</span> })<span class="op">;</span></span>
<span id="cb320-7"><a href="#cb320-7" aria-hidden="true" tabindex="-1"></a><span class="co">// check for status updates every 1 second</span></span>
<span id="cb320-8"><a href="#cb320-8" aria-hidden="true" tabindex="-1"></a>task <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">noteUpdate</span><span class="op">.</span><span class="fu">start</span>({ noteId<span class="op">:</span> note<span class="op">.</span><span class="at">id</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&quot;hello world&quot;</span> }<span class="op">,</span> { refreshRate<span class="op">:</span> <span class="dv">1000</span> })<span class="op">;</span></span>
<span id="cb320-9"><a href="#cb320-9" aria-hidden="true" tabindex="-1"></a><span class="co">// cancel the execution after 5 seconds</span></span>
<span id="cb320-10"><a href="#cb320-10" aria-hidden="true" tabindex="-1"></a>task <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">noteUpdate</span><span class="op">.</span><span class="fu">start</span>({ noteId<span class="op">:</span> note<span class="op">.</span><span class="at">id</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&quot;hello world&quot;</span> }<span class="op">,</span> { timeout<span class="op">:</span> <span class="dv">5000</span> })<span class="op">;</span></span></code></pre></div>
            <h2 data-number="29.19" id="procedure.call-ts"><span
            class="header-section-number">29.19</span> Procedure.call
            (TS)</h2>
            <p><code>call</code> is used to execute a REST routine
            (<code>FUNCTION</code> or <code>PROCEDURE</code>). Please
            see <a href="#function-call-ts">Function.call</a> for more
            details.</p>
            <h2 data-number="29.20" id="procedure.start-ts"><span
            class="header-section-number">29.20</span> Procedure.start
            (TS)</h2>
            <p><code>start</code> is used to start a REST routine
            (<code>FUNCTION</code> or <code>PROCEDURE</code>) with an
            associated Async Task. Please see <a
            href="#function-start-ts">Function.start</a> for more
            details.</p>
            <h2 data-number="29.21" id="task.watch-ts"><span
            class="header-section-number">29.21</span> Task.watch
            (TS)</h2>
            <p><code>watch</code> is used to monitor the status of a
            REST routine (<code>FUNCTION</code> or
            <code>PROCEDURE</code>) with an associated Async Task.</p>
            <h3 data-number="29.21.1" id="return-type-watch"><span
            class="header-section-number">29.21.1</span> Return Type
            (watch)</h3>
            <p>An <a
            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncGenerator">AsyncGenerator</a>
            instance which produces status update reports with details
            about the execution context of the REST routine.</p>
            <h3 data-number="29.21.2" id="reference-watch"><span
            class="header-section-number">29.21.2</span> Reference
            (watch)</h3>
            <div class="sourceCode" id="cb321"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb321-1"><a href="#cb321-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">watch</span>()<span class="op">:</span> AsyncGenerator<span class="op">&lt;</span></span>
<span id="cb321-2"><a href="#cb321-2" aria-hidden="true" tabindex="-1"></a>    IMrsTaskReport<span class="op">&lt;</span><span class="dt">object</span><span class="op">,</span> IMrsProcedureResult<span class="op">&lt;</span>IMyServiceMrsNotesNoteUpdateParamsOut<span class="op">,</span> IMyServiceMrsNotesNoteUpdateResultSet<span class="op">&gt;&gt;&gt;</span> {</span>
<span id="cb321-3"><a href="#cb321-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb321-4"><a href="#cb321-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb321-5"><a href="#cb321-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-6"><a href="#cb321-6" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IMyServiceMrsNotesNoteUpdateParamsOut <span class="op">=</span> <span class="dt">never</span><span class="op">;</span></span>
<span id="cb321-7"><a href="#cb321-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-8"><a href="#cb321-8" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IMyServiceMrsNotesNoteUpdateResultSet <span class="op">=</span> JsonObject<span class="op">;</span></span>
<span id="cb321-9"><a href="#cb321-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-10"><a href="#cb321-10" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsProcedureResult<span class="op">&lt;</span>OutParams<span class="op">,</span> ResultSet<span class="op">&gt;</span> {</span>
<span id="cb321-11"><a href="#cb321-11" aria-hidden="true" tabindex="-1"></a>    outParameters<span class="op">?:</span> OutParams<span class="op">;</span></span>
<span id="cb321-12"><a href="#cb321-12" aria-hidden="true" tabindex="-1"></a>    resultSets<span class="op">:</span> ResultSet[]</span>
<span id="cb321-13"><a href="#cb321-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb321-14"><a href="#cb321-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-15"><a href="#cb321-15" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsScheduledTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span> {</span>
<span id="cb321-16"><a href="#cb321-16" aria-hidden="true" tabindex="-1"></a>    status<span class="op">:</span> <span class="st">&quot;SCHEDULED&quot;</span><span class="op">;</span></span>
<span id="cb321-17"><a href="#cb321-17" aria-hidden="true" tabindex="-1"></a>    message<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb321-18"><a href="#cb321-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb321-19"><a href="#cb321-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-20"><a href="#cb321-20" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsRunningTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span> {</span>
<span id="cb321-21"><a href="#cb321-21" aria-hidden="true" tabindex="-1"></a>    data<span class="op">:</span> MrsTaskStatusUpdate<span class="op">;</span></span>
<span id="cb321-22"><a href="#cb321-22" aria-hidden="true" tabindex="-1"></a>    status<span class="op">:</span> <span class="st">&quot;RUNNING&quot;</span><span class="op">;</span></span>
<span id="cb321-23"><a href="#cb321-23" aria-hidden="true" tabindex="-1"></a>    message<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb321-24"><a href="#cb321-24" aria-hidden="true" tabindex="-1"></a>    progress<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb321-25"><a href="#cb321-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb321-26"><a href="#cb321-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-27"><a href="#cb321-27" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsCompletedTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span> {</span>
<span id="cb321-28"><a href="#cb321-28" aria-hidden="true" tabindex="-1"></a>    data<span class="op">:</span> MrsTaskResult<span class="op">;</span></span>
<span id="cb321-29"><a href="#cb321-29" aria-hidden="true" tabindex="-1"></a>    status<span class="op">:</span> <span class="st">&quot;COMPLETED&quot;</span><span class="op">;</span></span>
<span id="cb321-30"><a href="#cb321-30" aria-hidden="true" tabindex="-1"></a>    message<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb321-31"><a href="#cb321-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb321-32"><a href="#cb321-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-33"><a href="#cb321-33" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsCancelledTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span> {</span>
<span id="cb321-34"><a href="#cb321-34" aria-hidden="true" tabindex="-1"></a>    status<span class="op">:</span> <span class="st">&quot;CANCELLED&quot;</span><span class="op">;</span></span>
<span id="cb321-35"><a href="#cb321-35" aria-hidden="true" tabindex="-1"></a>    message<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb321-36"><a href="#cb321-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb321-37"><a href="#cb321-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-38"><a href="#cb321-38" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsErrorTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span> {</span>
<span id="cb321-39"><a href="#cb321-39" aria-hidden="true" tabindex="-1"></a>    status<span class="op">:</span> <span class="st">&quot;ERROR&quot;</span><span class="op">;</span></span>
<span id="cb321-40"><a href="#cb321-40" aria-hidden="true" tabindex="-1"></a>    message<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb321-41"><a href="#cb321-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb321-42"><a href="#cb321-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-43"><a href="#cb321-43" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IMrsTimedOutTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span> {</span>
<span id="cb321-44"><a href="#cb321-44" aria-hidden="true" tabindex="-1"></a>    status<span class="op">:</span> <span class="st">&quot;TIMEOUT&quot;</span><span class="op">;</span></span>
<span id="cb321-45"><a href="#cb321-45" aria-hidden="true" tabindex="-1"></a>    message<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb321-46"><a href="#cb321-46" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb321-47"><a href="#cb321-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-48"><a href="#cb321-48" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IMrsTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span> <span class="op">=</span></span>
<span id="cb321-49"><a href="#cb321-49" aria-hidden="true" tabindex="-1"></a>    IMrsRunningTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span></span>
<span id="cb321-50"><a href="#cb321-50" aria-hidden="true" tabindex="-1"></a>    <span class="op">|</span> IMrsCompletedTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span></span>
<span id="cb321-51"><a href="#cb321-51" aria-hidden="true" tabindex="-1"></a>    <span class="op">|</span> IMrsCancelledTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span></span>
<span id="cb321-52"><a href="#cb321-52" aria-hidden="true" tabindex="-1"></a>    <span class="op">|</span> IMrsErrorTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;</span></span>
<span id="cb321-53"><a href="#cb321-53" aria-hidden="true" tabindex="-1"></a>    <span class="op">|</span> IMrsTimedOutTaskReport<span class="op">&lt;</span>MrsTaskStatusUpdate<span class="op">,</span> MrsTaskResult<span class="op">&gt;;</span></span></code></pre></div>
            <h3 data-number="29.21.3" id="example-watch"><span
            class="header-section-number">29.21.3</span> Example
            (watch)</h3>
            <div class="sourceCode" id="cb322"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb322-1"><a href="#cb322-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb322-2"><a href="#cb322-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb322-3"><a href="#cb322-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb322-4"><a href="#cb322-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb322-5"><a href="#cb322-5" aria-hidden="true" tabindex="-1"></a><span class="co">// update the title of a note with a given id</span></span>
<span id="cb322-6"><a href="#cb322-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> task <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">noteUpdate</span><span class="op">.</span><span class="fu">start</span>({ noteId<span class="op">:</span> note<span class="op">.</span><span class="at">id</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&quot;hello world&quot;</span> })<span class="op">;</span></span>
<span id="cb322-7"><a href="#cb322-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb322-8"><a href="#cb322-8" aria-hidden="true" tabindex="-1"></a><span class="co">// assuming it is a long-running operation, watch for status updates</span></span>
<span id="cb322-9"><a href="#cb322-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="cf">await</span> (<span class="kw">const</span> report <span class="kw">of</span> task<span class="op">.</span><span class="fu">watch</span>()) {</span>
<span id="cb322-10"><a href="#cb322-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (report<span class="op">.</span><span class="at">status</span> <span class="op">===</span> <span class="st">&quot;RUNNING&quot;</span>) {</span>
<span id="cb322-11"><a href="#cb322-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(report<span class="op">.</span><span class="at">progress</span>)<span class="op">;</span></span>
<span id="cb322-12"><a href="#cb322-12" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (report<span class="op">.</span><span class="at">status</span> <span class="op">===</span> <span class="st">&quot;ERROR&quot;</span>) {</span>
<span id="cb322-13"><a href="#cb322-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(report<span class="op">.</span><span class="at">message</span>)<span class="op">;</span></span>
<span id="cb322-14"><a href="#cb322-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb322-15"><a href="#cb322-15" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h2 data-number="29.22" id="task.kill-ts"><span
            class="header-section-number">29.22</span> Task.kill
            (TS)</h2>
            <p><code>kill</code> is used to kill the underlying Async
            Task of a REST routine (<code>FUNCTION</code> or
            <code>PROCEDURE</code>) and cancel its execution.</p>
            <h3 data-number="29.22.1" id="reference-kill"><span
            class="header-section-number">29.22.1</span> Reference
            (kill)</h3>
            <div class="sourceCode" id="cb323"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb323-1"><a href="#cb323-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">kill</span>()<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> {</span>
<span id="cb323-2"><a href="#cb323-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb323-3"><a href="#cb323-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h3 data-number="29.22.2" id="example-kill"><span
            class="header-section-number">29.22.2</span> Example
            (kill)</h3>
            <div class="sourceCode" id="cb324"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb324-1"><a href="#cb324-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&#39;./myService.mrs.sdk/myService&#39;</span><span class="op">;</span></span>
<span id="cb324-2"><a href="#cb324-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb324-3"><a href="#cb324-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()<span class="op">;</span></span>
<span id="cb324-4"><a href="#cb324-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb324-5"><a href="#cb324-5" aria-hidden="true" tabindex="-1"></a><span class="co">// update the title of a note with a given id, kill the task if it takes more than 10 seconds to finish</span></span>
<span id="cb324-6"><a href="#cb324-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> task <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">mrsNotes</span><span class="op">.</span><span class="at">noteUpdate</span><span class="op">.</span><span class="fu">start</span>({ noteId<span class="op">:</span> note<span class="op">.</span><span class="at">id</span><span class="op">,</span> title<span class="op">:</span> <span class="st">&quot;hello world&quot;</span> }<span class="op">,</span> { timeout<span class="op">:</span> <span class="dv">10000</span> })<span class="op">;</span></span>
<span id="cb324-7"><a href="#cb324-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb324-8"><a href="#cb324-8" aria-hidden="true" tabindex="-1"></a><span class="co">// assuming it is a long-running operation, kill the task if it takes more than 10 seconds to finish</span></span>
<span id="cb324-9"><a href="#cb324-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="cf">await</span> (<span class="kw">const</span> report <span class="kw">of</span> task<span class="op">.</span><span class="fu">watch</span>()) {</span>
<span id="cb324-10"><a href="#cb324-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (report<span class="op">.</span><span class="at">status</span> <span class="op">===</span> <span class="st">&quot;TIMEOUT&quot;</span>) {</span>
<span id="cb324-11"><a href="#cb324-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> task<span class="op">.</span><span class="fu">kill</span>()<span class="op">;</span></span>
<span id="cb324-12"><a href="#cb324-12" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (report<span class="op">.</span><span class="at">status</span> <span class="op">===</span> <span class="st">&quot;CANCELLED&quot;</span>) {</span>
<span id="cb324-13"><a href="#cb324-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(report<span class="op">.</span><span class="at">message</span>)<span class="op">;</span></span>
<span id="cb324-14"><a href="#cb324-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb324-15"><a href="#cb324-15" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <!-- Copyright (c) 2024, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="30" id="python-client-api-reference"><span
            class="header-section-number">30</span> Python Client API
            Reference</h1>
            <p>The MRS Python SDK requires Python 3.12+.</p>
            <h2 data-number="30.1" id="rest-resources"><span
            class="header-section-number">30.1</span> REST
            Resources</h2>
            <p>The MRS Python SDK exposes a type-safe programmable
            interface for the MySQL REST Service that unifies, under a
            set of contextual commands, the available HTTP operations to
            access and use database objects (schemas, tables, views,
            functions, etc.) exposed as REST resources.</p>
            <p>The following <code>MRS Resources</code> exist as part of
            the MRS Python SDK:</p>
            <ul>
            <li><a href="#rest-services">REST Service</a>
            <ul>
            <li><a href="#rest-schemas">REST Schema</a>
            <ul>
            <li><a href="#rest-views">REST View</a>, <a
            href="#rest-functions">Function</a> and <a
            href="#rest-procedures">Procedure</a>
            <ul>
            <li><a href="#rest-documents">REST Document</a></li>
            </ul></li>
            </ul></li>
            </ul></li>
            </ul>
            <p>MRS resources, as shown above, are grouped under service
            namespaces.</p>
            <p>The following commands can be executed in the scope of a
            client-side representation of any MRS resource (except <a
            href="#rest-documents">REST Documents</a>).</p>
            <ul>
            <li><a href="#get_metadata">get_metadata()</a></li>
            </ul>
            <h3 data-number="30.1.1" id="get_metadata-py"><span
            class="header-section-number">30.1.1</span> get_metadata
            (PY)</h3>
            <p>The MRS has a dedicated JSON field where users can store
            application specific metadata at different levels: service,
            schema and objects of the schema (such as Views or
            Functions).</p>
            <p><code>get_metadata()</code> is a command that enables
            users to access the underlying MRS metadata information from
            client REST objects.</p>
            <h4 data-number="30.1.1.1" id="options-get_metadata"><span
            class="header-section-number">30.1.1.1</span> Options
            (get_metadata)</h4>
            <p><code>None</code>.</p>
            <h4 data-number="30.1.1.2"
            id="return-type-get_metadata"><span
            class="header-section-number">30.1.1.2</span> Return Type
            (get_metadata)</h4>
            <p>The metadata information is returned as a JSON-like
            object (<code>dict</code>). If there is no metadata
            specified for a given MRS resource, an empty JSON object
            (ultimately, a Python <code>dict</code>) is returned.</p>
            <h4 data-number="30.1.1.3" id="example-get_metadata"><span
            class="header-section-number">30.1.1.3</span> Example
            (get_metadata)</h4>
            <div class="sourceCode" id="cb325"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb325-1"><a href="#cb325-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb325-2"><a href="#cb325-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-3"><a href="#cb325-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb325-4"><a href="#cb325-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-5"><a href="#cb325-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="cf">await</span> my_service.get_metadata())  <span class="co"># {&quot;title&quot;: &quot;My Service&quot;}</span></span>
<span id="cb325-6"><a href="#cb325-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-7"><a href="#cb325-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="cf">await</span> my_service.sakila.get_metadata())  <span class="co"># {&quot;title&quot;: &quot;Sakila Sample Database&quot;}</span></span></code></pre></div>
            <h2 data-number="30.2" id="rest-services"><span
            class="header-section-number">30.2</span> REST Services</h2>
            <p>In the Python SDK, schemas are grouped under service
            namespaces.</p>
            <p>The following resources can be accessed from a service
            namespace:</p>
            <ul>
            <li><a href="#rest-schemas">REST Schemas</a></li>
            </ul>
            <p>The following options are supported when creating a
            service:</p>
            <ul>
            <li><a href="#base_url">base_url</a></li>
            <li><a href="#verify_tls_cert">verify_tls_cert</a></li>
            </ul>
            <p>The following commands can be accessed from a service
            object:</p>
            <ul>
            <li>Properties
            <ul>
            <li><a href="#tls_context">tls_context</a></li>
            </ul></li>
            <li>Methods
            <ul>
            <li><a href="#get_auth_apps">get_auth_apps()</a></li>
            <li><a href="#authenticate">authenticate()</a></li>
            <li><a href="#deauthenticate">deauthenticate()</a></li>
            </ul></li>
            </ul>
            <h3 data-number="30.2.1" id="base_url"><span
            class="header-section-number">30.2.1</span> base_url</h3>
            <p><code>base_url</code> is a service constructor option
            that allows you to customize the service URL.</p>
            <div class="sourceCode" id="cb326"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb326-1"><a href="#cb326-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb326-2"><a href="#cb326-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-3"><a href="#cb326-3" aria-hidden="true" tabindex="-1"></a>domain <span class="op">=</span> <span class="st">&quot;my_domain&quot;</span></span>
<span id="cb326-4"><a href="#cb326-4" aria-hidden="true" tabindex="-1"></a>port <span class="op">=</span> <span class="dv">8443</span></span>
<span id="cb326-5"><a href="#cb326-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-6"><a href="#cb326-6" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService(base_url<span class="op">=</span><span class="ss">f&quot;https://</span><span class="sc">{</span>domain<span class="sc">}</span><span class="ss">:</span><span class="sc">{</span>port<span class="sc">}</span><span class="ss">/myService&quot;</span>)</span></code></pre></div>
            <p>By default, <code>base_url</code> corresponds to the URL
            specified when the Python SDK was exported/dumped.</p>
            <h3 data-number="30.2.2" id="verify_tls_cert"><span
            class="header-section-number">30.2.2</span>
            verify_tls_cert</h3>
            <p><code>verify_tls_cert</code> is a service constructor
            option that allows you to customize the configuration of the
            TLS/SSL context that is created alongside the service. This
            option can be used to disable TLS/SSL CA certificate (cert)
            verification or specify what cert(s) should be loaded during
            the verification.</p>
            <p><strong>TLS/SSL cert(s) verification is enabled by
            default</strong>, in this regard, if
            <code>verify_tls_cert</code> is never set, or set as
            <code>True</code> explicitly, TLS/SSL cert verification is
            enabled and a set of default “certification authority” (CA)
            certificates from default locations are loaded (see <a
            href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext.load_default_certs">TLS/SSL
            default certs</a>).</p>
            <div class="sourceCode" id="cb327"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb327-1"><a href="#cb327-1" aria-hidden="true" tabindex="-1"></a><span class="co"># default behavior</span></span>
<span id="cb327-2"><a href="#cb327-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb327-3"><a href="#cb327-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb327-4"><a href="#cb327-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb327-5"><a href="#cb327-5" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb327-6"><a href="#cb327-6" aria-hidden="true" tabindex="-1"></a><span class="co"># print(my_service.tls_context.verify_mode)</span></span>
<span id="cb327-7"><a href="#cb327-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------</span></span>
<span id="cb327-8"><a href="#cb327-8" aria-hidden="true" tabindex="-1"></a><span class="co"># True</span></span></code></pre></div>
            <p><strong>To customize what CA certificates should be
            loaded</strong>, instead of relying on the default behavior,
            <code>verify_tls_cert</code> must be specified as a
            path-like string (the string can be the path to a CA
            certificate file, or it can be the path to a folder
            containing several CA certificates). The file(s) referenced
            by the specified path-like string are loaded during TLS/SSL
            cert verification. Certificates should be in PEM format,
            following an <a
            href="https://docs.openssl.org/master/man3/SSL_CTX_load_verify_locations/">OpenSSL
            specific layout</a>.</p>
            <div class="sourceCode" id="cb328"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb328-1"><a href="#cb328-1" aria-hidden="true" tabindex="-1"></a><span class="co"># customize what CA certificates should be loaded</span></span>
<span id="cb328-2"><a href="#cb328-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-3"><a href="#cb328-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb328-4"><a href="#cb328-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-5"><a href="#cb328-5" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService(verify_tls_cert<span class="op">=</span><span class="st">&quot;/path/to/certfile&quot;</span>)</span>
<span id="cb328-6"><a href="#cb328-6" aria-hidden="true" tabindex="-1"></a><span class="co"># print(my_service.tls_context.verify_mode)</span></span>
<span id="cb328-7"><a href="#cb328-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------</span></span>
<span id="cb328-8"><a href="#cb328-8" aria-hidden="true" tabindex="-1"></a><span class="co"># True</span></span></code></pre></div>
            <p>Finally, <strong>to disable TLS/SSL cert(s)
            verification</strong>, <code>verify tls cert</code> must be
            specified as <code>False</code>.</p>
            <div class="sourceCode" id="cb329"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb329-1"><a href="#cb329-1" aria-hidden="true" tabindex="-1"></a><span class="co"># disable TLS/SSL cert(s) verification</span></span>
<span id="cb329-2"><a href="#cb329-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-3"><a href="#cb329-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb329-4"><a href="#cb329-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-5"><a href="#cb329-5" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService(verify_tls_cert<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb329-6"><a href="#cb329-6" aria-hidden="true" tabindex="-1"></a><span class="co"># print(my_service.tls_context.verify_mode)</span></span>
<span id="cb329-7"><a href="#cb329-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------</span></span>
<span id="cb329-8"><a href="#cb329-8" aria-hidden="true" tabindex="-1"></a><span class="co"># False</span></span></code></pre></div>
            <h3 data-number="30.2.3" id="tls_context"><span
            class="header-section-number">30.2.3</span> tls_context</h3>
            <p><code>tls_context</code> is a service-level property that
            gets the TLS/SSL context configured for the service, which
            is used when executing HTTPS requests. The TLS/SSL context
            configuration depends on how <code>verify_tls_cert</code> is
            set when the service is created, see <a
            href="#verify_tls_cert">verify_tls_cert</a>.</p>
            <h4 data-number="30.2.3.1"
            id="return-type-tls_context"><span
            class="header-section-number">30.2.3.1</span> Return Type
            (tls_context)</h4>
            <p>An <code>ssl.SSLContext</code> instance.</p>
            <h4 data-number="30.2.3.2" id="example-tls_context"><span
            class="header-section-number">30.2.3.2</span> Example
            (tls_context)</h4>
            <div class="sourceCode" id="cb330"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb330-1"><a href="#cb330-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb330-2"><a href="#cb330-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-3"><a href="#cb330-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb330-4"><a href="#cb330-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-5"><a href="#cb330-5" aria-hidden="true" tabindex="-1"></a>tls_context <span class="op">=</span> my_service.tls_context</span>
<span id="cb330-6"><a href="#cb330-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-7"><a href="#cb330-7" aria-hidden="true" tabindex="-1"></a><span class="co"># print(tls_context.verify_mode)</span></span>
<span id="cb330-8"><a href="#cb330-8" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------</span></span>
<span id="cb330-9"><a href="#cb330-9" aria-hidden="true" tabindex="-1"></a><span class="co"># True</span></span></code></pre></div>
            <h3 data-number="30.2.4" id="service.get_auth_apps-py"><span
            class="header-section-number">30.2.4</span>
            Service.get_auth_apps (PY)</h3>
            <p><code>get_auth_apps()</code> is a service-level command
            that enables users to get a list containing the
            authentication apps and vendor IDs registered for the given
            service.</p>
            <h4 data-number="30.2.4.1" id="options-get_auth_apps"><span
            class="header-section-number">30.2.4.1</span> Options
            (get_auth_apps)</h4>
            <p>This command expects no input from the calling
            application.</p>
            <h4 data-number="30.2.4.2"
            id="return-type-get_auth_apps"><span
            class="header-section-number">30.2.4.2</span> Return Type
            (get_auth_apps)</h4>
            <p>A list of dictionaries. Each element in the list is a
            <em>2-key</em> dictionary, where keys are <code>name</code>
            and <code>vendor_id</code>.</p>
            <h4 data-number="30.2.4.3" id="example-get_auth_apps"><span
            class="header-section-number">30.2.4.3</span> Example
            (get_auth_apps)</h4>
            <div class="sourceCode" id="cb331"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb331-1"><a href="#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb331-2"><a href="#cb331-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-3"><a href="#cb331-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb331-4"><a href="#cb331-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-5"><a href="#cb331-5" aria-hidden="true" tabindex="-1"></a>auth_apps <span class="op">=</span> <span class="cf">await</span> my_service.get_auth_apps()</span>
<span id="cb331-6"><a href="#cb331-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-7"><a href="#cb331-7" aria-hidden="true" tabindex="-1"></a><span class="co"># print(auth_apps)</span></span>
<span id="cb331-8"><a href="#cb331-8" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------</span></span>
<span id="cb331-9"><a href="#cb331-9" aria-hidden="true" tabindex="-1"></a><span class="co"># [</span></span>
<span id="cb331-10"><a href="#cb331-10" aria-hidden="true" tabindex="-1"></a><span class="co">#     {&quot;name&quot;: &quot;MRS&quot;, &quot;vendor_id&quot;: &quot;0x30000000000000000000000000000000&quot;},</span></span>
<span id="cb331-11"><a href="#cb331-11" aria-hidden="true" tabindex="-1"></a><span class="co">#     {&quot;name&quot;: &quot;MySQL&quot;, &quot;vendor_id&quot;: &quot;0x31000000000000000000000000000000&quot;}</span></span>
<span id="cb331-12"><a href="#cb331-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ]</span></span></code></pre></div>
            <h3 data-number="30.2.5" id="service.authenticate-py"><span
            class="header-section-number">30.2.5</span>
            Service.authenticate (PY)</h3>
            <p><code>authenticate</code> is a service-level command that
            authenticates a user so he/she can work with restricted
            MySQL REST Services.</p>
            <h4 data-number="30.2.5.1" id="options-authenticate"><span
            class="header-section-number">30.2.5.1</span> Options
            (authenticate)</h4>
            <table>
            <caption>REST Service Options for Authentication</caption>
            <colgroup>
            <col style="width: 16%" />
            <col style="width: 14%" />
            <col style="width: 14%" />
            <col style="width: 14%" />
            <col style="width: 40%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th style="text-align: left;">Argument Name</th>
            <th style="text-align: left;">Data Type</th>
            <th style="text-align: left;">Required</th>
            <th style="text-align: left;">Default</th>
            <th style="text-align: left;">Notes</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td style="text-align: left;">app</td>
            <td style="text-align: left;"><code>str</code></td>
            <td style="text-align: left;">Yes</td>
            <td style="text-align: left;">N/A</td>
            <td style="text-align: left;">Name of the authentication
            application (as specified by the admin).</td>
            </tr>
            <tr class="even">
            <td style="text-align: left;">username</td>
            <td style="text-align: left;"><code>str</code></td>
            <td style="text-align: left;">Yes</td>
            <td style="text-align: left;">N/A</td>
            <td style="text-align: left;">User name</td>
            </tr>
            <tr class="odd">
            <td style="text-align: left;">password</td>
            <td style="text-align: left;"><code>str</code></td>
            <td style="text-align: left;">No</td>
            <td style="text-align: left;"><code>""</code></td>
            <td style="text-align: left;">If not provided, the empty
            string is assumed as the password</td>
            </tr>
            <tr class="even">
            <td style="text-align: left;">vendor_id</td>
            <td style="text-align: left;"><code>str</code></td>
            <td style="text-align: left;">No</td>
            <td style="text-align: left;"><code>None</code></td>
            <td style="text-align: left;">ID of the underlying
            authentication mechanism. Specifying the vendor ID avoids an
            additional round-trip to the server</td>
            </tr>
            </tbody>
            </table>
            <p>The following authentication app vendors are
            supported:</p>
            <ul>
            <li><em>MRS</em></li>
            <li><em>MySQL Internal</em></li>
            </ul>
            <h4 data-number="30.2.5.2"
            id="return-type-authenticate"><span
            class="header-section-number">30.2.5.2</span> Return Type
            (authenticate)</h4>
            <p>This command returns nothing.</p>
            <h4 data-number="30.2.5.3" id="raises-authenticate"><span
            class="header-section-number">30.2.5.3</span> Raises
            (authenticate)</h4>
            <p><code>AuthenticationError</code> if something goes wrong
            during the authentication workflow.</p>
            <h4 data-number="30.2.5.4" id="example-authenticate"><span
            class="header-section-number">30.2.5.4</span> Example
            (authenticate)</h4>
            <div class="sourceCode" id="cb332"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb332-1"><a href="#cb332-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb332-2"><a href="#cb332-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb332-3"><a href="#cb332-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb332-4"><a href="#cb332-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb332-5"><a href="#cb332-5" aria-hidden="true" tabindex="-1"></a><span class="co"># `authenticate` will account for authentication</span></span>
<span id="cb332-6"><a href="#cb332-6" aria-hidden="true" tabindex="-1"></a> <span class="cf">await</span> my_service.authenticate(</span>
<span id="cb332-7"><a href="#cb332-7" aria-hidden="true" tabindex="-1"></a>    app<span class="op">=</span><span class="st">&quot;MySQL&quot;</span>,</span>
<span id="cb332-8"><a href="#cb332-8" aria-hidden="true" tabindex="-1"></a>    username<span class="op">=</span><span class="st">&quot;Lucas&quot;</span>,</span>
<span id="cb332-9"><a href="#cb332-9" aria-hidden="true" tabindex="-1"></a>    password<span class="op">=</span><span class="st">&quot;S3cr3t&quot;</span>,</span>
<span id="cb332-10"><a href="#cb332-10" aria-hidden="true" tabindex="-1"></a>    vendor_id<span class="op">=</span><span class="st">&quot;0x31000000000000000000000000000000&quot;</span></span>
<span id="cb332-11"><a href="#cb332-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb332-12"><a href="#cb332-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb332-13"><a href="#cb332-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Service is ready and tied database objects can be utilized</span></span>
<span id="cb332-14"><a href="#cb332-14" aria-hidden="true" tabindex="-1"></a><span class="co"># E.g., calling a function</span></span>
<span id="cb332-15"><a href="#cb332-15" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> <span class="cf">await</span> my_service.sakila.hello_func.call(name<span class="op">=</span><span class="st">&quot;Rui&quot;</span>)</span>
<span id="cb332-16"><a href="#cb332-16" aria-hidden="true" tabindex="-1"></a><span class="co"># print(res) -&gt; Hello, Rui!</span></span></code></pre></div>
            <p>When <code>vendor_id</code> is not specified, a vendor ID
            lookup is performed. The vendor ID that matches the given
            <code>app</code> is picked and used down the road. If not a
            match takes place, an <code>AuthenticationError</code>
            exception is raised.</p>
            <p>In the case the vendor ID is not specified, and a
            nonexisting app is provided, an
            <code>AuthenticationError</code> exception is raised.</p>
            <p>Also, in the case the vendor ID is specified alongside a
            nonexisting app, there will not be a lookup. This means that
            if, by accident, or not, there is no authentication app from
            the specified <code>vendor_id</code> with the given
            <code>app</code>, an <code>AuthenticationError</code>
            exception is returned to the application.</p>
            <h3 data-number="30.2.6"
            id="service.deauthenticate-py"><span
            class="header-section-number">30.2.6</span>
            Service.deauthenticate (PY)</h3>
            <p><code>deauthenticate</code> is a service-level command
            that logs you out from authenticated MySQL REST
            Services.</p>
            <h4 data-number="30.2.6.1" id="options-deauthenticate"><span
            class="header-section-number">30.2.6.1</span> Options
            (deauthenticate)</h4>
            <p>This command expects no input from the calling
            application.</p>
            <h4 data-number="30.2.6.2"
            id="return-type-deauthenticate"><span
            class="header-section-number">30.2.6.2</span> Return Type
            (deauthenticate)</h4>
            <p>This command returns nothing.</p>
            <h4 data-number="30.2.6.3" id="raises-deauthenticate"><span
            class="header-section-number">30.2.6.3</span> Raises
            (deauthenticate)</h4>
            <p><code>DeauthenticationError</code> if no user is
            currently authenticated.</p>
            <h4 data-number="30.2.6.4" id="example-deauthenticate"><span
            class="header-section-number">30.2.6.4</span> Example
            (deauthenticate)</h4>
            <div class="sourceCode" id="cb333"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb333-1"><a href="#cb333-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb333-2"><a href="#cb333-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-3"><a href="#cb333-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb333-4"><a href="#cb333-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-5"><a href="#cb333-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Log in - `authenticate` will account for authentication</span></span>
<span id="cb333-6"><a href="#cb333-6" aria-hidden="true" tabindex="-1"></a> <span class="cf">await</span> my_service.authenticate(</span>
<span id="cb333-7"><a href="#cb333-7" aria-hidden="true" tabindex="-1"></a>    app<span class="op">=</span><span class="st">&quot;MySQL&quot;</span>,</span>
<span id="cb333-8"><a href="#cb333-8" aria-hidden="true" tabindex="-1"></a>    username<span class="op">=</span><span class="st">&quot;Lucas&quot;</span>,</span>
<span id="cb333-9"><a href="#cb333-9" aria-hidden="true" tabindex="-1"></a>    password<span class="op">=</span><span class="st">&quot;S3cr3t&quot;</span></span>
<span id="cb333-10"><a href="#cb333-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb333-11"><a href="#cb333-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-12"><a href="#cb333-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Call a function</span></span>
<span id="cb333-13"><a href="#cb333-13" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> <span class="cf">await</span> my_service.sakila.hello_func.call(name<span class="op">=</span><span class="st">&quot;Oscar&quot;</span>)</span>
<span id="cb333-14"><a href="#cb333-14" aria-hidden="true" tabindex="-1"></a><span class="co"># print(res) -&gt; Hello, Oscar!</span></span>
<span id="cb333-15"><a href="#cb333-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-16"><a href="#cb333-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Log out</span></span>
<span id="cb333-17"><a href="#cb333-17" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> my_service.deauthenticate()</span>
<span id="cb333-18"><a href="#cb333-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-19"><a href="#cb333-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Calling the function again - you should get an HTTP 401 (Unauthorized) error</span></span>
<span id="cb333-20"><a href="#cb333-20" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> <span class="cf">await</span> my_service.sakila.hello_func.call(name<span class="op">=</span><span class="st">&quot;Rui&quot;</span>)</span>
<span id="cb333-21"><a href="#cb333-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-22"><a href="#cb333-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Log out again - you should get an `ServiceNotAuthenticatedError` exception</span></span>
<span id="cb333-23"><a href="#cb333-23" aria-hidden="true" tabindex="-1"></a><span class="cf">await</span> my_service.deauthenticate()</span></code></pre></div>
            <h2 data-number="30.3" id="rest-schemas"><span
            class="header-section-number">30.3</span> REST Schemas</h2>
            <p>In the Python SDK, database objects such as tables and
            functions are grouped under namespaces that correspond to
            their schema. Applications can access and use those database
            objects via the API exposed by each one.</p>
            <p>The following REST resources can be accessed from the
            corresponding schema namespace:</p>
            <ul>
            <li><a href="#rest-views">REST Views</a></li>
            <li><a href="#rest-documents">REST Documents</a></li>
            <li><a href="#rest-functions">REST Functions</a></li>
            <li><a href="#rest-procedures">REST Procedures</a></li>
            </ul>
            <h2 data-number="30.4" id="rest-views"><span
            class="header-section-number">30.4</span> REST Views</h2>
            <h3 data-number="30.4.1" id="view.create-py"><span
            class="header-section-number">30.4.1</span> View.create
            (PY)</h3>
            <p><code>create</code> is used to insert a record (a REST
            document) into the database. The REST document is
            represented as a typed dictionary object whose fields, or
            keys, should comply with the interface exposed by the type
            definition <code>INew${obj_class_name}</code> where
            <code>${obj_class_name}</code> is a variable containing a
            string which is a fully-qualified name composed by the names
            of the <em>REST Service</em>, <em>REST Schema</em> and
            <em>REST View</em> themselves.</p>
            <blockquote>
            <p>To insert multiple documents, see <a
            href="#create_many">create_many</a>.</p>
            </blockquote>
            <h4 data-number="30.4.1.1" id="options-create"><span
            class="header-section-number">30.4.1.1</span> Options
            (create)</h4>
            <table>
            <caption>REST Views Options (create)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>data</td>
            <td>TypedDict</td>
            <td>Yes</td>
            <td>Object containing the mapping between column names and
            values for the record to be inserted</td>
            </tr>
            </tbody>
            </table>
            <h4 data-number="30.4.1.2" id="return-type-create"><span
            class="header-section-number">30.4.1.2</span> Return Type
            (create)</h4>
            <p>A REST document data class object representing the record
            that was inserted. For more details about REST documents,
            check the <a href="#rest-documents">REST Documents</a>
            section.</p>
            <h4 data-number="30.4.1.3" id="example-create"><span
            class="header-section-number">30.4.1.3</span> Example
            (create)</h4>
            <div class="sourceCode" id="cb334"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb334-1"><a href="#cb334-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceSakilaActor <span class="im">as</span> Actor, MyService</span>
<span id="cb334-2"><a href="#cb334-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-3"><a href="#cb334-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb334-4"><a href="#cb334-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-5"><a href="#cb334-5" aria-hidden="true" tabindex="-1"></a>actor: Actor <span class="op">=</span> <span class="cf">await</span> my_service.sakila.actor.create(</span>
<span id="cb334-6"><a href="#cb334-6" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>{</span>
<span id="cb334-7"><a href="#cb334-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;FOO&quot;</span>,</span>
<span id="cb334-8"><a href="#cb334-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;BAR&quot;</span>,</span>
<span id="cb334-9"><a href="#cb334-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb334-10"><a href="#cb334-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb334-11"><a href="#cb334-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-12"><a href="#cb334-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(actor)</span>
<span id="cb334-13"><a href="#cb334-13" aria-hidden="true" tabindex="-1"></a><span class="co"># IMyServiceSakilaActor(actor_id=35000, first_name=&#39;FOO&#39;, last_name=&#39;BAR&#39;, last_update=&#39;2024-06-04 10:14:33.000000&#39;)</span></span></code></pre></div>
            <p>The <code>actor_id</code> and <code>last_update</code>
            columns from the <code>sakila</code> table on the sample <a
            href="https://dev.mysql.com/doc/sakila/en/">sakila
            database</a> are automatically generated on each insert,
            which means they can be omitted.</p>
            <h3 data-number="30.4.2" id="view.create_many-py"><span
            class="header-section-number">30.4.2</span> View.create_many
            (PY)</h3>
            <p><code>create_many</code> is used to insert one or more
            records (REST documents) into the database. A record is
            represented as a typed dictionary object whose fields, or
            keys, should comply with the interface exposed by the type
            definition <code>INew${obj_class_name}</code> where
            <code>${obj_class_name}</code> is a variable which value
            depends on the <em>service, schema and table</em> names
            themselves.</p>
            <blockquote>
            <p>To insert a single record, see <a
            href="#create">create</a>.</p>
            </blockquote>
            <h4 data-number="30.4.2.1" id="options-create_many"><span
            class="header-section-number">30.4.2.1</span> Options
            (create_many)</h4>
            <table>
            <caption>REST Views Options (create_many)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>data</td>
            <td>Sequence of <code>TypedDict</code> - it can be any
            Python object supporting the iteration protocol, such as
            lists and tuples</td>
            <td>Yes</td>
            <td>List of objects containing the mapping between column
            names and values for the records to be inserted</td>
            </tr>
            </tbody>
            </table>
            <h4 data-number="30.4.2.2"
            id="return-type-create_many"><span
            class="header-section-number">30.4.2.2</span> Return Type
            (create_many)</h4>
            <p>A list of REST document data class objects representing
            each record that was inserted. For more details about REST
            documents, check the <a href="#rest-documents">REST
            Documents</a> section.</p>
            <h4 data-number="30.4.2.3" id="example-create_many"><span
            class="header-section-number">30.4.2.3</span> Example
            (create_many)</h4>
            <div class="sourceCode" id="cb335"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb335-1"><a href="#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceSakilaActor <span class="im">as</span> Actor, MyService</span>
<span id="cb335-2"><a href="#cb335-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb335-3"><a href="#cb335-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb335-4"><a href="#cb335-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb335-5"><a href="#cb335-5" aria-hidden="true" tabindex="-1"></a>actors: <span class="bu">list</span>[Actor] <span class="op">=</span> <span class="cf">await</span> my_service.sakila.actor.create_many(</span>
<span id="cb335-6"><a href="#cb335-6" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>[</span>
<span id="cb335-7"><a href="#cb335-7" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb335-8"><a href="#cb335-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;FOO&quot;</span>,</span>
<span id="cb335-9"><a href="#cb335-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;BAR&quot;</span>,</span>
<span id="cb335-10"><a href="#cb335-10" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb335-11"><a href="#cb335-11" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb335-12"><a href="#cb335-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;OOF&quot;</span>,</span>
<span id="cb335-13"><a href="#cb335-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;RAB&quot;</span>,</span>
<span id="cb335-14"><a href="#cb335-14" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb335-15"><a href="#cb335-15" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb335-16"><a href="#cb335-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb335-17"><a href="#cb335-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb335-18"><a href="#cb335-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(actors)</span>
<span id="cb335-19"><a href="#cb335-19" aria-hidden="true" tabindex="-1"></a><span class="co"># [</span></span>
<span id="cb335-20"><a href="#cb335-20" aria-hidden="true" tabindex="-1"></a><span class="co">#     IMyServiceSakilaActor(</span></span>
<span id="cb335-21"><a href="#cb335-21" aria-hidden="true" tabindex="-1"></a><span class="co">#         actor_id=35000,</span></span>
<span id="cb335-22"><a href="#cb335-22" aria-hidden="true" tabindex="-1"></a><span class="co">#         first_name=&#39;FOO&#39;,</span></span>
<span id="cb335-23"><a href="#cb335-23" aria-hidden="true" tabindex="-1"></a><span class="co">#         last_name=&#39;BAR&#39;,</span></span>
<span id="cb335-24"><a href="#cb335-24" aria-hidden="true" tabindex="-1"></a><span class="co">#         last_update=&#39;2024-06-04 10:14:33.000000&#39;</span></span>
<span id="cb335-25"><a href="#cb335-25" aria-hidden="true" tabindex="-1"></a><span class="co">#     ),</span></span>
<span id="cb335-26"><a href="#cb335-26" aria-hidden="true" tabindex="-1"></a><span class="co">#     IMyServiceSakilaActor(</span></span>
<span id="cb335-27"><a href="#cb335-27" aria-hidden="true" tabindex="-1"></a><span class="co">#         actor_id=36000,</span></span>
<span id="cb335-28"><a href="#cb335-28" aria-hidden="true" tabindex="-1"></a><span class="co">#         first_name=&#39;OOF&#39;,</span></span>
<span id="cb335-29"><a href="#cb335-29" aria-hidden="true" tabindex="-1"></a><span class="co">#         last_name=&#39;RAB&#39;,</span></span>
<span id="cb335-30"><a href="#cb335-30" aria-hidden="true" tabindex="-1"></a><span class="co">#         last_update=&#39;2024-08-04 10:14:33.000000&#39;</span></span>
<span id="cb335-31"><a href="#cb335-31" aria-hidden="true" tabindex="-1"></a><span class="co">#     )</span></span>
<span id="cb335-32"><a href="#cb335-32" aria-hidden="true" tabindex="-1"></a><span class="co"># ]</span></span></code></pre></div>
            <p>The <code>actor_id</code> and <code>last_update</code>
            columns from the <code>sakila</code> table on the sample <a
            href="https://dev.mysql.com/doc/sakila/en/">sakila
            database</a> are automatically generated on each insert,
            which means they can be omitted.</p>
            <h3 data-number="30.4.3" id="view.find_first-py"><span
            class="header-section-number">30.4.3</span> View.find_first
            (PY)</h3>
            <p><code>find_first</code> is used to query the first REST
            document (<strong>in no specific order</strong>) that
            matches a given optional filter. It returns
            <code>None</code> if no document is found.</p>
            <blockquote>
            <p>To raise an exception if there are no matches, use <a
            href="#find_first_or_throw">find_first_or_throw</a>
            instead.</p>
            <p>To find multiple REST documents, see <a
            href="#find">find</a>.</p>
            </blockquote>
            <h4 data-number="30.4.3.1" id="options-find_first"><span
            class="header-section-number">30.4.3.1</span> Options
            (find_first)</h4>
            <table>
            <caption>REST Views Options (find_first)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>select</td>
            <td>dict or list</td>
            <td>No</td>
            <td>Specifies which properties to include or exclude on the
            returned document - works as a <em>field filter</em></td>
            </tr>
            <tr class="even">
            <td>where</td>
            <td>dict</td>
            <td>No</td>
            <td>Applies filtering conditions based on specific fields -
            works as a <em>document filter</em></td>
            </tr>
            <tr class="odd">
            <td>skip</td>
            <td>int</td>
            <td>No</td>
            <td>Specifies how many documents to skip before returning
            one of the matches</td>
            </tr>
            <tr class="even">
            <td>order_by</td>
            <td>dict</td>
            <td>No</td>
            <td>Lets you customize the order (<code>ASC</code> or
            <code>DESC</code>) in which the documents are returned based
            on specific fields</td>
            </tr>
            <tr class="odd">
            <td>cursor</td>
            <td>dict</td>
            <td>No</td>
            <td>Specifies the position of the first item to include in
            the result set. A cursor bookmarks a location in a result
            set and must be a column containing unique and sequential
            values.</td>
            </tr>
            <tr class="even">
            <td>read_own_writes</td>
            <td>bool</td>
            <td>No</td>
            <td>Ensures read consistency for a cluster of servers -
            <code>False</code> is used by default</td>
            </tr>
            </tbody>
            </table>
            <blockquote>
            <p>Cursor-based pagination takes precedence over
            offset-based pagination, which means that if a cursor is
            defined, the value of the offset property
            (<code>skip</code>) will be ignored.</p>
            </blockquote>
            <h4 data-number="30.4.3.2" id="return-type-find_first"><span
            class="header-section-number">30.4.3.2</span> Return Type
            (find_first)</h4>
            <p>If there is a match, a REST document data class object
            meeting the filter conditions, otherwise <code>None</code>
            is returned. For more details about REST documents, check
            the <a href="#rest-documents">REST Documents</a>
            section.</p>
            <h4 data-number="30.4.3.3" id="example-find_first"><span
            class="header-section-number">30.4.3.3</span> Example
            (find_first)</h4>
            <p>Consider the following generic usage snippet of
            <code>find_first</code>:</p>
            <div class="sourceCode" id="cb336"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb336-1"><a href="#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceSakilaActor <span class="im">as</span> Actor, MyService</span>
<span id="cb336-2"><a href="#cb336-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb336-3"><a href="#cb336-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb336-4"><a href="#cb336-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb336-5"><a href="#cb336-5" aria-hidden="true" tabindex="-1"></a>actor: Optional[Actor] <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.find_first(</span>
<span id="cb336-6"><a href="#cb336-6" aria-hidden="true" tabindex="-1"></a>    select<span class="op">=</span>{<span class="st">&quot;last_name&quot;</span>: <span class="va">False</span>},</span>
<span id="cb336-7"><a href="#cb336-7" aria-hidden="true" tabindex="-1"></a>    where<span class="op">=</span>{<span class="st">&quot;first_name&quot;</span>: {<span class="st">&quot;like&quot;</span>: <span class="st">&quot;</span><span class="sc">%%</span><span class="st">ED</span><span class="sc">%%</span><span class="st">&quot;</span>}},</span>
<span id="cb336-8"><a href="#cb336-8" aria-hidden="true" tabindex="-1"></a>    .</span>
<span id="cb336-9"><a href="#cb336-9" aria-hidden="true" tabindex="-1"></a>    .</span>
<span id="cb336-10"><a href="#cb336-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
            <p>In the following subsections, a small usage example is
            included for each option.</p>
            <h5 data-number="30.4.3.3.1" id="select-find_first"><span
            class="header-section-number">30.4.3.3.1</span> Select
            (find_first)</h5>
            <div class="sourceCode" id="cb337"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb337-1"><a href="#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Only include the fields specified (`list` use case)</span></span>
<span id="cb337-2"><a href="#cb337-2" aria-hidden="true" tabindex="-1"></a>select<span class="op">=</span>[<span class="st">&quot;last_update&quot;</span>]</span>
<span id="cb337-3"><a href="#cb337-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-4"><a href="#cb337-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Only include the fields specified (`dict` use case)</span></span>
<span id="cb337-5"><a href="#cb337-5" aria-hidden="true" tabindex="-1"></a>select<span class="op">=</span>{<span class="st">&quot;last_name&quot;</span>: <span class="va">True</span>}</span>
<span id="cb337-6"><a href="#cb337-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-7"><a href="#cb337-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Include all fields but the specified</span></span>
<span id="cb337-8"><a href="#cb337-8" aria-hidden="true" tabindex="-1"></a>select<span class="op">=</span>{<span class="st">&quot;last_name&quot;</span>: <span class="va">False</span>}</span></code></pre></div>
            <h5 data-number="30.4.3.3.2" id="where-find_first"><span
            class="header-section-number">30.4.3.3.2</span> Where
            (find_first)</h5>
            <div class="sourceCode" id="cb338"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb338-1"><a href="#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Equality - these two are equivalent</span></span>
<span id="cb338-2"><a href="#cb338-2" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: <span class="dv">3</span>}</span>
<span id="cb338-3"><a href="#cb338-3" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: {<span class="st">&quot;equals&quot;</span>: <span class="dv">3</span>}}</span>
<span id="cb338-4"><a href="#cb338-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-5"><a href="#cb338-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Difference</span></span>
<span id="cb338-6"><a href="#cb338-6" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{<span class="st">&quot;last_name&quot;</span>: {<span class="st">&quot;ne&quot;</span>: <span class="st">&quot;Pacheco&quot;</span>}}</span>
<span id="cb338-7"><a href="#cb338-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-8"><a href="#cb338-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Greater than</span></span>
<span id="cb338-9"><a href="#cb338-9" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: {<span class="st">&quot;gt&quot;</span>: <span class="dv">3</span>}}</span>
<span id="cb338-10"><a href="#cb338-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-11"><a href="#cb338-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Greater than or equal</span></span>
<span id="cb338-12"><a href="#cb338-12" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: {<span class="st">&quot;gte&quot;</span>: <span class="dv">3</span>}}</span>
<span id="cb338-13"><a href="#cb338-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-14"><a href="#cb338-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Lower than</span></span>
<span id="cb338-15"><a href="#cb338-15" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: {<span class="st">&quot;lt&quot;</span>: <span class="dv">3</span>}}</span>
<span id="cb338-16"><a href="#cb338-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-17"><a href="#cb338-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Lower than or equal</span></span>
<span id="cb338-18"><a href="#cb338-18" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: {<span class="st">&quot;lte&quot;</span>: <span class="dv">3</span>}}</span>
<span id="cb338-19"><a href="#cb338-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-20"><a href="#cb338-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Leads to a match when the field is not NULL.</span></span>
<span id="cb338-21"><a href="#cb338-21" aria-hidden="true" tabindex="-1"></a><span class="co"># In this case, we would get documents where the</span></span>
<span id="cb338-22"><a href="#cb338-22" aria-hidden="true" tabindex="-1"></a><span class="co"># field `last_update` is not NULL.</span></span>
<span id="cb338-23"><a href="#cb338-23" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{<span class="st">&quot;last_updated&quot;</span>: {<span class="st">&quot;not&quot;</span>: <span class="va">None</span>}}</span>
<span id="cb338-24"><a href="#cb338-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-25"><a href="#cb338-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Pattern</span></span>
<span id="cb338-26"><a href="#cb338-26" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{<span class="st">&quot;first_name&quot;</span>: {<span class="st">&quot;like&quot;</span>: <span class="st">&quot;</span><span class="sc">%%</span><span class="st">ED</span><span class="sc">%%</span><span class="st">&quot;</span>}}</span>
<span id="cb338-27"><a href="#cb338-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-28"><a href="#cb338-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Union of conditions</span></span>
<span id="cb338-29"><a href="#cb338-29" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{</span>
<span id="cb338-30"><a href="#cb338-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;AND&quot;</span>: [</span>
<span id="cb338-31"><a href="#cb338-31" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;PENELOPE&quot;</span>},</span>
<span id="cb338-32"><a href="#cb338-32" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&quot;actor_id&quot;</span>: {<span class="st">&quot;gte&quot;</span>: <span class="dv">3</span>}}</span>
<span id="cb338-33"><a href="#cb338-33" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb338-34"><a href="#cb338-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb338-35"><a href="#cb338-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-36"><a href="#cb338-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Intersection of conditions</span></span>
<span id="cb338-37"><a href="#cb338-37" aria-hidden="true" tabindex="-1"></a>where<span class="op">=</span>{</span>
<span id="cb338-38"><a href="#cb338-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;OR&quot;</span>: [</span>
<span id="cb338-39"><a href="#cb338-39" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;MICHAEL&quot;</span>},</span>
<span id="cb338-40"><a href="#cb338-40" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&quot;last_name&quot;</span>: {<span class="st">&quot;like&quot;</span>: <span class="st">&quot;</span><span class="sc">%%</span><span class="st">AB</span><span class="sc">%%</span><span class="st">&quot;</span>}}</span>
<span id="cb338-41"><a href="#cb338-41" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb338-42"><a href="#cb338-42" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <h5 data-number="30.4.3.3.3" id="skip-find_first"><span
            class="header-section-number">30.4.3.3.3</span> Skip
            (find_first)</h5>
            <p>Offset-based pagination is non-inclusive, meaning that if
            the position marking the offset is a match, it will not be
            included in the result set.</p>
            <p>Suppose the actor table contains a bunch of records as
            shown in <a href="#cursor-find_first">Cursor Example</a>.
            Then, the <code>skip</code> option can be used as
            follows:</p>
            <div class="sourceCode" id="cb339"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb339-1"><a href="#cb339-1" aria-hidden="true" tabindex="-1"></a>actor: Optional[Actor] <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.find_first(</span>
<span id="cb339-2"><a href="#cb339-2" aria-hidden="true" tabindex="-1"></a>    where<span class="op">=</span>{<span class="st">&quot;last_name&quot;</span>: {<span class="st">&quot;like&quot;</span>: <span class="st">&quot;</span><span class="sc">%%</span><span class="st">HA</span><span class="sc">%%</span><span class="st">&quot;</span>}}, skip<span class="op">=</span><span class="dv">2</span></span>
<span id="cb339-3"><a href="#cb339-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb339-4"><a href="#cb339-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb339-5"><a href="#cb339-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> actor <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb339-6"><a href="#cb339-6" aria-hidden="true" tabindex="-1"></a>    warnings.warn(<span class="ss">f&quot;Actor not found&quot;</span>)</span>
<span id="cb339-7"><a href="#cb339-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb339-8"><a href="#cb339-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(actor.actor_id)</span></code></pre></div>
            <p>The printed actor ID would be <code>32</code>.</p>
            <h5 data-number="30.4.3.3.4" id="order-by-find_first"><span
            class="header-section-number">30.4.3.3.4</span> Order By
            (find_first)</h5>
            <div class="sourceCode" id="cb340"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb340-1"><a href="#cb340-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Descending order</span></span>
<span id="cb340-2"><a href="#cb340-2" aria-hidden="true" tabindex="-1"></a>order_by<span class="op">=</span>{<span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;DESC&quot;</span>}</span>
<span id="cb340-3"><a href="#cb340-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb340-4"><a href="#cb340-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Ascending order</span></span>
<span id="cb340-5"><a href="#cb340-5" aria-hidden="true" tabindex="-1"></a>order_by<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: <span class="st">&quot;ASC&quot;</span>}</span></code></pre></div>
            <h5 data-number="30.4.3.3.5" id="cursor-find_first"><span
            class="header-section-number">30.4.3.3.5</span> Cursor
            (find_first)</h5>
            <p>The position bookmarked by the cursor is non-inclusive,
            meaning that if the bookmarked position is a match, it will
            not be included in the result set.</p>
            <p>Suppose the actor table contains a bunch of records. In
            the following snippet, only those records where
            <code>last_name</code> matches the pattern
            <code>%%HA%%</code> are shown:</p>
            <div class="sourceCode" id="cb341"><pre
            class="sourceCode json"><code class="sourceCode json"><span id="cb341-1"><a href="#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb341-2"><a href="#cb341-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;actorId&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb341-3"><a href="#cb341-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastName&quot;</span><span class="fu">:</span> <span class="er">...</span><span class="fu">,</span></span>
<span id="cb341-4"><a href="#cb341-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;firstName&quot;</span><span class="fu">:</span> <span class="er">...</span><span class="fu">,</span></span>
<span id="cb341-5"><a href="#cb341-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span> <span class="er">...</span><span class="fu">,</span></span>
<span id="cb341-6"><a href="#cb341-6" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span><span class="er">,</span></span>
<span id="cb341-7"><a href="#cb341-7" aria-hidden="true" tabindex="-1"></a><span class="er">...,</span></span>
<span id="cb341-8"><a href="#cb341-8" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb341-9"><a href="#cb341-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;actorId&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></span>
<span id="cb341-10"><a href="#cb341-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastName&quot;</span><span class="fu">:</span> <span class="st">&quot;CHASE&quot;</span><span class="fu">,</span></span>
<span id="cb341-11"><a href="#cb341-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;firstName&quot;</span><span class="fu">:</span> <span class="st">&quot;ED&quot;</span><span class="fu">,</span></span>
<span id="cb341-12"><a href="#cb341-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span> <span class="st">&quot;2006-02-15 04:34:33.000000&quot;</span><span class="fu">,</span></span>
<span id="cb341-13"><a href="#cb341-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span><span class="er">,</span></span>
<span id="cb341-14"><a href="#cb341-14" aria-hidden="true" tabindex="-1"></a><span class="er">...,</span></span>
<span id="cb341-15"><a href="#cb341-15" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb341-16"><a href="#cb341-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;actorId&quot;</span><span class="fu">:</span> <span class="dv">8</span><span class="fu">,</span></span>
<span id="cb341-17"><a href="#cb341-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastName&quot;</span><span class="fu">:</span> <span class="st">&quot;JOHANSSON&quot;</span><span class="fu">,</span></span>
<span id="cb341-18"><a href="#cb341-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;firstName&quot;</span><span class="fu">:</span> <span class="st">&quot;MATTHEW&quot;</span><span class="fu">,</span></span>
<span id="cb341-19"><a href="#cb341-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span> <span class="st">&quot;2006-02-15 04:34:33.000000&quot;</span><span class="fu">,</span></span>
<span id="cb341-20"><a href="#cb341-20" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span><span class="er">,</span></span>
<span id="cb341-21"><a href="#cb341-21" aria-hidden="true" tabindex="-1"></a><span class="er">...,</span></span>
<span id="cb341-22"><a href="#cb341-22" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb341-23"><a href="#cb341-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;actorId&quot;</span><span class="fu">:</span> <span class="dv">32</span><span class="fu">,</span></span>
<span id="cb341-24"><a href="#cb341-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastName&quot;</span><span class="fu">:</span> <span class="st">&quot;HACKMAN&quot;</span><span class="fu">,</span></span>
<span id="cb341-25"><a href="#cb341-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;firstName&quot;</span><span class="fu">:</span> <span class="st">&quot;TIM&quot;</span><span class="fu">,</span></span>
<span id="cb341-26"><a href="#cb341-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lastUpdate&quot;</span><span class="fu">:</span> <span class="st">&quot;2006-02-15 04:34:33.000000&quot;</span><span class="fu">,</span></span>
<span id="cb341-27"><a href="#cb341-27" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
            <p>The cursor option can be used as follows:</p>
            <div class="sourceCode" id="cb342"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb342-1"><a href="#cb342-1" aria-hidden="true" tabindex="-1"></a>actor: Optional[Actor] <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.find_first(</span>
<span id="cb342-2"><a href="#cb342-2" aria-hidden="true" tabindex="-1"></a>    where<span class="op">=</span>{<span class="st">&quot;last_name&quot;</span>: {<span class="st">&quot;like&quot;</span>: <span class="st">&quot;</span><span class="sc">%%</span><span class="st">HA</span><span class="sc">%%</span><span class="st">&quot;</span>}},</span>
<span id="cb342-3"><a href="#cb342-3" aria-hidden="true" tabindex="-1"></a>    cursor<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: <span class="dv">3</span>},  <span class="co"># cursor is exclusive</span></span>
<span id="cb342-4"><a href="#cb342-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb342-5"><a href="#cb342-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-6"><a href="#cb342-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> actor <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb342-7"><a href="#cb342-7" aria-hidden="true" tabindex="-1"></a>    warnings.warn(<span class="ss">f&quot;Actor not found&quot;</span>)</span>
<span id="cb342-8"><a href="#cb342-8" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb342-9"><a href="#cb342-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(actor.actor_id)</span></code></pre></div>
            <p>The printed actor ID would be <code>8</code>.</p>
            <h5 data-number="30.4.3.3.6"
            id="read-own-writes-find_first"><span
            class="header-section-number">30.4.3.3.6</span> Read Own
            Writes (find_first)</h5>
            <div class="sourceCode" id="cb343"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb343-1"><a href="#cb343-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ON</span></span>
<span id="cb343-2"><a href="#cb343-2" aria-hidden="true" tabindex="-1"></a>read_own_writes<span class="op">=</span><span class="va">True</span></span>
<span id="cb343-3"><a href="#cb343-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-4"><a href="#cb343-4" aria-hidden="true" tabindex="-1"></a><span class="co"># OFF</span></span>
<span id="cb343-5"><a href="#cb343-5" aria-hidden="true" tabindex="-1"></a>read_own_writes<span class="op">=</span><span class="va">False</span></span></code></pre></div>
            <h3 data-number="30.4.4"
            id="view.find_first_or_throw-py"><span
            class="header-section-number">30.4.4</span>
            View.find_first_or_throw (PY)</h3>
            <p><code>find_first_or_throw</code> is used to retrieve the
            first REST document that matches a given optional filter in
            the same way as <a href="#find_first">find_first</a> does.
            However, if the query does not find a document, it raises a
            <code>MrsDocumentNotFoundError</code> exception.</p>
            <blockquote>
            <p>To not raise an exception and get <code>None</code> if
            there are no matches, use <a
            href="#find_first">find_first</a> instead.</p>
            <p>To find multiple REST documents, see <a
            href="#find">find</a>.</p>
            </blockquote>
            <h4 data-number="30.4.4.1"
            id="options-find_first_or_throw"><span
            class="header-section-number">30.4.4.1</span> Options
            (find_first_or_throw)</h4>
            <p><code>find_first_or_throw</code> and
            <code>find_first</code> implement the very same options. For
            more details about these, see <a
            href="#options-find_first">Options (find_first)</a>.</p>
            <h4 data-number="30.4.4.2"
            id="return-type-find_first_or_throw"><span
            class="header-section-number">30.4.4.2</span> Return Type
            (find_first_or_throw)</h4>
            <p>If there is a match, a REST document data class object
            meeting the filter conditions is returned, otherwise an
            exception <code>MrsDocumentNotFoundError</code> is raised.
            For more details about REST documents, check the <a
            href="#rest-documents">REST Documents</a> section.</p>
            <h4 data-number="30.4.4.3"
            id="example-find_first_or_throw"><span
            class="header-section-number">30.4.4.3</span> Example
            (find_first_or_throw)</h4>
            <p>Usage is similar to <code>find_first</code>, however, now
            you should account for a possible exception:</p>
            <div class="sourceCode" id="cb344"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb344-1"><a href="#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb344-2"><a href="#cb344-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceSakilaActor <span class="im">as</span> Actor, MyService, MrsDocumentNotFoundError</span>
<span id="cb344-3"><a href="#cb344-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb344-4"><a href="#cb344-4" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb344-5"><a href="#cb344-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb344-6"><a href="#cb344-6" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb344-7"><a href="#cb344-7" aria-hidden="true" tabindex="-1"></a>    actor: Actor <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.find_first_or_throw(</span>
<span id="cb344-8"><a href="#cb344-8" aria-hidden="true" tabindex="-1"></a>        select<span class="op">=</span>{<span class="st">&quot;last_name&quot;</span>: <span class="va">False</span>},</span>
<span id="cb344-9"><a href="#cb344-9" aria-hidden="true" tabindex="-1"></a>        where<span class="op">=</span>{<span class="st">&quot;first_name&quot;</span>: {<span class="st">&quot;like&quot;</span>: <span class="st">&quot;</span><span class="sc">%%</span><span class="st">ED</span><span class="sc">%%</span><span class="st">&quot;</span>}},</span>
<span id="cb344-10"><a href="#cb344-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb344-11"><a href="#cb344-11" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> MrsDocumentNotFoundError:</span>
<span id="cb344-12"><a href="#cb344-12" aria-hidden="true" tabindex="-1"></a>    warnings.warn(<span class="st">&quot;Ups, no matches found&quot;</span>)</span></code></pre></div>
            <p>See <a href="#example-find_first">Example
            (find_first)</a> for additional usage options.</p>
            <h3 data-number="30.4.5" id="view.find_unique-py"><span
            class="header-section-number">30.4.5</span> View.find_unique
            (PY)</h3>
            <p><code>find_unique</code> is used to query a single,
            uniquely identified REST document by:</p>
            <ul>
            <li>Primary key column(s)</li>
            <li>Unique column(s)</li>
            </ul>
            <p>It returns <code>None</code> if no document is found.</p>
            <blockquote>
            <p>To raise an exception if there are no matches, use <a
            href="#find_unique_or_throw">find_unique_or_throw</a>
            instead.</p>
            </blockquote>
            <h4 data-number="30.4.5.1" id="options-find_unique"><span
            class="header-section-number">30.4.5.1</span> Options
            (find_unique)</h4>
            <table>
            <caption>REST Views Options (find_unique)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>select</td>
            <td>dict or list</td>
            <td>No</td>
            <td>Specifies which properties to include or exclude on the
            returned document - works as a <em>field filter</em></td>
            </tr>
            <tr class="even">
            <td>where</td>
            <td>dict</td>
            <td>Yes</td>
            <td>Applies filtering conditions based on specific fields
            (must be unique) - works as a <em>document filter</em></td>
            </tr>
            <tr class="odd">
            <td>read_own_writes</td>
            <td>bool</td>
            <td>No</td>
            <td>Ensures read consistency for a cluster of servers -
            <code>False</code> is used by default</td>
            </tr>
            </tbody>
            </table>
            <h4 data-number="30.4.5.2"
            id="return-type-find_unique"><span
            class="header-section-number">30.4.5.2</span> Return Type
            (find_unique)</h4>
            <p>If there is a match, a REST document data class object
            meeting the filter conditions, otherwise <code>None</code>
            is returned. For more details about REST documents, check
            the <a href="#rest-documents">REST Documents</a>
            section.</p>
            <h4 data-number="30.4.5.3" id="example-find_unique"><span
            class="header-section-number">30.4.5.3</span> Example
            (find_unique)</h4>
            <div class="sourceCode" id="cb345"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb345-1"><a href="#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb345-2"><a href="#cb345-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceSakilaActor <span class="im">as</span> Actor, MyService</span>
<span id="cb345-3"><a href="#cb345-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb345-4"><a href="#cb345-4" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb345-5"><a href="#cb345-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb345-6"><a href="#cb345-6" aria-hidden="true" tabindex="-1"></a>aid <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb345-7"><a href="#cb345-7" aria-hidden="true" tabindex="-1"></a>actor: Actor <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.find_unique(</span>
<span id="cb345-8"><a href="#cb345-8" aria-hidden="true" tabindex="-1"></a>    where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: aid}, select<span class="op">=</span>[<span class="st">&quot;last_update&quot;</span>], read_own_writes<span class="op">=</span><span class="va">False</span></span>
<span id="cb345-9"><a href="#cb345-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb345-10"><a href="#cb345-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> actor <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb345-11"><a href="#cb345-11" aria-hidden="true" tabindex="-1"></a>    warnings.warn(<span class="ss">f&quot;Actor with id=</span><span class="sc">{</span>aid<span class="sc">}</span><span class="ss"> not found&quot;</span>)</span>
<span id="cb345-12"><a href="#cb345-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb345-13"><a href="#cb345-13" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> actor.actor_id <span class="op">==</span> aid</span></code></pre></div>
            <p>See <a href="#example-find_first">Example
            (find_first)</a> for additional usage options.</p>
            <h3 data-number="30.4.6"
            id="view.find_unique_or_throw-py"><span
            class="header-section-number">30.4.6</span>
            View.find_unique_or_throw (PY)</h3>
            <p><code>find_unique_or_throw</code> is used to query a
            single, uniquely identified REST document by:</p>
            <ul>
            <li>Primary key column(s)</li>
            <li>Unique column(s)</li>
            </ul>
            <p>If no document was found matching the given filter
            conditions, <code>MrsDocumentNotFoundError</code> is
            raised.</p>
            <blockquote>
            <p>To not raise an exception and get <code>None</code> if
            there are no matches, use <a
            href="#find_unique">find_unique</a> instead.</p>
            </blockquote>
            <h4 data-number="30.4.6.1"
            id="options-find_unique_or_throw"><span
            class="header-section-number">30.4.6.1</span> Options
            (find_unique_or_throw)</h4>
            <p><code>find_unique_or_throw</code> and
            <code>find_unique</code> implement the very same options.
            For more details about these, see <a
            href="#options-find_unique">Options (find_unique)</a>.</p>
            <h4 data-number="30.4.6.2"
            id="return-type-find_unique_or_throw"><span
            class="header-section-number">30.4.6.2</span> Return Type
            (find_unique_or_throw)</h4>
            <p>If there is a match, a REST document data class object
            meeting the filter conditions, otherwise
            <code>MrsDocumentNotFoundError</code> is raised. For more
            details about REST documents, check the <a
            href="#rest-documents">REST Documents</a> section.</p>
            <h4 data-number="30.4.6.3"
            id="example-find_unique_or_throw"><span
            class="header-section-number">30.4.6.3</span> Example
            (find_unique_or_throw)</h4>
            <div class="sourceCode" id="cb346"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb346-1"><a href="#cb346-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb346-2"><a href="#cb346-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceSakilaActor <span class="im">as</span> Actor, MyService, MrsDocumentNotFoundError</span>
<span id="cb346-3"><a href="#cb346-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb346-4"><a href="#cb346-4" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb346-5"><a href="#cb346-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb346-6"><a href="#cb346-6" aria-hidden="true" tabindex="-1"></a>aid <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb346-7"><a href="#cb346-7" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb346-8"><a href="#cb346-8" aria-hidden="true" tabindex="-1"></a>    actor: Actor <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.find_unique_or_throw(</span>
<span id="cb346-9"><a href="#cb346-9" aria-hidden="true" tabindex="-1"></a>        where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: aid}, select<span class="op">=</span>[<span class="st">&quot;last_update&quot;</span>], read_own_writes<span class="op">=</span><span class="va">False</span></span>
<span id="cb346-10"><a href="#cb346-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb346-11"><a href="#cb346-11" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> MrsDocumentNotFoundError:</span>
<span id="cb346-12"><a href="#cb346-12" aria-hidden="true" tabindex="-1"></a>    warnings.warn(<span class="st">&quot;Ups, no matches found&quot;</span>)</span></code></pre></div>
            <p>See <a href="#example-find_first">Example
            (find_first)</a> for additional usage options.</p>
            <h3 data-number="30.4.7" id="view.find-py"><span
            class="header-section-number">30.4.7</span> View.find
            (PY)</h3>
            <p><code>find</code> is used to query a subset of REST
            documents in one or more pages, and optionally, those that
            match a given filter.</p>
            <h4 data-number="30.4.7.1" id="options-find"><span
            class="header-section-number">30.4.7.1</span> Options
            (find)</h4>
            <table>
            <caption>REST Views Options (find)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>select</td>
            <td>dict or list</td>
            <td>No</td>
            <td>Specifies which properties to include or exclude on the
            returned document - works as a <em>field filter</em></td>
            </tr>
            <tr class="even">
            <td>where</td>
            <td>dict</td>
            <td>No</td>
            <td>Applies filtering conditions based on specific fields -
            works as a <em>document filter</em></td>
            </tr>
            <tr class="odd">
            <td>skip</td>
            <td>int</td>
            <td>No</td>
            <td>Specifies how many documents to skip before returning
            one of the matches</td>
            </tr>
            <tr class="even">
            <td>order_by</td>
            <td>dict</td>
            <td>No</td>
            <td>Lets you customize the order (<code>ASC</code> or
            <code>DESC</code>) in which the documents are returned based
            on specific fields</td>
            </tr>
            <tr class="odd">
            <td>cursor</td>
            <td>dict</td>
            <td>No</td>
            <td>Specifies the position of the first item to include in
            the result set. A cursor bookmarks a location in a result
            set and must be a column containing unique and sequential
            values.</td>
            </tr>
            <tr class="even">
            <td>read_own_writes</td>
            <td>bool</td>
            <td>No</td>
            <td>Ensures read consistency for a cluster of servers -
            <code>False</code> is used by default</td>
            </tr>
            <tr class="odd">
            <td>take</td>
            <td>int</td>
            <td>No</td>
            <td>The maximum size of the page.</td>
            </tr>
            <tr class="even">
            <td>in order to avoid n + 1 requests, the internal iterator
            stops after the MySQL Router says there are no more items.
            Default value is <code>True</code> (enabled).</td>
            <td></td>
            <td></td>
            <td></td>
            </tr>
            </tbody>
            </table>
            <blockquote>
            <p>Cursor-based pagination takes precedence over
            offset-based pagination, which means that if a cursor is
            defined, the value of the offset property
            (<code>skip</code>) will be ignored.</p>
            </blockquote>
            <h4 data-number="30.4.7.2" id="return-type-find"><span
            class="header-section-number">30.4.7.2</span> Return Type
            (find)</h4>
            <p>A list of objects representing the first page of REST
            Documents matching the filter. If there are more matching
            REST Documents, the array contains an additional
            <code>has_more</code> truthy property and a
            <code>next()</code> async function that automatically
            retrieves the subsequent page of REST Documents.</p>
            <h4 data-number="30.4.7.3" id="example-find"><span
            class="header-section-number">30.4.7.3</span> Example
            (find)</h4>
            <div class="sourceCode" id="cb347"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb347-1"><a href="#cb347-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> MyService</span>
<span id="cb347-2"><a href="#cb347-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb347-3"><a href="#cb347-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb347-4"><a href="#cb347-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb347-5"><a href="#cb347-5" aria-hidden="true" tabindex="-1"></a>actors <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.countries.find()</span>
<span id="cb347-6"><a href="#cb347-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(actors)</span>
<span id="cb347-7"><a href="#cb347-7" aria-hidden="true" tabindex="-1"></a><span class="co"># [</span></span>
<span id="cb347-8"><a href="#cb347-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   IMyServiceSakilaCountry(</span></span>
<span id="cb347-9"><a href="#cb347-9" aria-hidden="true" tabindex="-1"></a><span class="co">#       country_id=1,</span></span>
<span id="cb347-10"><a href="#cb347-10" aria-hidden="true" tabindex="-1"></a><span class="co">#       last_update=datetime.datetime(2006, 2, 15, 4, 44),</span></span>
<span id="cb347-11"><a href="#cb347-11" aria-hidden="true" tabindex="-1"></a><span class="co">#       country=&#39;Afghanistan&#39;,</span></span>
<span id="cb347-12"><a href="#cb347-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   ),</span></span>
<span id="cb347-13"><a href="#cb347-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   IMyServiceSakilaCountry(</span></span>
<span id="cb347-14"><a href="#cb347-14" aria-hidden="true" tabindex="-1"></a><span class="co">#       country_id=2,</span></span>
<span id="cb347-15"><a href="#cb347-15" aria-hidden="true" tabindex="-1"></a><span class="co">#       last_update=datetime.datetime(2006, 2, 15, 4, 44),</span></span>
<span id="cb347-16"><a href="#cb347-16" aria-hidden="true" tabindex="-1"></a><span class="co">#       country=&#39;Algeria&#39;,</span></span>
<span id="cb347-17"><a href="#cb347-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   ),</span></span>
<span id="cb347-18"><a href="#cb347-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   ...</span></span>
<span id="cb347-19"><a href="#cb347-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   IMyServiceSakilaCountry(</span></span>
<span id="cb347-20"><a href="#cb347-20" aria-hidden="true" tabindex="-1"></a><span class="co">#       country_id=25,</span></span>
<span id="cb347-21"><a href="#cb347-21" aria-hidden="true" tabindex="-1"></a><span class="co">#       last_update=datetime.datetime(2006, 2, 15, 4, 44),</span></span>
<span id="cb347-22"><a href="#cb347-22" aria-hidden="true" tabindex="-1"></a><span class="co">#       country=&#39;Congo, The Democratic Republic of the&#39;,</span></span>
<span id="cb347-23"><a href="#cb347-23" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb347-24"><a href="#cb347-24" aria-hidden="true" tabindex="-1"></a><span class="co"># ]</span></span>
<span id="cb347-25"><a href="#cb347-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb347-26"><a href="#cb347-26" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> actors.has_more <span class="kw">is</span> <span class="va">True</span>:</span>
<span id="cb347-27"><a href="#cb347-27" aria-hidden="true" tabindex="-1"></a>    actors <span class="op">=</span> <span class="cf">await</span> actors.<span class="bu">next</span>()</span>
<span id="cb347-28"><a href="#cb347-28" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(actors)</span>
<span id="cb347-29"><a href="#cb347-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># [</span></span>
<span id="cb347-30"><a href="#cb347-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   IMyServiceSakilaCountry(</span></span>
<span id="cb347-31"><a href="#cb347-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       country_id=26,</span></span>
<span id="cb347-32"><a href="#cb347-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       last_update=datetime.datetime(2006, 2, 15, 4, 44),</span></span>
<span id="cb347-33"><a href="#cb347-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       country=&#39;Czech Republic&#39;,</span></span>
<span id="cb347-34"><a href="#cb347-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   ),</span></span>
<span id="cb347-35"><a href="#cb347-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   IMyServiceSakilaCountry(</span></span>
<span id="cb347-36"><a href="#cb347-36" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       country_id=27,</span></span>
<span id="cb347-37"><a href="#cb347-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       last_update=datetime.datetime(2006, 2, 15, 4, 44),</span></span>
<span id="cb347-38"><a href="#cb347-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       country=&#39;Dominican Republic&#39;,</span></span>
<span id="cb347-39"><a href="#cb347-39" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   ),</span></span>
<span id="cb347-40"><a href="#cb347-40" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   ...</span></span>
<span id="cb347-41"><a href="#cb347-41" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   IMyServiceSakilaCountry(</span></span>
<span id="cb347-42"><a href="#cb347-42" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       country_id=50,</span></span>
<span id="cb347-43"><a href="#cb347-43" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       last_update=datetime.datetime(2006, 2, 15, 4, 44),</span></span>
<span id="cb347-44"><a href="#cb347-44" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       country=&#39;Japan&#39;,</span></span>
<span id="cb347-45"><a href="#cb347-45" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   )</span></span></code></pre></div>
            <blockquote>
            <p>Due the way attributes work in Python, for the MyPy type
            checker to be able to correctly narrow the types returned by
            <code>next()</code>, <code>has_more</code> must be
            explicitly checked against <code>True</code>.</p>
            </blockquote>
            <p>See <a href="#example-find_first">Example
            (find_first)</a> for additional usage options.</p>
            <h3 data-number="30.4.8" id="view.delete-py"><span
            class="header-section-number">30.4.8</span> View.delete
            (PY)</h3>
            <p><code>delete</code> is used to delete a single, uniquely
            identified REST document by:</p>
            <ul>
            <li>Primary key column(s)</li>
            <li>Unique column(s)</li>
            </ul>
            <blockquote>
            <p>To delete multiple documents, see <a
            href="#delete_many">delete_many</a>.</p>
            </blockquote>
            <h4 data-number="30.4.8.1" id="options-delete"><span
            class="header-section-number">30.4.8.1</span> Options
            (delete)</h4>
            <table>
            <caption>REST Views Options (delete)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>where</td>
            <td>dict</td>
            <td>Yes</td>
            <td>Applies filtering conditions based on specific fields
            (must be unique) - works as a <em>document filter</em></td>
            </tr>
            <tr class="even">
            <td>read_own_writes</td>
            <td>bool</td>
            <td>No</td>
            <td>Ensures read consistency for a cluster of servers -
            <code>False</code> is used by default</td>
            </tr>
            </tbody>
            </table>
            <h4 data-number="30.4.8.2" id="return-type-delete"><span
            class="header-section-number">30.4.8.2</span> Return Type
            (delete)</h4>
            <p><code>True</code> if the document was deleted
            successfully or <code>False</code> otherwise.</p>
            <h4 data-number="30.4.8.3" id="example-delete"><span
            class="header-section-number">30.4.8.3</span> Example
            (delete)</h4>
            <div class="sourceCode" id="cb348"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb348-1"><a href="#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb348-2"><a href="#cb348-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceSakilaActor <span class="im">as</span> Actor, MyService</span>
<span id="cb348-3"><a href="#cb348-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-4"><a href="#cb348-4" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb348-5"><a href="#cb348-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-6"><a href="#cb348-6" aria-hidden="true" tabindex="-1"></a>aid <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb348-7"><a href="#cb348-7" aria-hidden="true" tabindex="-1"></a>ans: <span class="bu">bool</span> <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.delete(</span>
<span id="cb348-8"><a href="#cb348-8" aria-hidden="true" tabindex="-1"></a>    where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: aid}</span>
<span id="cb348-9"><a href="#cb348-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb348-10"><a href="#cb348-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> ans <span class="kw">is</span> <span class="va">False</span>:</span>
<span id="cb348-11"><a href="#cb348-11" aria-hidden="true" tabindex="-1"></a>    warnings.warn(<span class="ss">f&quot;Actor not deleted - actor_id=</span><span class="sc">{</span>aid<span class="sc">}</span><span class="ss"> not found&quot;</span>)</span>
<span id="cb348-12"><a href="#cb348-12" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb348-13"><a href="#cb348-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;Actor document with ID=</span><span class="sc">{</span>aid<span class="sc">}</span><span class="ss"> was deleted&quot;</span>)</span></code></pre></div>
            <h3 data-number="30.4.9" id="view.delete_many-py"><span
            class="header-section-number">30.4.9</span> View.delete_many
            (PY)</h3>
            <p><code>delete_many</code> is used to delete all REST
            documents that match a given filter. To delete a single
            document, see <a href="#delete">delete</a>.</p>
            <h4 data-number="30.4.9.1" id="options-delete_many"><span
            class="header-section-number">30.4.9.1</span> Options
            (delete_many)</h4>
            <table>
            <caption>REST Views Options (delete_many)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>where</td>
            <td>dict</td>
            <td>Yes</td>
            <td>Applies filtering conditions based on specific fields -
            works as a <em>document filter</em></td>
            </tr>
            <tr class="even">
            <td>read_own_writes</td>
            <td>bool</td>
            <td>No</td>
            <td>Ensures read consistency for a cluster of servers -
            <code>False</code> is used by default</td>
            </tr>
            </tbody>
            </table>
            <h4 data-number="30.4.9.2"
            id="return-type-delete_many"><span
            class="header-section-number">30.4.9.2</span> Return Type
            (delete_many)</h4>
            <p>An integer indicating the number of deleted
            documents.</p>
            <h4 data-number="30.4.9.3" id="example-delete_many"><span
            class="header-section-number">30.4.9.3</span> Example
            (delete_many)</h4>
            <p>Suppose the actor table contains a bunch of records as
            shown in <a href="#cursor-find_first">Cursor
            Example</a>.</p>
            <div class="sourceCode" id="cb349"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb349-1"><a href="#cb349-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceSakilaActor <span class="im">as</span> Actor, MyService</span>
<span id="cb349-2"><a href="#cb349-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-3"><a href="#cb349-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb349-4"><a href="#cb349-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-5"><a href="#cb349-5" aria-hidden="true" tabindex="-1"></a>num_items_removed <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.delete_many(</span>
<span id="cb349-6"><a href="#cb349-6" aria-hidden="true" tabindex="-1"></a>    where<span class="op">=</span>{<span class="st">&quot;last_name&quot;</span>: {<span class="st">&quot;like&quot;</span>: <span class="st">&quot;</span><span class="sc">%%</span><span class="st">HA</span><span class="sc">%%</span><span class="st">&quot;</span>}}</span>
<span id="cb349-7"><a href="#cb349-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb349-8"><a href="#cb349-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(num_items_removed)</span>
<span id="cb349-9"><a href="#cb349-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 3</span></span></code></pre></div>
            <h3 data-number="30.4.10" id="view.update-py"><span
            class="header-section-number">30.4.10</span> View.update
            (PY)</h3>
            <p><code>update</code> is used to update a REST document
            with a given identifier or primary key.</p>
            <blockquote>
            <p>To update multiple documents, see <a
            href="#update_many">update_many</a>.</p>
            </blockquote>
            <h4 data-number="30.4.10.1" id="options-update"><span
            class="header-section-number">30.4.10.1</span> Options
            (update)</h4>
            <table>
            <caption>REST Views Options (update)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>data</td>
            <td>TypedDict</td>
            <td>Yes</td>
            <td>Set of fields and corresponding values to update. The
            identifier or primary key must be included</td>
            </tr>
            </tbody>
            </table>
            <h4 data-number="30.4.10.2" id="return-type-update"><span
            class="header-section-number">30.4.10.2</span> Return Type
            (update)</h4>
            <p>A REST document data class object representing the
            up-to-date record. For more details about REST documents,
            check the <a href="#rest-documents">REST Documents</a>
            section.</p>
            <h4 data-number="30.4.10.3" id="example-update"><span
            class="header-section-number">30.4.10.3</span> Example
            (update)</h4>
            <div class="sourceCode" id="cb350"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb350-1"><a href="#cb350-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb350-2"><a href="#cb350-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceSakilaActor <span class="im">as</span> Actor, MyService</span>
<span id="cb350-3"><a href="#cb350-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-4"><a href="#cb350-4" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb350-5"><a href="#cb350-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-6"><a href="#cb350-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The `actor_id` and `last_update` columns from the `sakila` table on the</span></span>
<span id="cb350-7"><a href="#cb350-7" aria-hidden="true" tabindex="-1"></a><span class="co"># sample [sakila database](https://dev.mysql.com/doc/sakila/en/) are</span></span>
<span id="cb350-8"><a href="#cb350-8" aria-hidden="true" tabindex="-1"></a><span class="co"># automatically generated on each insert, which means they can be omitted.</span></span>
<span id="cb350-9"><a href="#cb350-9" aria-hidden="true" tabindex="-1"></a>actor: Actor <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.create(</span>
<span id="cb350-10"><a href="#cb350-10" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>{<span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;Foo&quot;</span>, <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;Bar&quot;</span>, <span class="st">&quot;actor_id&quot;</span>: <span class="dv">345</span>}</span>
<span id="cb350-11"><a href="#cb350-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb350-12"><a href="#cb350-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-13"><a href="#cb350-13" aria-hidden="true" tabindex="-1"></a>actor_updated: Actor <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.update(</span>
<span id="cb350-14"><a href="#cb350-14" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>{</span>
<span id="cb350-15"><a href="#cb350-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;actor_id&quot;</span>: cast(<span class="bu">int</span>, actor.actor_id),</span>
<span id="cb350-16"><a href="#cb350-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;Rodolfo&quot;</span>,</span>
<span id="cb350-17"><a href="#cb350-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;Smith&quot;</span>,</span>
<span id="cb350-18"><a href="#cb350-18" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;last_update&quot;</span>: <span class="bu">str</span>(datetime.now()),</span>
<span id="cb350-19"><a href="#cb350-19" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb350-20"><a href="#cb350-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb350-21"><a href="#cb350-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-22"><a href="#cb350-22" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> actor_updated.first_name <span class="op">==</span> <span class="st">&quot;Rodolfo&quot;</span></span>
<span id="cb350-23"><a href="#cb350-23" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> actor_updated.last_name <span class="op">==</span> <span class="st">&quot;Smith&quot;</span></span>
<span id="cb350-24"><a href="#cb350-24" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> actor.actor_id <span class="op">==</span> actor_updated.actor_id</span></code></pre></div>
            <h3 data-number="30.4.11" id="view.update_many-py"><span
            class="header-section-number">30.4.11</span>
            View.update_many (PY)</h3>
            <p><code>update_many</code> is used to update all REST
            documents with matching identifiers or primary keys.</p>
            <blockquote>
            <p>To update a single document, see <a
            href="#update">update</a>.</p>
            </blockquote>
            <h4 data-number="30.4.11.1" id="options-update_many"><span
            class="header-section-number">30.4.11.1</span> Options
            (update_many)</h4>
            <table>
            <caption>REST Views Options (update_many)</caption>
            <colgroup>
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 10%" />
            <col style="width: 70%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>data</td>
            <td>list of <code>TypedDict</code></td>
            <td>Yes</td>
            <td>A list of set of fields and corresponding values to
            update. The identifier or primary key must be included for
            each “set of fields” (document)</td>
            </tr>
            </tbody>
            </table>
            <h4 data-number="30.4.11.2"
            id="return-type-update_many"><span
            class="header-section-number">30.4.11.2</span> Return Type
            (update_many)</h4>
            <p>A list of REST document data class objects representing
            the up-to-date records. For more details about REST
            documents, check the <a href="#rest-documents">REST
            Documents</a> section.</p>
            <h4 data-number="30.4.11.3" id="example-update_many"><span
            class="header-section-number">30.4.11.3</span> Example
            (update_many)</h4>
            <div class="sourceCode" id="cb351"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb351-1"><a href="#cb351-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb351-2"><a href="#cb351-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceSakilaActor <span class="im">as</span> Actor, MyService</span>
<span id="cb351-3"><a href="#cb351-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-4"><a href="#cb351-4" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb351-5"><a href="#cb351-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-6"><a href="#cb351-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The `actor_id` and `last_update` columns from the `sakila` table on the</span></span>
<span id="cb351-7"><a href="#cb351-7" aria-hidden="true" tabindex="-1"></a><span class="co"># sample [sakila database](https://dev.mysql.com/doc/sakila/en/) are</span></span>
<span id="cb351-8"><a href="#cb351-8" aria-hidden="true" tabindex="-1"></a><span class="co"># automatically generated on each insert, which means they can be omitted.</span></span>
<span id="cb351-9"><a href="#cb351-9" aria-hidden="true" tabindex="-1"></a>actors: Actor <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.create(</span>
<span id="cb351-10"><a href="#cb351-10" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>[</span>
<span id="cb351-11"><a href="#cb351-11" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;Foo&quot;</span>, <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;Bar&quot;</span>, <span class="st">&quot;actor_id&quot;</span>: <span class="dv">345</span>},</span>
<span id="cb351-12"><a href="#cb351-12" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;Bruh&quot;</span>, <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;Baz&quot;</span>, <span class="st">&quot;actor_id&quot;</span>: <span class="dv">346</span>},</span>
<span id="cb351-13"><a href="#cb351-13" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb351-14"><a href="#cb351-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb351-15"><a href="#cb351-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-16"><a href="#cb351-16" aria-hidden="true" tabindex="-1"></a>actors_updated: Actor <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.sakila.actor.update(</span>
<span id="cb351-17"><a href="#cb351-17" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>[</span>
<span id="cb351-18"><a href="#cb351-18" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb351-19"><a href="#cb351-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;actor_id&quot;</span>: cast(<span class="bu">int</span>, actors[<span class="dv">0</span>].actor_id),</span>
<span id="cb351-20"><a href="#cb351-20" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;Rodolfo&quot;</span>,</span>
<span id="cb351-21"><a href="#cb351-21" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;Smith&quot;</span>,</span>
<span id="cb351-22"><a href="#cb351-22" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;last_update&quot;</span>: <span class="bu">str</span>(datetime.now()),</span>
<span id="cb351-23"><a href="#cb351-23" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb351-24"><a href="#cb351-24" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb351-25"><a href="#cb351-25" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;actor_id&quot;</span>: cast(<span class="bu">int</span>, actors[<span class="dv">1</span>].actor_id),</span>
<span id="cb351-26"><a href="#cb351-26" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;Ma&quot;</span>,</span>
<span id="cb351-27"><a href="#cb351-27" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;Yeung&quot;</span>,</span>
<span id="cb351-28"><a href="#cb351-28" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;last_update&quot;</span>: <span class="bu">str</span>(datetime.now()),</span>
<span id="cb351-29"><a href="#cb351-29" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb351-30"><a href="#cb351-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-31"><a href="#cb351-31" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb351-32"><a href="#cb351-32" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb351-33"><a href="#cb351-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-34"><a href="#cb351-34" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> actors_updated[<span class="dv">0</span>].first_name <span class="op">==</span> <span class="st">&quot;Rodolfo&quot;</span></span>
<span id="cb351-35"><a href="#cb351-35" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> actors_updated[<span class="dv">0</span>].last_name <span class="op">==</span> <span class="st">&quot;Smith&quot;</span></span>
<span id="cb351-36"><a href="#cb351-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-37"><a href="#cb351-37" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> actors_updated[<span class="dv">1</span>].first_name <span class="op">==</span> <span class="st">&quot;Ma&quot;</span></span>
<span id="cb351-38"><a href="#cb351-38" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> actors_updated[<span class="dv">1</span>].last_name <span class="op">==</span> <span class="st">&quot;Yeung&quot;</span></span></code></pre></div>
            <h2 data-number="30.5" id="rest-documents"><span
            class="header-section-number">30.5</span> REST
            Documents</h2>
            <p>A <em>REST document</em> behaves like a <a
            href="https://docs.python.org/3/library/dataclasses.html">Python
            data class</a> instance, and implements an extended
            interface which includes the <code>update</code> and
            <code>delete</code> methods.</p>
            <blockquote>
            <p>Python data classes defining REST documents are public
            elements of the Service module, however, we advise you to
            not produce (instantiate) REST documents directly. Instead,
            we recommend doing so indirectly; by calling specific Python
            SDK commands such as <code>find*()</code> or
            <code>create*()</code>. See <a href="#rest-views">REST
            Views</a> to know more about these commands.</p>
            </blockquote>
            <h3 data-number="30.5.1" id="document.update-py"><span
            class="header-section-number">30.5.1</span> Document.update
            (PY)</h3>
            <p><code>update</code> updates the REST document represented
            by the data class instance.</p>
            <h4 data-number="30.5.1.1"
            id="options-update---document"><span
            class="header-section-number">30.5.1.1</span> Options
            (update - document)</h4>
            <p>No options are implemented because the data required to
            complete the operation is assumed to be already included in
            the data class instance itself.</p>
            <h4 data-number="30.5.1.2"
            id="return-type-update---document"><span
            class="header-section-number">30.5.1.2</span> Return Type
            (update - document)</h4>
            <p><code>None</code>.</p>
            <h4 data-number="30.5.1.3"
            id="example-update---document"><span
            class="header-section-number">30.5.1.3</span> Example
            (update - document)</h4>
            <div class="sourceCode" id="cb352"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb352-1"><a href="#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> asyncio</span>
<span id="cb352-2"><a href="#cb352-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb352-3"><a href="#cb352-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Optional</span>
<span id="cb352-4"><a href="#cb352-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> (</span>
<span id="cb352-5"><a href="#cb352-5" aria-hidden="true" tabindex="-1"></a>    IMyServiceSakilaActor <span class="im">as</span> Actor,</span>
<span id="cb352-6"><a href="#cb352-6" aria-hidden="true" tabindex="-1"></a>    MyService,</span>
<span id="cb352-7"><a href="#cb352-7" aria-hidden="true" tabindex="-1"></a>    MrsDocumentNotFoundError,</span>
<span id="cb352-8"><a href="#cb352-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb352-9"><a href="#cb352-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-10"><a href="#cb352-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-11"><a href="#cb352-11" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> get_actor_document_by_id(service: MyService, doc_id: <span class="bu">int</span>) <span class="op">-&gt;</span> Actor:</span>
<span id="cb352-12"><a href="#cb352-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb352-13"><a href="#cb352-13" aria-hidden="true" tabindex="-1"></a>        actor: Actor <span class="op">=</span> <span class="cf">await</span> service.sakila.actor.find_first_or_throw(</span>
<span id="cb352-14"><a href="#cb352-14" aria-hidden="true" tabindex="-1"></a>                where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: doc_id}</span>
<span id="cb352-15"><a href="#cb352-15" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb352-16"><a href="#cb352-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> MrsDocumentNotFoundError:</span>
<span id="cb352-17"><a href="#cb352-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> MrsDocumentNotFoundError(msg<span class="op">=</span><span class="ss">f&quot;No actor document exists matching actor_id=</span><span class="sc">{</span>doc_id<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb352-18"><a href="#cb352-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> actor</span>
<span id="cb352-19"><a href="#cb352-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-20"><a href="#cb352-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-21"><a href="#cb352-21" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> main() <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb352-22"><a href="#cb352-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create service</span></span>
<span id="cb352-23"><a href="#cb352-23" aria-hidden="true" tabindex="-1"></a>    my_service <span class="op">=</span> MyService()</span>
<span id="cb352-24"><a href="#cb352-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-25"><a href="#cb352-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get a document</span></span>
<span id="cb352-26"><a href="#cb352-26" aria-hidden="true" tabindex="-1"></a>    doc_id <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb352-27"><a href="#cb352-27" aria-hidden="true" tabindex="-1"></a>    actor <span class="op">=</span> <span class="cf">await</span> get_actor_document_by_id(service<span class="op">=</span>my_service, doc_id<span class="op">=</span>doc_id)</span>
<span id="cb352-28"><a href="#cb352-28" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Before:&quot;</span>, actor)</span>
<span id="cb352-29"><a href="#cb352-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-30"><a href="#cb352-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Modify the data class instance representing a REST document</span></span>
<span id="cb352-31"><a href="#cb352-31" aria-hidden="true" tabindex="-1"></a>    actor.first_name <span class="op">=</span> <span class="st">&quot;DESIRE&quot;</span></span>
<span id="cb352-32"><a href="#cb352-32" aria-hidden="true" tabindex="-1"></a>    actor.last_name <span class="op">=</span> <span class="st">&quot;LEE&quot;</span></span>
<span id="cb352-33"><a href="#cb352-33" aria-hidden="true" tabindex="-1"></a>    actor.last_update <span class="op">=</span> <span class="bu">str</span>(datetime.now())</span>
<span id="cb352-34"><a href="#cb352-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-35"><a href="#cb352-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Commit an update</span></span>
<span id="cb352-36"><a href="#cb352-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> actor.update()</span>
<span id="cb352-37"><a href="#cb352-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-38"><a href="#cb352-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Peak the REST document to see if it was updated accordingly</span></span>
<span id="cb352-39"><a href="#cb352-39" aria-hidden="true" tabindex="-1"></a>    actor_after <span class="op">=</span> <span class="cf">await</span> get_actor_document_by_id(service<span class="op">=</span>my_service, doc_id<span class="op">=</span>doc_id)</span>
<span id="cb352-40"><a href="#cb352-40" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;After:&quot;</span>, actor_after)</span>
<span id="cb352-41"><a href="#cb352-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-42"><a href="#cb352-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Before: IMyServiceSakilaActor(last_name=&#39;CHASE&#39;, last_update=&#39;2023-04-13 15:11:22.000000&#39;, first_name=&#39;ED&#39;, actor_id=3)</span></span>
<span id="cb352-43"><a href="#cb352-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># After: IMyServiceSakilaActor(last_name=&#39;LEE&#39;, last_update=&#39;2025-01-09 13:07:50.000000&#39;, first_name=&#39;DESIRE&#39;, actor_id=3)</span></span>
<span id="cb352-44"><a href="#cb352-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-45"><a href="#cb352-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-46"><a href="#cb352-46" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb352-47"><a href="#cb352-47" aria-hidden="true" tabindex="-1"></a>    asyncio.run(main())</span></code></pre></div>
            <h3 data-number="30.5.2" id="document.delete-py"><span
            class="header-section-number">30.5.2</span> Document.delete
            (PY)</h3>
            <p><code>delete</code> deletes the resource represented by
            the data class instance.</p>
            <h4 data-number="30.5.2.1"
            id="options-delete---document"><span
            class="header-section-number">30.5.2.1</span> Options
            (delete - document)</h4>
            <p>No options are implemented because the data required to
            complete the operation is assumed to be already included in
            the data class instance itself.</p>
            <h4 data-number="30.5.2.2"
            id="return-type-delete---document"><span
            class="header-section-number">30.5.2.2</span> Return Type
            (delete - document)</h4>
            <p><code>True</code> if the document was deleted
            successfully or <code>False</code> otherwise.</p>
            <h4 data-number="30.5.2.3"
            id="example-delete---document"><span
            class="header-section-number">30.5.2.3</span> Example
            (delete - document)</h4>
            <div class="sourceCode" id="cb353"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb353-1"><a href="#cb353-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> asyncio</span>
<span id="cb353-2"><a href="#cb353-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Optional, cast</span>
<span id="cb353-3"><a href="#cb353-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> (</span>
<span id="cb353-4"><a href="#cb353-4" aria-hidden="true" tabindex="-1"></a>    IMyServiceSakilaActor <span class="im">as</span> Actor,</span>
<span id="cb353-5"><a href="#cb353-5" aria-hidden="true" tabindex="-1"></a>    MyService,</span>
<span id="cb353-6"><a href="#cb353-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb353-7"><a href="#cb353-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-8"><a href="#cb353-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-9"><a href="#cb353-9" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> main():</span>
<span id="cb353-10"><a href="#cb353-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create service</span></span>
<span id="cb353-11"><a href="#cb353-11" aria-hidden="true" tabindex="-1"></a>    my_service <span class="op">=</span> MyService()</span>
<span id="cb353-12"><a href="#cb353-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-13"><a href="#cb353-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a document</span></span>
<span id="cb353-14"><a href="#cb353-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#</span></span>
<span id="cb353-15"><a href="#cb353-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The `actor_id` and `last_update` columns from the `sakila`</span></span>
<span id="cb353-16"><a href="#cb353-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># table on the sample [sakila database](https://dev.mysql.com/doc/sakila/en/)</span></span>
<span id="cb353-17"><a href="#cb353-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># are automatically generated on each insert, which means they can be omitted.</span></span>
<span id="cb353-18"><a href="#cb353-18" aria-hidden="true" tabindex="-1"></a>    actor <span class="op">=</span> <span class="cf">await</span> my_service.sakila.actor.create(</span>
<span id="cb353-19"><a href="#cb353-19" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&quot;first_name&quot;</span>: <span class="st">&quot;GRACO&quot;</span>, <span class="st">&quot;last_name&quot;</span>: <span class="st">&quot;WALKER&quot;</span>}</span>
<span id="cb353-20"><a href="#cb353-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb353-21"><a href="#cb353-21" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(actor)</span>
<span id="cb353-22"><a href="#cb353-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-23"><a href="#cb353-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Commit a delete</span></span>
<span id="cb353-24"><a href="#cb353-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> actor.delete()</span>
<span id="cb353-25"><a href="#cb353-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-26"><a href="#cb353-26" aria-hidden="true" tabindex="-1"></a>    actor_after: Optional[Actor] <span class="op">=</span> <span class="cf">await</span> my_service.sakila.actor.find_first(</span>
<span id="cb353-27"><a href="#cb353-27" aria-hidden="true" tabindex="-1"></a>        where<span class="op">=</span>{<span class="st">&quot;actor_id&quot;</span>: cast(<span class="bu">int</span>, actor.actor_id)}</span>
<span id="cb353-28"><a href="#cb353-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb353-29"><a href="#cb353-29" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;deleted?&quot;</span>, actor_after <span class="kw">is</span> <span class="va">None</span>)</span>
<span id="cb353-30"><a href="#cb353-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-31"><a href="#cb353-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># IMyServiceSakilaActor(last_name=&#39;WALKER&#39;, last_update=&#39;2025-01-09 13:31:16.000000&#39;, first_name=&#39;GRACO&#39;, actor_id=37171)</span></span>
<span id="cb353-32"><a href="#cb353-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># deleted? True</span></span>
<span id="cb353-33"><a href="#cb353-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-34"><a href="#cb353-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-35"><a href="#cb353-35" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb353-36"><a href="#cb353-36" aria-hidden="true" tabindex="-1"></a>    asyncio.run(main())</span></code></pre></div>
            <h2 data-number="30.6" id="rest-routines"><span
            class="header-section-number">30.6</span> REST Routines</h2>
            <h3 data-number="30.6.1" id="function.call-py"><span
            class="header-section-number">30.6.1</span> Function.call
            (PY)</h3>
            <p><code>call</code> is used to execute a REST routine
            (<code>FUNCTION</code> or <code>PROCEDURE</code>). In the
            case of a <code>FUNCTION</code>, the set of parameters (and
            corresponding values) as specified by the database routine
            are provided as corresponding keyword arguments. If the REST
            routine has an associated Async Task, the first parameter
            is, instead, a positional argument that uses a Python
            <code>dict</code> to specify additional task-specific
            execution options.</p>
            <blockquote>
            <p>For the sake of avoiding conflict with keyword argument
            names, an arbitrary number of positional arguments are
            enabled. The recommended treat is to pass only one options
            dictionary, as the first positional argument. If you,
            intentionally or not, pass more than one positional
            argument, the option value from the later dictionary in the
            sequence takes precedence.</p>
            </blockquote>
            <h4 data-number="30.6.1.1" id="options-call"><span
            class="header-section-number">30.6.1.1</span> Options
            (call)</h4>
            <table>
            <caption>REST Function/Procedure Options (call)</caption>
            <colgroup>
            <col style="width: 9%" />
            <col style="width: 9%" />
            <col style="width: 9%" />
            <col style="width: 9%" />
            <col style="width: 63%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Option Name</th>
            <th>Data Type</th>
            <th>Required</th>
            <th>Default</th>
            <th>Notes</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td>refresh_rate</td>
            <td><code>float</code></td>
            <td>No</td>
            <td><code>2.0</code></td>
            <td>Rate at which the underlying implementation checks for
            status updates of the execution. Value in
            <strong>seconds</strong>. An exception is raised if
            <code>refresh_rate</code> is lower than 0.5 seconds.
            (available only if the routine has an associated Async
            Task)</td>
            </tr>
            <tr class="even">
            <td>progress</td>
            <td><code>Callable[[IMrsRunningTaskReport], Awaitable[None]]</code></td>
            <td>No</td>
            <td><code>None</code></td>
            <td>Callback function that gets executed (with the details
            provided by the status update) while the status of the
            execution remains in <code>RUNNING</code> state. By default,
            no progress is carried on.</td>
            </tr>
            <tr class="odd">
            <td>timeout</td>
            <td><code>float</code></td>
            <td>No</td>
            <td><code>None</code></td>
            <td>Maximum time to wait for the execution to complete. If
            this threshold is reached, the ongoing task is killed and
            <code>MrsTaskTimeOutError</code> exception is raised. By
            default, no timeout is enforced. (available only if the
            routine has an associated Async Task)</td>
            </tr>
            </tbody>
            </table>
            <h4 data-number="30.6.1.2" id="return-type-call"><span
            class="header-section-number">30.6.1.2</span> Return Type
            (call)</h4>
            <p>The Python data type returned by
            <code>&lt;func_name&gt;(...)</code> depends on the data type
            returned by the MySQL function.</p>
            <blockquote>
            <p>For instance, the Python data type <code>int</code> must
            be expected for MySQL functions declared to return
            <code>TINYINT</code>, <code>SMALLINT</code>,
            <code>MEDIUMINT</code>, <code>INT</code> and
            <code>BIGINT</code>.</p>
            </blockquote>
            <h4 data-number="30.6.1.3" id="exceptions-call"><span
            class="header-section-number">30.6.1.3</span> Exceptions
            (call)</h4>
            <p>For REST routines with an associated asynchronous task,
            <code>call</code> can raise exceptions as follows:</p>
            <table>
            <colgroup>
            <col style="width: 12%" />
            <col style="width: 87%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th>Exception</th>
            <th>Notes</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td><code>MrsTaskExecutionError</code></td>
            <td>When the status update reports back an
            <code>ERROR</code> event.</td>
            </tr>
            <tr class="even">
            <td><code>MrsTaskExecutionCancelledError</code></td>
            <td>When the status update reports back a
            <code>CANCELLED</code> event.</td>
            </tr>
            <tr class="odd">
            <td><code>MrsTaskTimeOutError</code></td>
            <td>When the specified <code>timeout</code> threshold is
            reached.</td>
            </tr>
            </tbody>
            </table>
            <h4 data-number="30.6.1.4" id="example-call"><span
            class="header-section-number">30.6.1.4</span> Example
            (call)</h4>
            <div class="sourceCode" id="cb354"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb354-1"><a href="#cb354-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb354-2"><a href="#cb354-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-3"><a href="#cb354-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb354-4"><a href="#cb354-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-5"><a href="#cb354-5" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> <span class="cf">await</span> my_service.sakila.hello_func.call(name<span class="op">=</span><span class="st">&quot;Rui&quot;</span>)</span>
<span id="cb354-6"><a href="#cb354-6" aria-hidden="true" tabindex="-1"></a><span class="co"># print(res) -&gt; Hello, Rui!</span></span>
<span id="cb354-7"><a href="#cb354-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-8"><a href="#cb354-8" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> <span class="cf">await</span> my_service.sakila.sum_func.call(a<span class="op">=</span><span class="dv">3</span>, b<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb354-9"><a href="#cb354-9" aria-hidden="true" tabindex="-1"></a><span class="co"># print(res) -&gt; 5</span></span>
<span id="cb354-10"><a href="#cb354-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-11"><a href="#cb354-11" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> <span class="cf">await</span> my_service.sakila.my_birthday_func.call()</span>
<span id="cb354-12"><a href="#cb354-12" aria-hidden="true" tabindex="-1"></a><span class="co"># print(res) -&gt; 2024-07-18 00:00:00</span></span></code></pre></div>
            <p>where <code>hello_func</code>, <code>sum_func</code> and
            <code>my_birthday_func</code> are:</p>
            <div class="sourceCode" id="cb355"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb355-1"><a href="#cb355-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- one input</span></span>
<span id="cb355-2"><a href="#cb355-2" aria-hidden="true" tabindex="-1"></a>mysql<span class="op">&gt;</span> <span class="kw">CREATE</span> <span class="kw">FUNCTION</span> hello_func (name <span class="dt">CHAR</span>(<span class="dv">20</span>))</span>
<span id="cb355-3"><a href="#cb355-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> RETURNS <span class="dt">CHAR</span>(<span class="dv">50</span>) DETERMINISTIC</span>
<span id="cb355-4"><a href="#cb355-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="kw">RETURN</span> <span class="fu">CONCAT</span>(<span class="st">&#39;Hello, &#39;</span>, name, <span class="st">&#39;!&#39;</span>);</span>
<span id="cb355-5"><a href="#cb355-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-6"><a href="#cb355-6" aria-hidden="true" tabindex="-1"></a><span class="co">-- many input</span></span>
<span id="cb355-7"><a href="#cb355-7" aria-hidden="true" tabindex="-1"></a>mysql<span class="op">&gt;</span> <span class="kw">CREATE</span> <span class="kw">FUNCTION</span> sum_func (a <span class="dt">INT</span>, b <span class="dt">INT</span>)</span>
<span id="cb355-8"><a href="#cb355-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> RETURNS <span class="dt">INT</span> DETERMINISTIC</span>
<span id="cb355-9"><a href="#cb355-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="kw">RETURN</span> a <span class="op">+</span> b;</span>
<span id="cb355-10"><a href="#cb355-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-11"><a href="#cb355-11" aria-hidden="true" tabindex="-1"></a><span class="co">-- no input</span></span>
<span id="cb355-12"><a href="#cb355-12" aria-hidden="true" tabindex="-1"></a>mysql<span class="op">&gt;</span> <span class="kw">CREATE</span> <span class="kw">FUNCTION</span> my_birthday_func ()</span>
<span id="cb355-13"><a href="#cb355-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> RETURNS DATETIME DETERMINISTIC</span>
<span id="cb355-14"><a href="#cb355-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="kw">RETURN</span> CURDATE();</span></code></pre></div>
            <h3 data-number="30.6.2" id="function.start-py"><span
            class="header-section-number">30.6.2</span> Function.start
            (PY)</h3>
            <p><code>start()</code> is used to start a REST routine
            (<code>FUNCTION</code> or <code>PROCEDURE</code>), with an
            associated Async Task, without waiting for it to finish.</p>
            <h4 data-number="30.6.2.1" id="options-start"><span
            class="header-section-number">30.6.2.1</span> Options
            (start)</h4>
            <p><code>start()</code> accepts the same set of options as
            <code>call()</code>, see <a
            href="#functioncall-py">Function.call</a> for more
            details.</p>
            <h4 data-number="30.6.2.2" id="return-type-start"><span
            class="header-section-number">30.6.2.2</span> Return Type
            (start)</h4>
            <p>A <a href="#async-tasks">Task</a> instance.</p>
            <h4 data-number="30.6.2.3" id="example-start"><span
            class="header-section-number">30.6.2.3</span> Example
            (start)</h4>
            <div class="sourceCode" id="cb356"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb356-1"><a href="#cb356-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb356-2"><a href="#cb356-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-3"><a href="#cb356-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb356-4"><a href="#cb356-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-5"><a href="#cb356-5" aria-hidden="true" tabindex="-1"></a>task <span class="op">=</span> <span class="cf">await</span> my_service.sakila.delayed_hello_func.start({<span class="st">&quot;refresh_rate&quot;</span>: <span class="fl">5.0</span>}, name<span class="op">=</span><span class="st">&quot;Rui&quot;</span>)</span></code></pre></div>
            <p>where <code>delayed_hello_func</code> is:</p>
            <div class="sourceCode" id="cb357"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb357-1"><a href="#cb357-1" aria-hidden="true" tabindex="-1"></a>mysql<span class="op">&gt;</span> DELIMITER $$</span>
<span id="cb357-2"><a href="#cb357-2" aria-hidden="true" tabindex="-1"></a>mysql<span class="op">&gt;</span> <span class="kw">CREATE</span> <span class="kw">FUNCTION</span> delayed_hello_func (name <span class="dt">CHAR</span>(<span class="dv">20</span>))</span>
<span id="cb357-3"><a href="#cb357-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> RETURNS <span class="dt">CHAR</span>(<span class="dv">50</span>) DETERMINISTIC</span>
<span id="cb357-4"><a href="#cb357-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> SQL SECURITY INVOKER</span>
<span id="cb357-5"><a href="#cb357-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cf">BEGIN</span></span>
<span id="cb357-6"><a href="#cb357-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span>   DO SLEEP(<span class="dv">5</span>);</span>
<span id="cb357-7"><a href="#cb357-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span>   <span class="kw">RETURN</span> <span class="fu">CONCAT</span>(<span class="st">&#39;Hello, &#39;</span>, name, <span class="st">&#39;!&#39;</span>);</span>
<span id="cb357-8"><a href="#cb357-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cf">END</span> $$</span></code></pre></div>
            <h3 data-number="30.6.3" id="procedure.call-py"><span
            class="header-section-number">30.6.3</span> Procedure.call
            (PY)</h3>
            <p><code>call</code> is used to execute a REST routine
            (<code>FUNCTION</code> or <code>PROCEDURE</code>). In the
            case of a <code>PROCEDURE</code>, the set of
            <code>IN</code>/<code>INOUT</code> parameters (and
            corresponding values) as specified by the database routine
            are provided as corresponding keyword arguments. If the REST
            routine has an associated Async Task, the first parameter
            is, instead, a positional argument that uses a Python
            <code>dict</code> to specify additional task-specific
            execution options.</p>
            <blockquote>
            <p>For the sake of avoiding conflict with keyword argument
            names, an arbitrary number of positional arguments are
            enabled. The recommended treat is to pass only one options
            dictionary, as the first positional argument. If you,
            intentionally or not, pass more than one positional
            argument, the option value from the later dictionary in the
            sequence takes precedence</p>
            </blockquote>
            <h4 data-number="30.6.3.1" id="options-call-1"><span
            class="header-section-number">30.6.3.1</span> Options
            (call)</h4>
            <p>Input parameters aren’t mandatory, meaning you are free
            to not provide them.</p>
            <p>In case of being provided, input parameters can also be
            assigned a null value when calling the procedure, in other
            words, you can set any parameters to <code>None</code>.</p>
            <p>As for additional options, see <a
            href="#functioncall-py">Function.call</a> for more
            details.</p>
            <h4 data-number="30.6.3.2" id="return-type-call-1"><span
            class="header-section-number">30.6.3.2</span> Return Type
            (call)</h4>
            <p>A data class object representing a REST result set. This
            object includes the following attributes:</p>
            <ul>
            <li><p><code>out_parameters</code>: Dictionary with fields
            for each <code>OUT</code>/<code>INOUT</code> parameter
            declared as part of the MySQL procedure that produces an
            actual value. If a parameter is not used to return a value,
            the field will not be present in the dictionary.</p></li>
            <li><p><code>result_sets</code>: List of result set types
            generated when executing one or more SELECT statements as
            part of the procedure body. Each result set type can include
            one or more items.</p></li>
            </ul>
            <h4 data-number="30.6.3.3" id="example-call-1"><span
            class="header-section-number">30.6.3.3</span> Example
            (call)</h4>
            <p>Consider the following dummy procedures:</p>
            <div class="sourceCode" id="cb358"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb358-1"><a href="#cb358-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Assuming the database `mrs_tests` exists</span></span>
<span id="cb358-2"><a href="#cb358-2" aria-hidden="true" tabindex="-1"></a><span class="co">-- You can use the MySQL Client console to run this script</span></span>
<span id="cb358-3"><a href="#cb358-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-4"><a href="#cb358-4" aria-hidden="true" tabindex="-1"></a>DELIMITER <span class="op">//</span></span>
<span id="cb358-5"><a href="#cb358-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-6"><a href="#cb358-6" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PROCEDURE</span> mrs_tests.mirror_proc (INOUT channel <span class="dt">CHAR</span>(<span class="dv">4</span>))</span>
<span id="cb358-7"><a href="#cb358-7" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span></span>
<span id="cb358-8"><a href="#cb358-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> <span class="kw">REVERSE</span>(channel) <span class="kw">INTO</span> channel;</span>
<span id="cb358-9"><a href="#cb358-9" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span><span class="op">//</span></span>
<span id="cb358-10"><a href="#cb358-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-11"><a href="#cb358-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-12"><a href="#cb358-12" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PROCEDURE</span> mrs_tests.twice_proc (<span class="kw">IN</span> <span class="dt">number</span> <span class="dt">INT</span>, <span class="kw">OUT</span> number_twice <span class="dt">INT</span>)</span>
<span id="cb358-13"><a href="#cb358-13" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span></span>
<span id="cb358-14"><a href="#cb358-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> <span class="dt">number</span><span class="op">*</span><span class="dv">2</span> <span class="kw">INTO</span> number_twice;</span>
<span id="cb358-15"><a href="#cb358-15" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span><span class="op">//</span></span>
<span id="cb358-16"><a href="#cb358-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-17"><a href="#cb358-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-18"><a href="#cb358-18" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">PROCEDURE</span> mrs_tests.sample_proc(</span>
<span id="cb358-19"><a href="#cb358-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">IN</span> arg1 <span class="dt">CHAR</span>(<span class="dv">5</span>), INOUT arg2 <span class="dt">CHAR</span>(<span class="dv">5</span>), <span class="kw">OUT</span> arg3 <span class="dt">FLOAT</span></span>
<span id="cb358-20"><a href="#cb358-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb358-21"><a href="#cb358-21" aria-hidden="true" tabindex="-1"></a><span class="cf">BEGIN</span></span>
<span id="cb358-22"><a href="#cb358-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> <span class="ot">&quot;foo&quot;</span> <span class="kw">as</span> name, <span class="dv">42</span> <span class="kw">as</span> age;</span>
<span id="cb358-23"><a href="#cb358-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> <span class="ot">&quot;bar&quot;</span> <span class="kw">as</span> something;</span>
<span id="cb358-24"><a href="#cb358-24" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span><span class="op">//</span></span>
<span id="cb358-25"><a href="#cb358-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-26"><a href="#cb358-26" aria-hidden="true" tabindex="-1"></a>DELIMITER ;</span></code></pre></div>
            <p>Use command <code>call()</code> to call a REST procedure
            in the Python SDK.</p>
            <div class="sourceCode" id="cb359"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb359-1"><a href="#cb359-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb359-2"><a href="#cb359-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb359-3"><a href="#cb359-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb359-4"><a href="#cb359-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb359-5"><a href="#cb359-5" aria-hidden="true" tabindex="-1"></a>procedure_result <span class="op">=</span> <span class="cf">await</span> my_service.mrs_tests.mirror_proc.call(channel<span class="op">=</span><span class="st">&quot;roma&quot;</span>)</span>
<span id="cb359-6"><a href="#cb359-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(procedure_result)</span>
<span id="cb359-7"><a href="#cb359-7" aria-hidden="true" tabindex="-1"></a><span class="co"># IMrsProcedureResponse(</span></span>
<span id="cb359-8"><a href="#cb359-8" aria-hidden="true" tabindex="-1"></a><span class="co">#     result_sets=[],</span></span>
<span id="cb359-9"><a href="#cb359-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     out_parameters={&quot;channel&quot;: &quot;amor&quot;}</span></span>
<span id="cb359-10"><a href="#cb359-10" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb359-11"><a href="#cb359-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb359-12"><a href="#cb359-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb359-13"><a href="#cb359-13" aria-hidden="true" tabindex="-1"></a>procedure_result <span class="op">=</span> <span class="cf">await</span> my_service.mrs_tests.twice_proc.call(number<span class="op">=</span><span class="dv">13</span>)</span>
<span id="cb359-14"><a href="#cb359-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(procedure_result)</span>
<span id="cb359-15"><a href="#cb359-15" aria-hidden="true" tabindex="-1"></a><span class="co"># IMrsProcedureResponse(</span></span>
<span id="cb359-16"><a href="#cb359-16" aria-hidden="true" tabindex="-1"></a><span class="co">#     result_sets=[],</span></span>
<span id="cb359-17"><a href="#cb359-17" aria-hidden="true" tabindex="-1"></a><span class="co">#     out_parameters={&quot;number_twice&quot;: 26}</span></span>
<span id="cb359-18"><a href="#cb359-18" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb359-19"><a href="#cb359-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb359-20"><a href="#cb359-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb359-21"><a href="#cb359-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Note how `arg1` is not provided, and `arg2` is set to null.</span></span>
<span id="cb359-22"><a href="#cb359-22" aria-hidden="true" tabindex="-1"></a>procedure_result <span class="op">=</span> <span class="cf">await</span> my_service.mrs_tests.sample_proc.call(arg2<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb359-23"><a href="#cb359-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(procedure_result)</span>
<span id="cb359-24"><a href="#cb359-24" aria-hidden="true" tabindex="-1"></a><span class="co"># IMrsProcedureResponse(</span></span>
<span id="cb359-25"><a href="#cb359-25" aria-hidden="true" tabindex="-1"></a><span class="co">#     result_sets=[</span></span>
<span id="cb359-26"><a href="#cb359-26" aria-hidden="true" tabindex="-1"></a><span class="co">#         MrsProcedureResultSet(</span></span>
<span id="cb359-27"><a href="#cb359-27" aria-hidden="true" tabindex="-1"></a><span class="co">#             type=&quot;items0&quot;,</span></span>
<span id="cb359-28"><a href="#cb359-28" aria-hidden="true" tabindex="-1"></a><span class="co">#             items=[{&quot;name&quot;: &quot;foo&quot;, &quot;age&quot;: 42}],</span></span>
<span id="cb359-29"><a href="#cb359-29" aria-hidden="true" tabindex="-1"></a><span class="co">#         ),</span></span>
<span id="cb359-30"><a href="#cb359-30" aria-hidden="true" tabindex="-1"></a><span class="co">#         MrsProcedureResultSet(</span></span>
<span id="cb359-31"><a href="#cb359-31" aria-hidden="true" tabindex="-1"></a><span class="co">#             type=&quot;items1&quot;,</span></span>
<span id="cb359-32"><a href="#cb359-32" aria-hidden="true" tabindex="-1"></a><span class="co">#             items=[{&quot;something&quot;: &quot;bar&quot;}],</span></span>
<span id="cb359-33"><a href="#cb359-33" aria-hidden="true" tabindex="-1"></a><span class="co">#         ),</span></span>
<span id="cb359-34"><a href="#cb359-34" aria-hidden="true" tabindex="-1"></a><span class="co">#     ],</span></span>
<span id="cb359-35"><a href="#cb359-35" aria-hidden="true" tabindex="-1"></a><span class="co">#     out_parameters={&#39;arg2&#39;: None, &#39;arg3&#39;: None}</span></span>
<span id="cb359-36"><a href="#cb359-36" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span></code></pre></div>
            <p>The first two procedures do not generate result sets,
            however the third one does. By omission, result sets are
            untyped meaning generic type names are used for the result
            sets.</p>
            <p>If you want a typed result set, meaning you wish to
            specify a type, you can do so at the MRS procedure level via
            the MySQL Shell:</p>
            <div class="sourceCode" id="cb360"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb360-1"><a href="#cb360-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">PROCEDURE</span> <span class="op">/</span>sampleProc</span>
<span id="cb360-2"><a href="#cb360-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>mrsTests</span>
<span id="cb360-3"><a href="#cb360-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">AS</span> mrs_tests.sample_proc</span>
<span id="cb360-4"><a href="#cb360-4" aria-hidden="true" tabindex="-1"></a>    RESULT IMyServiceMrsTestsSampleProcResultSet1 {</span>
<span id="cb360-5"><a href="#cb360-5" aria-hidden="true" tabindex="-1"></a>        name: name @DATATYPE(<span class="ot">&quot;CHAR(3)&quot;</span>),</span>
<span id="cb360-6"><a href="#cb360-6" aria-hidden="true" tabindex="-1"></a>        age: age @DATATYPE(<span class="ot">&quot;TINYINT&quot;</span>)</span>
<span id="cb360-7"><a href="#cb360-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb360-8"><a href="#cb360-8" aria-hidden="true" tabindex="-1"></a>    RESULT IMyServiceMrsTestsSampleProcResultSet2 {</span>
<span id="cb360-9"><a href="#cb360-9" aria-hidden="true" tabindex="-1"></a>        something: something @DATATYPE(<span class="ot">&quot;CHAR(3)&quot;</span>)</span>
<span id="cb360-10"><a href="#cb360-10" aria-hidden="true" tabindex="-1"></a>    };</span></code></pre></div>
            <p>Calling the REST procedure again from the Python SDK
            leads to:</p>
            <div class="sourceCode" id="cb361"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb361-1"><a href="#cb361-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb361-2"><a href="#cb361-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb361-3"><a href="#cb361-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb361-4"><a href="#cb361-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb361-5"><a href="#cb361-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb361-6"><a href="#cb361-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Note how `arg1` is not provided, and `arg2` is set to null.</span></span>
<span id="cb361-7"><a href="#cb361-7" aria-hidden="true" tabindex="-1"></a>procedure_result <span class="op">=</span> <span class="cf">await</span> my_service.mrs_tests.sample_proc.call(arg2<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb361-8"><a href="#cb361-8" aria-hidden="true" tabindex="-1"></a><span class="co"># print(procedure_result.result_sets)</span></span>
<span id="cb361-9"><a href="#cb361-9" aria-hidden="true" tabindex="-1"></a><span class="co"># [</span></span>
<span id="cb361-10"><a href="#cb361-10" aria-hidden="true" tabindex="-1"></a><span class="co">#     MrsProcedureResultSet(</span></span>
<span id="cb361-11"><a href="#cb361-11" aria-hidden="true" tabindex="-1"></a><span class="co">#         type=&quot;IMyServiceMrsTestsSampleProcResultSet1&quot;,</span></span>
<span id="cb361-12"><a href="#cb361-12" aria-hidden="true" tabindex="-1"></a><span class="co">#         items=[{&quot;name&quot;: &quot;foo&quot;, &quot;age&quot;: 42}],</span></span>
<span id="cb361-13"><a href="#cb361-13" aria-hidden="true" tabindex="-1"></a><span class="co">#     ),</span></span>
<span id="cb361-14"><a href="#cb361-14" aria-hidden="true" tabindex="-1"></a><span class="co">#     MrsProcedureResultSet(</span></span>
<span id="cb361-15"><a href="#cb361-15" aria-hidden="true" tabindex="-1"></a><span class="co">#         type=&quot;IMyServiceMrsTestsSampleProcResultSet2&quot;,</span></span>
<span id="cb361-16"><a href="#cb361-16" aria-hidden="true" tabindex="-1"></a><span class="co">#         items=[{&quot;something&quot;: &quot;bar&quot;}],</span></span>
<span id="cb361-17"><a href="#cb361-17" aria-hidden="true" tabindex="-1"></a><span class="co">#     ),</span></span>
<span id="cb361-18"><a href="#cb361-18" aria-hidden="true" tabindex="-1"></a><span class="co"># ],</span></span></code></pre></div>
            <h3 data-number="30.6.4" id="procedure.start-py"><span
            class="header-section-number">30.6.4</span> Procedure.start
            (PY)</h3>
            <p>See <a href="#functionstart-py">Function.start</a> for
            more details.</p>
            <h4 data-number="30.6.4.1" id="options-start-1"><span
            class="header-section-number">30.6.4.1</span> Options
            (start)</h4>
            <p><code>start()</code> accepts the same set of options as
            <code>call()</code>, see <a
            href="#procedurecall-py">Procedure.call</a> for more
            details.</p>
            <h4 data-number="30.6.4.2" id="return-type-start-1"><span
            class="header-section-number">30.6.4.2</span> Return Type
            (start)</h4>
            <p>A <a href="#async-tasks">Task</a> instance.</p>
            <h4 data-number="30.6.4.3" id="example-start-1"><span
            class="header-section-number">30.6.4.3</span> Example
            (start)</h4>
            <div class="sourceCode" id="cb362"><pre
            class="sourceCode python"><code class="sourceCode python"><span id="cb362-1"><a href="#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb362-2"><a href="#cb362-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-3"><a href="#cb362-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb362-4"><a href="#cb362-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-5"><a href="#cb362-5" aria-hidden="true" tabindex="-1"></a>task <span class="op">=</span> <span class="cf">await</span> my_service.sakila.delayed_hello_proc.start({<span class="st">&quot;refresh_rate&quot;</span>: <span class="fl">5.0</span>}, name<span class="op">=</span><span class="st">&quot;Rui&quot;</span>)</span></code></pre></div>
            <p>where <code>delayed_hello_proc</code> is:</p>
            <div class="sourceCode" id="cb363"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb363-1"><a href="#cb363-1" aria-hidden="true" tabindex="-1"></a>mysql<span class="op">&gt;</span> DELIMITER $$</span>
<span id="cb363-2"><a href="#cb363-2" aria-hidden="true" tabindex="-1"></a>mysql<span class="op">&gt;</span> <span class="kw">CREATE</span> <span class="kw">FUNCTION</span> delayed_hello_proc (name <span class="dt">CHAR</span>(<span class="dv">20</span>), <span class="kw">out</span> salute <span class="dt">CHAR</span>(<span class="dv">40</span>))</span>
<span id="cb363-3"><a href="#cb363-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> RETURNS <span class="dt">CHAR</span>(<span class="dv">50</span>) DETERMINISTIC</span>
<span id="cb363-4"><a href="#cb363-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> SQL SECURITY INVOKER</span>
<span id="cb363-5"><a href="#cb363-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cf">BEGIN</span></span>
<span id="cb363-6"><a href="#cb363-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span>   DO SLEEP(<span class="dv">5</span>);</span>
<span id="cb363-7"><a href="#cb363-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span>   <span class="kw">SELECT</span> <span class="fu">CONCAT</span>(<span class="st">&#39;Hello, &#39;</span>, name, <span class="st">&#39;!&#39;</span>) <span class="kw">INTO</span> salute;</span>
<span id="cb363-8"><a href="#cb363-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cf">END</span> $$</span></code></pre></div>
            <h2 data-number="30.7" id="async-tasks"><span
            class="header-section-number">30.7</span> Async Tasks</h2>
            <p>Asynchronous Tasks are an MRS construct used to manage
            the life-cycle of a long-running procedure which clients can
            poll to monitor for status updates. From the
            client-standpoint, a Task can produce the following type of
            events (status updates):</p>
            <ul>
            <li><code>SCHEDULED</code> starting the routine schedules a
            new task</li>
            <li><code>RUNNING</code> progress status updates whilst the
            procedure is running</li>
            <li><code>COMPLETE</code> result produced by the routine
            after it finishes</li>
            <li><code>TIMEOUT</code> if the routine does not produce a
            result before a given timeout</li>
            <li><code>ERROR</code> runtime error whilst executing the
            routine</li>
            <li><code>CANCELLED</code> when the associated asynchronous
            task is killed before the routine finishes</li>
            </ul>
            <h3 data-number="30.7.1" id="task.watch-py"><span
            class="header-section-number">30.7.1</span> Task.watch
            (PY)</h3>
            <p><code>watch</code> is used to monitor the status of a
            REST routine (<code>FUNCTION</code> or
            <code>PROCEDURE</code>) with an associated Async Task.</p>
            <h4 data-number="30.7.1.1" id="return-type-watch"><span
            class="header-section-number">30.7.1.1</span> Return Type
            (watch)</h4>
            <p>An <a
            href="https://peps.python.org/pep-0525/">Asynchronous
            Generator</a> instance which produces status update reports
            with details about the execution context of the REST
            routine.</p>
            <h4 data-number="30.7.1.2" id="example-watch"><span
            class="header-section-number">30.7.1.2</span> Example
            (watch)</h4>
            <div class="sourceCode" id="cb364"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb364-1"><a href="#cb364-1" aria-hidden="true" tabindex="-1"></a>task <span class="op">=</span> <span class="cf">await</span> my_service.my_db.delayed_hello_func.start({<span class="st">&quot;refresh_rate&quot;</span>: <span class="fl">3.0</span>}, name<span class="op">=</span><span class="st">&quot;Rui&quot;</span>)</span>
<span id="cb364-2"><a href="#cb364-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-3"><a href="#cb364-3" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="cf">for</span> report <span class="kw">in</span> task.watch():</span>
<span id="cb364-4"><a href="#cb364-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> report.status <span class="op">==</span> <span class="st">&quot;RUNNING&quot;</span>:</span>
<span id="cb364-5"><a href="#cb364-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(report.progress)</span>
<span id="cb364-6"><a href="#cb364-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> report.status <span class="op">===</span> <span class="st">&quot;ERROR&quot;</span>:</span>
<span id="cb364-7"><a href="#cb364-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(report.message)</span></code></pre></div>
            <h3 data-number="30.7.2" id="task.kill-py"><span
            class="header-section-number">30.7.2</span> Task.kill
            (PY)</h3>
            <p><code>kill</code> is used to kill the underlying Async
            Task of a REST routine (<code>FUNCTION</code> or
            <code>PROCEDURE</code>) and cancel its execution.</p>
            <h4 data-number="30.7.2.1" id="example-kill"><span
            class="header-section-number">30.7.2.1</span> Example
            (kill)</h4>
            <div class="sourceCode" id="cb365"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb365-1"><a href="#cb365-1" aria-hidden="true" tabindex="-1"></a>task <span class="op">=</span> <span class="cf">await</span> my_service.my_db.delayed_hello_func.start({ <span class="st">&quot;timeout&quot;</span>: <span class="dv">4</span> }, name<span class="op">=</span><span class="st">&quot;Rui&quot;</span>)</span>
<span id="cb365-2"><a href="#cb365-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb365-3"><a href="#cb365-3" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="cf">for</span> report <span class="kw">in</span> task.watch():</span>
<span id="cb365-4"><a href="#cb365-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> report.status <span class="op">==</span> <span class="st">&quot;TIMEOUT&quot;</span>:</span>
<span id="cb365-5"><a href="#cb365-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> task.kill()</span>
<span id="cb365-6"><a href="#cb365-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> report.status <span class="op">===</span> <span class="st">&quot;CANCELLED&quot;</span>:</span>
<span id="cb365-7"><a href="#cb365-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(report.message)</span></code></pre></div>
            <!-- Copyright (c) 2023, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="31"
            id="checking-for-null-column-values"><span
            class="header-section-number">31</span> Checking for NULL
            Column Values</h1>
            <p>MySQL supports <code>NOT NULL</code> constraints which
            ensure that the value in a given column cannot be NULL. By
            omission though, a column can hold <code>NULL</code> values.
            With the MySQL REST Service, records containing columns with
            NULL values can be included in or excluded from the result
            set using the <code>$null</code> or <code>$notnull</code>
            operators.</p>
            <p>The TypeScript MRS SDK provides a special syntax for
            filtering records in a result set by a given field when it
            contains (or not) a <code>NULL</code> value. With a setup
            using the <a
            href="https://dev.mysql.com/doc/sakila/en/">Sakila Sample
            Database</a> where the schema is available under a REST
            service called <code>myService</code>, filtering records by
            <code>NULL</code> column values can be done as follows:</p>
            <div class="sourceCode" id="cb366"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb366-1"><a href="#cb366-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">address</span><span class="op">.</span><span class="fu">find</span>({ select<span class="op">:</span> [<span class="st">&quot;address&quot;</span><span class="op">,</span> <span class="st">&quot;address2&quot;</span>]<span class="op">,</span> where<span class="op">:</span> { address2<span class="op">:</span> <span class="dt">null</span> } })</span>
<span id="cb366-2"><a href="#cb366-2" aria-hidden="true" tabindex="-1"></a>[</span>
<span id="cb366-3"><a href="#cb366-3" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb366-4"><a href="#cb366-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;address&quot;</span><span class="op">:</span> <span class="st">&quot;47 MySakila Drive&quot;</span><span class="op">,</span></span>
<span id="cb366-5"><a href="#cb366-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;address2&quot;</span><span class="op">:</span> null<span class="op">,</span></span>
<span id="cb366-6"><a href="#cb366-6" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb366-7"><a href="#cb366-7" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb366-8"><a href="#cb366-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;address&quot;</span><span class="op">:</span> <span class="st">&quot;28 MySQL Boulevard&quot;</span><span class="op">,</span></span>
<span id="cb366-9"><a href="#cb366-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;address2&quot;</span><span class="op">:</span> null<span class="op">,</span></span>
<span id="cb366-10"><a href="#cb366-10" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb366-11"><a href="#cb366-11" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb366-12"><a href="#cb366-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;address&quot;</span><span class="op">:</span> <span class="st">&quot;23 Workhaven Lane&quot;</span><span class="op">,</span></span>
<span id="cb366-13"><a href="#cb366-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;address2&quot;</span><span class="op">:</span> null<span class="op">,</span></span>
<span id="cb366-14"><a href="#cb366-14" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb366-15"><a href="#cb366-15" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb366-16"><a href="#cb366-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;address&quot;</span><span class="op">:</span> <span class="st">&quot;1411 Lillydale Drive&quot;</span><span class="op">,</span></span>
<span id="cb366-17"><a href="#cb366-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;address2&quot;</span><span class="op">:</span> null<span class="op">,</span></span>
<span id="cb366-18"><a href="#cb366-18" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb366-19"><a href="#cb366-19" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
            <p>In the same way, filtering records where a given column
            does not contain <code>NULL</code> can be done as
            follows:</p>
            <div class="sourceCode" id="cb367"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb367-1"><a href="#cb367-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">findFirst</span>({ select<span class="op">:</span> [<span class="st">&quot;address&quot;</span><span class="op">,</span> <span class="st">&quot;address2&quot;</span>]<span class="op">,</span> where<span class="op">:</span> { address2<span class="op">:</span> { not<span class="op">:</span> <span class="dt">null</span> } } })</span>
<span id="cb367-2"><a href="#cb367-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb367-3"><a href="#cb367-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;address&quot;</span><span class="op">:</span> <span class="st">&quot;1913 Hanoi Way&quot;</span><span class="op">,</span></span>
<span id="cb367-4"><a href="#cb367-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;address2&quot;</span><span class="op">:</span> <span class="st">&quot;&quot;</span><span class="op">,</span></span>
<span id="cb367-5"><a href="#cb367-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
            <p>Attempting to apply such a filter to a field that maps to
            a column with a <code>NOT NULL</code> constraint should
            yield a TypeScript compilation error:</p>
            <div class="sourceCode" id="cb368"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb368-1"><a href="#cb368-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">actor</span><span class="op">.</span><span class="fu">findFirst</span>({ where<span class="op">:</span> { address<span class="op">:</span> <span class="dt">null</span> } })</span></code></pre></div>
            <pre><code>Type &#39;null&#39; is not assignable to type &#39;string | DataFilterField&lt;IMyServiceSakilaAddressParams, string | undefined&gt; | ComparisonOpExpr&lt;string | undefined&gt;[] | undefined&#39;.</code></pre>
            <!-- Copyright (c) 2023, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="32" id="working-with-data-types"><span
            class="header-section-number">32</span> Working with Data
            Types</h1>
            <p>MySQL supports and extensive list of data types that
            cannot be directly mapped development language native
            datatypes in many cases. This section discusses how to
            handles those MySQL datatypes in the Client SDK. The
            conversion rules apply consistently across REST View fields,
            REST Procedure input and output parameters and REST function
            input parameters and results.</p>
            <h2 data-number="32.1" id="spatial-data-types"><span
            class="header-section-number">32.1</span> Spatial Data
            Types</h2>
            <p>MySQL supports an extended SQL environment, based on the
            conventions established by the OpenGIS Geometry Model, that
            enables a set of spatial column data types to hold geometry
            values. Some of them hold single values:</p>
            <ul>
            <li><code>POINT</code></li>
            <li><code>LINESTRING</code></li>
            <li><code>POLYGON</code></li>
            </ul>
            <p>On the other hand, there are spatial data types that are
            meant to hold collections of geometry values:</p>
            <ul>
            <li><code>MULTIPOINT</code></li>
            <li><code>MULTILINESTRING</code></li>
            <li><code>MULTIPOLYGON</code></li>
            <li><code>GEOMETRYCOLLECTION</code></li>
            </ul>
            <p><code>GEOMETRYCOLLECTION</code> can store a collection of
            objects of any type. The other collection types
            (<code>MULTIPOINT</code>, <code>MULTILINESTRING</code>, and
            <code>MULTIPOLYGON</code>) restrict collection members to
            those having a particular geometry type.</p>
            <p>Additionally, there is a <code>GEOMETRY</code> data type
            that is meant to hold any kind of value for the data types
            described above.</p>
            <h3 data-number="32.1.1" id="typescript-sdk"><span
            class="header-section-number">32.1.1</span> TypeScript
            SDK</h3>
            <p>MySQL Rest Service (MRS) TypeScript SDK expects a
            GeoJSON-like object for representing, operating on, or
            manipulating spatial data.</p>
            <p>For instance, with a setup using the <a
            href="https://dev.mysql.com/doc/sakila/en/">Sakila Sample
            Database</a> where the schema is available under a REST
            service called <code>myService</code>, when inserting
            records into the <code>address</code> table, you can use a
            GeoJSON-like object to specify the value for the
            <code>location</code> column, which has a generic
            <code>GEOMETRY</code> data type, as described in the
            following sections.</p>
            <p><strong><em>Upstream Commands</em></strong></p>
            <h4 data-number="32.1.1.1" id="create"><span
            class="header-section-number">32.1.1.1</span> Create</h4>
            <div class="sourceCode" id="cb370"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb370-1"><a href="#cb370-1" aria-hidden="true" tabindex="-1"></a><span class="co">// GeoJSON</span></span>
<span id="cb370-2"><a href="#cb370-2" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">address</span><span class="op">.</span><span class="fu">create</span>({ data<span class="op">:</span> {</span>
<span id="cb370-3"><a href="#cb370-3" aria-hidden="true" tabindex="-1"></a>  location<span class="op">:</span> {</span>
<span id="cb370-4"><a href="#cb370-4" aria-hidden="true" tabindex="-1"></a>    type<span class="op">:</span> <span class="st">&quot;Point&quot;</span><span class="op">,</span></span>
<span id="cb370-5"><a href="#cb370-5" aria-hidden="true" tabindex="-1"></a>    coordinates<span class="op">:</span> [<span class="fl">11.11</span><span class="op">,</span> <span class="fl">12.22</span>]</span>
<span id="cb370-6"><a href="#cb370-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb370-7"><a href="#cb370-7" aria-hidden="true" tabindex="-1"></a>}})</span></code></pre></div>
            <h4 data-number="32.1.1.2" id="update"><span
            class="header-section-number">32.1.1.2</span> Update</h4>
            <p>The same convention should also apply when updating
            records on the same table.</p>
            <div class="sourceCode" id="cb371"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb371-1"><a href="#cb371-1" aria-hidden="true" tabindex="-1"></a><span class="co">// GeoJSON</span></span>
<span id="cb371-2"><a href="#cb371-2" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">address</span><span class="op">.</span><span class="fu">update</span>({</span>
<span id="cb371-3"><a href="#cb371-3" aria-hidden="true" tabindex="-1"></a>  where<span class="op">:</span> {</span>
<span id="cb371-4"><a href="#cb371-4" aria-hidden="true" tabindex="-1"></a>    address_id<span class="op">:</span> <span class="dv">1</span></span>
<span id="cb371-5"><a href="#cb371-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb371-6"><a href="#cb371-6" aria-hidden="true" tabindex="-1"></a>  data<span class="op">:</span> {</span>
<span id="cb371-7"><a href="#cb371-7" aria-hidden="true" tabindex="-1"></a>    location<span class="op">:</span> {</span>
<span id="cb371-8"><a href="#cb371-8" aria-hidden="true" tabindex="-1"></a>      type<span class="op">:</span> <span class="st">&quot;Point&quot;</span><span class="op">,</span></span>
<span id="cb371-9"><a href="#cb371-9" aria-hidden="true" tabindex="-1"></a>      coordinates<span class="op">:</span> [<span class="fl">11.11</span><span class="op">,</span> <span class="fl">12.22</span>]</span>
<span id="cb371-10"><a href="#cb371-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb371-11"><a href="#cb371-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb371-12"><a href="#cb371-12" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb371-13"><a href="#cb371-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb371-14"><a href="#cb371-14" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">sakila</span><span class="op">.</span><span class="at">address</span><span class="op">.</span><span class="fu">updateMany</span>({</span>
<span id="cb371-15"><a href="#cb371-15" aria-hidden="true" tabindex="-1"></a>  where<span class="op">:</span> [{</span>
<span id="cb371-16"><a href="#cb371-16" aria-hidden="true" tabindex="-1"></a>    address_id<span class="op">:</span> <span class="dv">1</span></span>
<span id="cb371-17"><a href="#cb371-17" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span> {</span>
<span id="cb371-18"><a href="#cb371-18" aria-hidden="true" tabindex="-1"></a>    address_id<span class="op">:</span> <span class="dv">2</span></span>
<span id="cb371-19"><a href="#cb371-19" aria-hidden="true" tabindex="-1"></a>  }]<span class="op">,</span></span>
<span id="cb371-20"><a href="#cb371-20" aria-hidden="true" tabindex="-1"></a>  data<span class="op">:</span> {</span>
<span id="cb371-21"><a href="#cb371-21" aria-hidden="true" tabindex="-1"></a>    location<span class="op">:</span> {</span>
<span id="cb371-22"><a href="#cb371-22" aria-hidden="true" tabindex="-1"></a>      type<span class="op">:</span> <span class="st">&quot;Point&quot;</span><span class="op">,</span></span>
<span id="cb371-23"><a href="#cb371-23" aria-hidden="true" tabindex="-1"></a>      coordinates<span class="op">:</span> [<span class="fl">11.11</span><span class="op">,</span> <span class="fl">12.22</span>]</span>
<span id="cb371-24"><a href="#cb371-24" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb371-25"><a href="#cb371-25" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb371-26"><a href="#cb371-26" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
            <h4 data-number="32.1.1.3" id="types-mismatch"><span
            class="header-section-number">32.1.1.3</span> Types
            Mismatch</h4>
            <p>If the column has a narrow data type such as
            <code>POINT</code>, instead of the more generic
            <code>GEOMETRY</code>, specifying an incompatible type on
            the client-side, should yield a compilation error. For
            example, assuming a table
            <code>mrs_tests</code>.<code>spatial_tests</code> created as
            follows:</p>
            <div class="sourceCode" id="cb372"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb372-1"><a href="#cb372-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">DATABASE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> mrs_tests;</span>
<span id="cb372-2"><a href="#cb372-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> mrs_tests.spatial_tests (<span class="kw">id</span> <span class="dt">INT</span> AUTO_INCREMENT <span class="kw">NOT</span> <span class="kw">NULL</span>, ls LINESTRING, <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>));</span></code></pre></div>
            <p>With the table (and corresponding schema) available from
            the same <code>myService</code> REST service, trying to
            insert a <code>POINT</code> does not work, because the
            column only accepts a <code>LINESTRING</code>.</p>
            <div class="sourceCode" id="cb373"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb373-1"><a href="#cb373-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">mrsTests</span><span class="op">.</span><span class="at">spatialTests</span><span class="op">.</span><span class="fu">create</span>({</span>
<span id="cb373-2"><a href="#cb373-2" aria-hidden="true" tabindex="-1"></a>  data<span class="op">:</span> {</span>
<span id="cb373-3"><a href="#cb373-3" aria-hidden="true" tabindex="-1"></a>    ls<span class="op">:</span> {</span>
<span id="cb373-4"><a href="#cb373-4" aria-hidden="true" tabindex="-1"></a>      type<span class="op">:</span> <span class="st">&quot;Point&quot;</span><span class="op">,</span></span>
<span id="cb373-5"><a href="#cb373-5" aria-hidden="true" tabindex="-1"></a>      coordinates<span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>]</span>
<span id="cb373-6"><a href="#cb373-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb373-7"><a href="#cb373-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb373-8"><a href="#cb373-8" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
            <p>A command like the one above yields a compilation
            error.</p>
            <blockquote>
            <p>Type ‘Point’ is not assignable to type ‘LineString’.</p>
            </blockquote>
            <p>In the same way, trying to insert or update multiple
            values for a single field when the column data type only
            allows a single value, or vice-versa, should also yield a
            compilation error. For, example, assuming the
            <code>mrs_tests.spatial_tests</code> table was created as
            follows:</p>
            <div class="sourceCode" id="cb374"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb374-1"><a href="#cb374-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> mrs_tests.spatial_tests (<span class="kw">id</span> <span class="dt">INT</span> AUTO_INCREMENT <span class="kw">NOT</span> <span class="kw">NULL</span>, ls GEOMETRYCOLLECTION, <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>));</span></code></pre></div>
            <p>Trying to insert a <code>POINT</code> does not work,
            because the column only accepts either a
            <code>MULTIPOINT</code>, a <code>MULTILINESTRING</code> or a
            <code>MULTIPOLYGON</code>.</p>
            <div class="sourceCode" id="cb375"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb375-1"><a href="#cb375-1" aria-hidden="true" tabindex="-1"></a>myService<span class="op">.</span><span class="at">mrsTests</span><span class="op">.</span><span class="at">spatialTests</span><span class="op">.</span><span class="fu">create</span>({</span>
<span id="cb375-2"><a href="#cb375-2" aria-hidden="true" tabindex="-1"></a>  data<span class="op">:</span> {</span>
<span id="cb375-3"><a href="#cb375-3" aria-hidden="true" tabindex="-1"></a>    ls<span class="op">:</span> {</span>
<span id="cb375-4"><a href="#cb375-4" aria-hidden="true" tabindex="-1"></a>      type<span class="op">:</span> <span class="st">&quot;Point&quot;</span><span class="op">,</span></span>
<span id="cb375-5"><a href="#cb375-5" aria-hidden="true" tabindex="-1"></a>      coordinates<span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>]</span>
<span id="cb375-6"><a href="#cb375-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb375-7"><a href="#cb375-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb375-8"><a href="#cb375-8" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
            <p>In this case, the command yields the following
            compilation error:</p>
            <blockquote>
            <p>Type ‘Point’ is not assignable to type ‘MultiPoint |
            MultiLineString | MultiPolygon’.</p>
            </blockquote>
            <h3 data-number="32.1.2" id="python-sdk"><span
            class="header-section-number">32.1.2</span> Python SDK</h3>
            <p>MySQL Rest Service (MRS) Python SDK supports one format
            for representing, operating on, or manipulating spatial
            data:</p>
            <ul>
            <li><a
            href="https://dev.mysql.com/doc/refman/9.1/en/opengis-geometry-model.html">GeoJSON</a></li>
            </ul>
            <p>This format can be used when inserting or updating
            (upstream operations) a record that contains a field
            matching a column of a Spatial data type. Symmetrically, for
            downstream operations such as finding records having spatial
            fields, such fields are specified as GeoJSON types.</p>
            <p>For instance, with a setup using the <a
            href="https://dev.mysql.com/doc/sakila/en/">Sakila Sample
            Database</a> where the schema is available under a REST
            service called <code>myService</code>, when inserting
            records into the <code>address</code> table, you can work
            with the value for the <code>location</code> column, which
            has a generic <code>GEOMETRY</code> data type, as described
            in the following sections.</p>
            <p><strong><em>Upstream Commands</em></strong></p>
            <h4 data-number="32.1.2.1" id="create-1"><span
            class="header-section-number">32.1.2.1</span> Create</h4>
            <p>Inserting a record into the address table in the Sakila
            sample database.</p>
            <div class="sourceCode" id="cb376"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb376-1"><a href="#cb376-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService, IMyServiceSakilaAddress <span class="im">as</span> Address</span>
<span id="cb376-2"><a href="#cb376-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb376-3"><a href="#cb376-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb376-4"><a href="#cb376-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb376-5"><a href="#cb376-5" aria-hidden="true" tabindex="-1"></a>address: Address <span class="op">=</span> <span class="cf">await</span> myService.sakila.address.create(</span>
<span id="cb376-6"><a href="#cb376-6" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb376-7"><a href="#cb376-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;location&quot;</span>: {</span>
<span id="cb376-8"><a href="#cb376-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;type&quot;</span>: <span class="st">&quot;Point&quot;</span>,</span>
<span id="cb376-9"><a href="#cb376-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;coordinates&quot;</span>: [<span class="fl">11.11</span>, <span class="fl">12.22</span>],</span>
<span id="cb376-10"><a href="#cb376-10" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb376-11"><a href="#cb376-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb376-12"><a href="#cb376-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
            <h4 data-number="32.1.2.2" id="update-1"><span
            class="header-section-number">32.1.2.2</span> Update</h4>
            <p>Updating a record from the address table in the Sakila
            sample database.</p>
            <div class="sourceCode" id="cb377"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb377-1"><a href="#cb377-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService, IMyServiceSakilaAddress <span class="im">as</span> Address</span>
<span id="cb377-2"><a href="#cb377-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb377-3"><a href="#cb377-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb377-4"><a href="#cb377-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb377-5"><a href="#cb377-5" aria-hidden="true" tabindex="-1"></a>address: Address <span class="op">=</span> <span class="cf">await</span> myService.sakila.address.update(</span>
<span id="cb377-6"><a href="#cb377-6" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>{</span>
<span id="cb377-7"><a href="#cb377-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;address_id&quot;</span>: <span class="dv">1</span>,</span>
<span id="cb377-8"><a href="#cb377-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;location&quot;</span>: {</span>
<span id="cb377-9"><a href="#cb377-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;type&quot;</span>: <span class="st">&quot;Point&quot;</span>,</span>
<span id="cb377-10"><a href="#cb377-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;coordinates&quot;</span>: [<span class="fl">11.11</span>, <span class="fl">12.22</span>],</span>
<span id="cb377-11"><a href="#cb377-11" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb377-12"><a href="#cb377-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb377-13"><a href="#cb377-13" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
            <p><strong><em>Downstream Commands</em></strong></p>
            <h4 data-number="32.1.2.3" id="find"><span
            class="header-section-number">32.1.2.3</span> Find</h4>
            <p>Finding a record from the address table in the Sakila
            sample database.</p>
            <div class="sourceCode" id="cb378"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb378-1"><a href="#cb378-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService, IMyServiceSakilaAddress <span class="im">as</span> Address, MrsDocumentNotFoundError</span>
<span id="cb378-2"><a href="#cb378-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-3"><a href="#cb378-3" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb378-4"><a href="#cb378-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-5"><a href="#cb378-5" aria-hidden="true" tabindex="-1"></a>doc_id <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb378-6"><a href="#cb378-6" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb378-7"><a href="#cb378-7" aria-hidden="true" tabindex="-1"></a>    address: Address <span class="op">=</span> <span class="cf">await</span> myService.sakila.address.find_first_or_throw(</span>
<span id="cb378-8"><a href="#cb378-8" aria-hidden="true" tabindex="-1"></a>        where<span class="op">=</span>{<span class="st">&quot;address_id&quot;</span>: doc_id}</span>
<span id="cb378-9"><a href="#cb378-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb378-10"><a href="#cb378-10" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> MrsDocumentNotFoundError:</span>
<span id="cb378-11"><a href="#cb378-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">raise</span> MrsDocumentNotFoundError(msg<span class="op">=</span><span class="ss">f&quot;No address document exists matching actor_id=</span><span class="sc">{</span>doc_id<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb378-12"><a href="#cb378-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-13"><a href="#cb378-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(address.location)</span>
<span id="cb378-14"><a href="#cb378-14" aria-hidden="true" tabindex="-1"></a><span class="co"># {&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [11.11, 12.22]}</span></span></code></pre></div>
            <h4 data-number="32.1.2.4" id="types-mismatch-1"><span
            class="header-section-number">32.1.2.4</span> Types
            Mismatch</h4>
            <p>If the column has a narrow data type such as
            <code>POINT</code>, instead of the more generic
            <code>GEOMETRY</code>, specifying an incompatible type on
            the client-side, should yield a mypy (typing system) error.
            For example, assuming a table
            <code>mrs_tests.spatial_tests</code> created as follows:</p>
            <div class="sourceCode" id="cb379"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb379-1"><a href="#cb379-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">DATABASE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> mrs_tests;</span>
<span id="cb379-2"><a href="#cb379-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> mrs_tests.spatial_tests (<span class="kw">id</span> <span class="dt">INT</span> AUTO_INCREMENT <span class="kw">NOT</span> <span class="kw">NULL</span>, ls LINESTRING, <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>));</span></code></pre></div>
            <p>Trying to insert a <code>Point</code> triggers a typing
            error, because the column only accepts a
            <code>LineString</code>.</p>
            <div class="sourceCode" id="cb380"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb380-1"><a href="#cb380-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceMrsTestsSpatialTests <span class="im">as</span> SpatialTests</span>
<span id="cb380-2"><a href="#cb380-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb380-3"><a href="#cb380-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb380-4"><a href="#cb380-4" aria-hidden="true" tabindex="-1"></a>my_doc: SpatialTests <span class="op">=</span> <span class="cf">await</span> myService.mrs_tests.spatial_tests.update(</span>
<span id="cb380-5"><a href="#cb380-5" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>{</span>
<span id="cb380-6"><a href="#cb380-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;id&quot;</span>: <span class="dv">1</span>,</span>
<span id="cb380-7"><a href="#cb380-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;ls&quot;</span>: {</span>
<span id="cb380-8"><a href="#cb380-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;type&quot;</span>: <span class="st">&quot;Point&quot;</span>,</span>
<span id="cb380-9"><a href="#cb380-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;coordinates&quot;</span>: [<span class="dv">0</span>, <span class="dv">0</span>],</span>
<span id="cb380-10"><a href="#cb380-10" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb380-11"><a href="#cb380-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb380-12"><a href="#cb380-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
            <blockquote>
            <p>Type <code>Point</code> is not assignable to type
            <code>LineString</code>.</p>
            </blockquote>
            <p>In the same way, trying to insert or update multiple
            values for a single field when the column data type only
            allows a single value, or vice-versa, should also yield a
            typing error. For example, assuming the table
            <code>mrs_tests.spatial_tests</code> was, instead, created
            as follows:</p>
            <div class="sourceCode" id="cb381"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb381-1"><a href="#cb381-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> mrs_tests.spatial_tests (<span class="kw">id</span> <span class="dt">INT</span> AUTO_INCREMENT <span class="kw">NOT</span> <span class="kw">NULL</span>, ls GEOMETRYCOLLECTION, <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>));</span></code></pre></div>
            <p>Trying to insert a <code>Point</code> triggers a typing
            error, because the column only accepts either a
            <code>MultiPoint</code>, a <code>MultiLineString</code> or a
            <code>MultiPolygon</code>.</p>
            <div class="sourceCode" id="cb382"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb382-1"><a href="#cb382-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python.my_service <span class="im">import</span> IMyServiceMrsTestsSpatialTests <span class="im">as</span> SpatialTests</span>
<span id="cb382-2"><a href="#cb382-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb382-3"><a href="#cb382-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb382-4"><a href="#cb382-4" aria-hidden="true" tabindex="-1"></a>my_doc: SpatialTests <span class="op">=</span> <span class="cf">await</span> myService.mrs_tests.spatial_tests.create(</span>
<span id="cb382-5"><a href="#cb382-5" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb382-6"><a href="#cb382-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;ls&quot;</span>: {</span>
<span id="cb382-7"><a href="#cb382-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;type&quot;</span>: <span class="st">&quot;Point&quot;</span>,</span>
<span id="cb382-8"><a href="#cb382-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;coordinates&quot;</span>: [<span class="dv">0</span>, <span class="dv">0</span>],</span>
<span id="cb382-9"><a href="#cb382-9" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb382-10"><a href="#cb382-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb382-11"><a href="#cb382-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
            <blockquote>
            <p>Type <code>Point</code> is not assignable to type
            <code>MultiPoint</code>, <code>MultiLineString</code> or
            <code>MultiPolygon</code>.</p>
            </blockquote>
            <h2 data-number="32.2"
            id="working-with-date-and-time-data-types"><span
            class="header-section-number">32.2</span> Working with Date
            and Time Data Types</h2>
            <p>MySQL supports date and time data types for representing
            temporal values:</p>
            <ul>
            <li><a
            href="https://dev.mysql.com/doc/refman/8.4/en/datetime.html">TIMESTAMP</a>
            - contain both date and time parts.</li>
            <li><a
            href="https://dev.mysql.com/doc/refman/8.4/en/datetime.html">DATETIME</a>
            - contain both date and time parts.</li>
            <li><a
            href="https://dev.mysql.com/doc/refman/8.4/en/datetime.html">DATE</a>
            - contain date part but no time part.</li>
            <li><a
            href="https://dev.mysql.com/doc/refman/8.4/en/time.html">TIME</a>
            - contain time but not date part.</li>
            <li><a
            href="https://dev.mysql.com/doc/refman/8.4/en/year.html">YEAR</a>
            - represent year values.</li>
            </ul>
            <p>Visit the <a
            href="https://dev.mysql.com/doc/refman/8.4/en/date-and-time-types.html">official
            documentation</a> to know more about these MySQL data
            types.</p>
            <h3 data-number="32.2.1" id="python-sdk-1"><span
            class="header-section-number">32.2.1</span> Python SDK</h3>
            <p>MySQL Rest Service (MRS) Python SDK utilizes the
            following client-side data types for representing, operating
            on, or manipulating MySQL date and time data:</p>
            <table>
            <caption>MRS Python SDK data type mapping</caption>
            <colgroup>
            <col style="width: 52%" />
            <col style="width: 47%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th style="text-align: center;">MySQL data type</th>
            <th style="text-align: center;">MRS Python SDK data
            type</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td style="text-align: center;">TIMESTAMP</td>
            <td style="text-align: center;"><a
            href="https://docs.python.org/3/library/datetime.html#datetime.datetime"><code>datetime.datetime</code></a></td>
            </tr>
            <tr class="even">
            <td style="text-align: center;">DATETIME</td>
            <td style="text-align: center;"><a
            href="https://docs.python.org/3/library/datetime.html#datetime.datetime"><code>datetime.datetime</code></a></td>
            </tr>
            <tr class="odd">
            <td style="text-align: center;">DATE</td>
            <td style="text-align: center;"><a
            href="https://docs.python.org/3/library/datetime.html#datetime.date"><code>datetime.date</code></a></td>
            </tr>
            <tr class="even">
            <td style="text-align: center;">TIME</td>
            <td style="text-align: center;"><a
            href="https://docs.python.org/3/library/datetime.html#datetime.timedelta"><code>datetime.timedelta</code></a></td>
            </tr>
            <tr class="odd">
            <td style="text-align: center;">YEAR</td>
            <td style="text-align: center;"><code>int</code></td>
            </tr>
            </tbody>
            </table>
            <p>The MRS Python SDK data types shall be used when
            inserting or updating (upstream operations) a record that
            contains a field matching a column of a <em>date and
            time</em> data type. Symmetrically, for downstream
            operations such as finding records having <em>date and
            time</em> fields, such fields are specified with MRS Python
            SDK data types according to the above equivalences.</p>
            <p>In the following sections, fictional but relevant
            examples are presented to showcase the usage of MySQL Date
            and Time data types via the MRS Python SDK.</p>
            <blockquote>
            <p>The examples assume a sample database named
            <code>mrs_tests</code> exists.</p>
            </blockquote>
            <h4 data-number="32.2.1.1" id="example---view"><span
            class="header-section-number">32.2.1.1</span> Example -
            View</h4>
            <p>Consider the following sample table:</p>
            <div class="sourceCode" id="cb383"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb383-1"><a href="#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb383-2"><a href="#cb383-2" aria-hidden="true" tabindex="-1"></a><span class="co">Sample table including a column for each date and time data type.</span></span>
<span id="cb383-3"><a href="#cb383-3" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb383-4"><a href="#cb383-4" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">EXISTS</span> mrs_tests.table_date_and_time;</span>
<span id="cb383-5"><a href="#cb383-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb383-6"><a href="#cb383-6" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> mrs_tests.table_date_and_time (</span>
<span id="cb383-7"><a href="#cb383-7" aria-hidden="true" tabindex="-1"></a>    idx <span class="dt">SMALLINT</span> UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span> AUTO_INCREMENT,</span>
<span id="cb383-8"><a href="#cb383-8" aria-hidden="true" tabindex="-1"></a>    ts <span class="dt">TIMESTAMP</span> <span class="kw">DEFAULT</span> <span class="fu">CURRENT_TIMESTAMP</span> <span class="kw">ON</span> <span class="kw">UPDATE</span> <span class="fu">CURRENT_TIMESTAMP</span>,</span>
<span id="cb383-9"><a href="#cb383-9" aria-hidden="true" tabindex="-1"></a>    dt DATETIME(<span class="dv">6</span>),</span>
<span id="cb383-10"><a href="#cb383-10" aria-hidden="true" tabindex="-1"></a>    d <span class="dt">DATE</span>,</span>
<span id="cb383-11"><a href="#cb383-11" aria-hidden="true" tabindex="-1"></a>    t <span class="dt">TIME</span>(<span class="dv">6</span>),</span>
<span id="cb383-12"><a href="#cb383-12" aria-hidden="true" tabindex="-1"></a>    y <span class="dt">YEAR</span>,</span>
<span id="cb383-13"><a href="#cb383-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span>  (idx)</span>
<span id="cb383-14"><a href="#cb383-14" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb383-15"><a href="#cb383-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb383-16"><a href="#cb383-16" aria-hidden="true" tabindex="-1"></a><span class="kw">INSERT</span> <span class="kw">INTO</span>  mrs_tests.table_date_and_time (dt, dt_shorter, d, t, y) <span class="kw">VALUES</span></span>
<span id="cb383-17"><a href="#cb383-17" aria-hidden="true" tabindex="-1"></a>    (<span class="ot">&quot;2023-07-30 14:59:01&quot;</span>, <span class="ot">&quot;2023-07-30 14:59:01&quot;</span>, <span class="ot">&quot;1987-12-09&quot;</span>, <span class="ot">&quot;119:10:0.100023&quot;</span>, <span class="dv">1999</span>),</span>
<span id="cb383-18"><a href="#cb383-18" aria-hidden="true" tabindex="-1"></a>    (<span class="ot">&quot;2025-02-27 09:41:25.000678&quot;</span>, <span class="ot">&quot;2025-02-27 09:41:25.000678&quot;</span>, <span class="ot">&quot;2010-01-01&quot;</span>, <span class="ot">&quot;099:35:0.60003&quot;</span>, <span class="dv">2005</span>);</span></code></pre></div>
            <p>After you have added the corresponding schema
            (<code>mrs_tests</code>) and view
            (<code>table_date_and_time</code>) objects to the MRS
            service (let’s say <code>my_service</code>), you can start
            using the MRS Python SDK.</p>
            <p><strong><em>Upstream Commands</em></strong></p>
            <h5 data-number="32.2.1.1.1" id="create-2"><span
            class="header-section-number">32.2.1.1.1</span> Create</h5>
            <p>Inserting a record into the
            <code>table_date_and_time</code> table in the
            <code>mrs_tests</code> sample database.</p>
            <div class="sourceCode" id="cb384"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb384-1"><a href="#cb384-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb384-2"><a href="#cb384-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb384-3"><a href="#cb384-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb384-4"><a href="#cb384-4" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb384-5"><a href="#cb384-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb384-6"><a href="#cb384-6" aria-hidden="true" tabindex="-1"></a>doc <span class="op">=</span> <span class="cf">await</span> my_service.mrs_tests.table_date_and_time.create(</span>
<span id="cb384-7"><a href="#cb384-7" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb384-8"><a href="#cb384-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;dt&quot;</span>: datetime.datetime.now(),</span>
<span id="cb384-9"><a href="#cb384-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;d&quot;</span>: datetime.date(<span class="dv">2020</span>, <span class="dv">10</span>, <span class="dv">20</span>),</span>
<span id="cb384-10"><a href="#cb384-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;t&quot;</span>: datetime.timedelta(days<span class="op">=</span><span class="dv">31</span>, microseconds<span class="op">=</span><span class="dv">202023</span>),</span>
<span id="cb384-11"><a href="#cb384-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;y&quot;</span>: <span class="dv">1976</span>,</span>
<span id="cb384-12"><a href="#cb384-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb384-13"><a href="#cb384-13" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
            <blockquote>
            <p>If you wanted field <code>d</code> to be
            <code>NULL</code>, for instance, you would have to use
            <code>None</code> instead of
            <code>datetime.date(...)</code>.</p>
            </blockquote>
            <h5 data-number="32.2.1.1.2" id="update-2"><span
            class="header-section-number">32.2.1.1.2</span> Update</h5>
            <p>Updating a record from the
            <code>table_date_and_time</code> table in the
            <code>mrs_tests</code> sample database.</p>
            <div class="sourceCode" id="cb385"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb385-1"><a href="#cb385-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb385-2"><a href="#cb385-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb385-3"><a href="#cb385-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb385-4"><a href="#cb385-4" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb385-5"><a href="#cb385-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb385-6"><a href="#cb385-6" aria-hidden="true" tabindex="-1"></a>doc <span class="op">=</span> <span class="cf">await</span> my_service.mrs_tests.table_date_and_time.update(</span>
<span id="cb385-7"><a href="#cb385-7" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>{</span>
<span id="cb385-8"><a href="#cb385-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;idx&quot;</span>: <span class="dv">1</span>,</span>
<span id="cb385-9"><a href="#cb385-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;t&quot;</span>: datetime.timedelta(days<span class="op">=</span><span class="dv">4</span>, hours<span class="op">=</span><span class="dv">4</span>, minutes<span class="op">=</span><span class="dv">1</span>, seconds<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb385-10"><a href="#cb385-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb385-11"><a href="#cb385-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
            <p><strong><em>Downstream Commands</em></strong></p>
            <h5 data-number="32.2.1.1.3" id="find-1"><span
            class="header-section-number">32.2.1.1.3</span> Find</h5>
            <p>Finding a record from the
            <code>table_date_and_time</code> table in the
            <code>mrs_tests</code> sample database.</p>
            <div class="sourceCode" id="cb386"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb386-1"><a href="#cb386-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb386-2"><a href="#cb386-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb386-3"><a href="#cb386-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb386-4"><a href="#cb386-4" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb386-5"><a href="#cb386-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb386-6"><a href="#cb386-6" aria-hidden="true" tabindex="-1"></a>doc <span class="op">=</span> <span class="cf">await</span> my_service.mrs_tests.table_date_and_time.find_first(</span>
<span id="cb386-7"><a href="#cb386-7" aria-hidden="true" tabindex="-1"></a>    where<span class="op">=</span>{</span>
<span id="cb386-8"><a href="#cb386-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;AND&quot;</span>: [</span>
<span id="cb386-9"><a href="#cb386-9" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb386-10"><a href="#cb386-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;dt&quot;</span>: {</span>
<span id="cb386-11"><a href="#cb386-11" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;lt&quot;</span>: datetime.datetime.fromisoformat(</span>
<span id="cb386-12"><a href="#cb386-12" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;2023-07-30 15:59:01&quot;</span></span>
<span id="cb386-13"><a href="#cb386-13" aria-hidden="true" tabindex="-1"></a>                    )</span>
<span id="cb386-14"><a href="#cb386-14" aria-hidden="true" tabindex="-1"></a>                }</span>
<span id="cb386-15"><a href="#cb386-15" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb386-16"><a href="#cb386-16" aria-hidden="true" tabindex="-1"></a>            {<span class="st">&quot;d&quot;</span>: {<span class="st">&quot;gte&quot;</span>: datetime.date.fromisoformat(<span class="st">&quot;1987-12-09&quot;</span>)}},</span>
<span id="cb386-17"><a href="#cb386-17" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb386-18"><a href="#cb386-18" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb386-19"><a href="#cb386-19" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
            <h4 data-number="32.2.1.2" id="example---function"><span
            class="header-section-number">32.2.1.2</span> Example -
            Function</h4>
            <p>Consider the following sample function:</p>
            <div class="sourceCode" id="cb387"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb387-1"><a href="#cb387-1" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb387-2"><a href="#cb387-2" aria-hidden="true" tabindex="-1"></a><span class="co">Sample functions using date and time data types.</span></span>
<span id="cb387-3"><a href="#cb387-3" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb387-4"><a href="#cb387-4" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> <span class="kw">FUNCTION</span> <span class="cf">IF</span> <span class="kw">EXISTS</span> mrs_tests.func_date_and_time_ts;</span>
<span id="cb387-5"><a href="#cb387-5" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">FUNCTION</span> mrs_tests.func_date_and_time_ts (ts <span class="dt">TIMESTAMP</span>(<span class="dv">4</span>))</span>
<span id="cb387-6"><a href="#cb387-6" aria-hidden="true" tabindex="-1"></a>    RETURNS <span class="dt">TIMESTAMP</span>(<span class="dv">4</span>) DETERMINISTIC</span>
<span id="cb387-7"><a href="#cb387-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">RETURN</span> TIMESTAMPADD(<span class="dt">MONTH</span>, <span class="dv">1</span>, ts);</span></code></pre></div>
            <p>After you have added the corresponding schema
            (<code>mrs_tests</code>) and function
            (<code>func_date_and_time_ts</code>) objects to the MRS
            service (let’s say <code>my_service</code>), you can start
            using the MRS Python SDK.</p>
            <p>Calling the <code>func_date_and_time_ts</code> in the
            <code>mrs_tests</code> sample database:</p>
            <div class="sourceCode" id="cb388"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb388-1"><a href="#cb388-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb388-2"><a href="#cb388-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb388-3"><a href="#cb388-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb388-4"><a href="#cb388-4" aria-hidden="true" tabindex="-1"></a>my_service <span class="op">=</span> MyService()</span>
<span id="cb388-5"><a href="#cb388-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb388-6"><a href="#cb388-6" aria-hidden="true" tabindex="-1"></a><span class="co"># `ts` stands for timestamp</span></span>
<span id="cb388-7"><a href="#cb388-7" aria-hidden="true" tabindex="-1"></a>value <span class="op">=</span> <span class="cf">await</span> <span class="va">self</span>.my_service.mrs_tests.func_date_and_time_ts(ts<span class="op">=</span>datetime.datetime.now())</span></code></pre></div>
            <h4 data-number="32.2.1.3" id="types-mismatch-2"><span
            class="header-section-number">32.2.1.3</span> Types
            Mismatch</h4>
            <p>If an unexpected data type is specified on the
            client-side for a certain field (column), the Python
            environment via mypy should yield a typing error.</p>
            <h2 data-number="32.3"
            id="working-with-vector-data-types"><span
            class="header-section-number">32.3</span> Working with
            Vector Data Types</h2>
            <p>MySQL supports the VECTOR data type for representing a
            structure that can hold up to a specified number of entries
            <code>N</code>, where each entry is a 4-byte
            (single-precision) floating-point value.</p>
            <p>Visit the <a
            href="https://dev.mysql.com/doc/refman/9.0/en/vector.html">official
            documentation</a> to know more about the MySQL VECTOR
            type.</p>
            <h3 data-number="32.3.1" id="python-sdk-2"><span
            class="header-section-number">32.3.1</span> Python SDK</h3>
            <h4 data-number="32.3.1.1"
            id="client-side-representation"><span
            class="header-section-number">32.3.1.1</span> Client-Side
            Representation</h4>
            <p>MySQL Rest Service (MRS) Python SDK utilizes the
            following client-side data type for representing, operating
            on, or manipulating MySQL vector data:</p>
            <table>
            <caption>Client-Side Representation of Vector
            Datatype</caption>
            <colgroup>
            <col style="width: 52%" />
            <col style="width: 47%" />
            </colgroup>
            <thead>
            <tr class="header">
            <th style="text-align: center;">MySQL data type</th>
            <th style="text-align: center;">MRS Python SDK data
            type</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td style="text-align: center;">VECTOR</td>
            <td style="text-align: center;"><a
            href="https://docs.python.org/3/tutorial/datastructures.html#more-on-lists"><code>list</code></a>
            of <a
            href="https://docs.python.org/3/library/functions.html#float"><code>floats</code></a></td>
            </tr>
            </tbody>
            </table>
            <p>The MRS Python SDK data type shall be used when inserting
            or updating (upstream operations) a record that contains a
            field matching a column of a <em>vector</em> data type.
            Symmetrically, for downstream operations such as finding
            records having <em>vector</em> fields, such fields are
            specified with MRS Python SDK data types according to the
            above mapping.</p>
            <p>When a vector column has a <code>NULL</code> value, the
            Python SDK uses <code>None</code> on the client side to
            represent it.</p>
            <h4 data-number="32.3.1.2" id="out-of-bounds"><span
            class="header-section-number">32.3.1.2</span> Out of
            Bounds</h4>
            <p>As specified for the <a
            href="https://dev.mysql.com/doc/refman/9.0/en/vector.html">MySQL
            Vector data</a> type, each entry must be a 4-byte
            (single-precision) floating-point value. Python lists can
            store a wider set of floating point values, in this regard,
            nothing stops the application from specifying entries that
            are out of bounds, such as a double-precision values.</p>
            <p>This event may happen unintentionally, or not, however,
            in any case, the client does not carry on a verification, in
            other words, entries are sent to the server as they are, and
            the client lets the server handle it (an error should be
            expected).</p>
            <h4 data-number="32.3.1.3" id="examples"><span
            class="header-section-number">32.3.1.3</span> Examples</h4>
            <p>In the following sections, fictional but relevant
            examples are presented to showcase the usage of the MySQL
            Vector data type via the MRS Python SDK.</p>
            <blockquote>
            <p>The examples assume a sample database named
            <code>mrs_tests</code> exists.</p>
            </blockquote>
            <p>Consider the following sample table:</p>
            <div class="sourceCode" id="cb389"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb389-1"><a href="#cb389-1" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb389-2"><a href="#cb389-2" aria-hidden="true" tabindex="-1"></a><span class="co">Sample table including a column for vector type.</span></span>
<span id="cb389-3"><a href="#cb389-3" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb389-4"><a href="#cb389-4" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">EXISTS</span> mrs_tests.table_vector;</span>
<span id="cb389-5"><a href="#cb389-5" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> mrs_tests.table_vector (</span>
<span id="cb389-6"><a href="#cb389-6" aria-hidden="true" tabindex="-1"></a>    idx <span class="dt">SMALLINT</span> UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span> AUTO_INCREMENT,</span>
<span id="cb389-7"><a href="#cb389-7" aria-hidden="true" tabindex="-1"></a>    embedding VECTOR,</span>
<span id="cb389-8"><a href="#cb389-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span>  (idx)</span>
<span id="cb389-9"><a href="#cb389-9" aria-hidden="true" tabindex="-1"></a>);</span></code></pre></div>
            <p>After you have added the corresponding schema
            (<code>mrs_tests</code>) and view
            (<code>table_vector</code>) objects to the MRS service
            (let’s say <code>my_service</code>), you can start using the
            MRS Python SDK.</p>
            <h5 data-number="32.3.1.3.1" id="create-3"><span
            class="header-section-number">32.3.1.3.1</span> Create</h5>
            <p>Inserting a record into the <code>table_vector</code>
            table in the <code>mrs_tests</code> sample database.</p>
            <div class="sourceCode" id="cb390"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb390-1"><a href="#cb390-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb390-2"><a href="#cb390-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb390-3"><a href="#cb390-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb390-4"><a href="#cb390-4" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> main():</span>
<span id="cb390-5"><a href="#cb390-5" aria-hidden="true" tabindex="-1"></a>    my_service <span class="op">=</span> MyService()</span>
<span id="cb390-6"><a href="#cb390-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb390-7"><a href="#cb390-7" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> [</span>
<span id="cb390-8"><a href="#cb390-8" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb390-9"><a href="#cb390-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;embedding&quot;</span>: [</span>
<span id="cb390-10"><a href="#cb390-10" aria-hidden="true" tabindex="-1"></a>                <span class="fl">3.1415159702301025</span>,</span>
<span id="cb390-11"><a href="#cb390-11" aria-hidden="true" tabindex="-1"></a>                <span class="fl">2.719064950942993</span>,</span>
<span id="cb390-12"><a href="#cb390-12" aria-hidden="true" tabindex="-1"></a>                <span class="op">-</span><span class="fl">87.53939819335938</span>,</span>
<span id="cb390-13"><a href="#cb390-13" aria-hidden="true" tabindex="-1"></a>                <span class="fl">44.11e+10</span>,</span>
<span id="cb390-14"><a href="#cb390-14" aria-hidden="true" tabindex="-1"></a>            ]</span>
<span id="cb390-15"><a href="#cb390-15" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb390-16"><a href="#cb390-16" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&quot;embedding&quot;</span>: [<span class="fl">9.147116</span>, <span class="op">-</span><span class="fl">76.769115</span>, <span class="op">-</span><span class="fl">5.354053</span>]},</span>
<span id="cb390-17"><a href="#cb390-17" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&quot;embedding&quot;</span>: <span class="va">None</span>},</span>
<span id="cb390-18"><a href="#cb390-18" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb390-19"><a href="#cb390-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">async</span> <span class="cf">for</span> doc <span class="kw">in</span> my_service.mrs_tests.table_vector.create_many(data):</span>
<span id="cb390-20"><a href="#cb390-20" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(doc.embedding)</span>
<span id="cb390-21"><a href="#cb390-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb390-22"><a href="#cb390-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ------STDOUT-------</span></span>
<span id="cb390-23"><a href="#cb390-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># [3.1415159702301025, 2.719064950942993, -87.53939819335938, 44.11e+10]</span></span>
<span id="cb390-24"><a href="#cb390-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># [9.147116, -76.769115, -5.354053]</span></span>
<span id="cb390-25"><a href="#cb390-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># None</span></span>
<span id="cb390-26"><a href="#cb390-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb390-27"><a href="#cb390-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb390-28"><a href="#cb390-28" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb390-29"><a href="#cb390-29" aria-hidden="true" tabindex="-1"></a>    asyncio.run(main())</span></code></pre></div>
            <h5 data-number="32.3.1.3.2" id="update-3"><span
            class="header-section-number">32.3.1.3.2</span> Update</h5>
            <p>Updating a record from the <code>table_vector</code>
            table in the <code>mrs_tests</code> sample database.</p>
            <div class="sourceCode" id="cb391"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb391-1"><a href="#cb391-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb391-2"><a href="#cb391-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb391-3"><a href="#cb391-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb391-4"><a href="#cb391-4" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> main():</span>
<span id="cb391-5"><a href="#cb391-5" aria-hidden="true" tabindex="-1"></a>    my_service <span class="op">=</span> MyService()</span>
<span id="cb391-6"><a href="#cb391-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb391-7"><a href="#cb391-7" aria-hidden="true" tabindex="-1"></a>    doc <span class="op">=</span> <span class="cf">await</span> my_service.mrs_tests.table_vector.update(</span>
<span id="cb391-8"><a href="#cb391-8" aria-hidden="true" tabindex="-1"></a>        data<span class="op">=</span>{</span>
<span id="cb391-9"><a href="#cb391-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;idx&quot;</span>: <span class="dv">1</span>,</span>
<span id="cb391-10"><a href="#cb391-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;embedding&quot;</span>: [<span class="op">-</span><span class="fl">3.141516</span>, <span class="fl">5.769005</span>, <span class="op">-</span><span class="fl">0.334013</span>, <span class="fl">33.333</span>, <span class="op">-</span><span class="fl">12.76</span>],</span>
<span id="cb391-11"><a href="#cb391-11" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb391-12"><a href="#cb391-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb391-13"><a href="#cb391-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb391-14"><a href="#cb391-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb391-15"><a href="#cb391-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb391-16"><a href="#cb391-16" aria-hidden="true" tabindex="-1"></a>    asyncio.run(main())</span></code></pre></div>
            <h5 data-number="32.3.1.3.3" id="find-2"><span
            class="header-section-number">32.3.1.3.3</span> Find</h5>
            <p>Finding a record from the <code>table_vector</code> table
            in the <code>mrs_tests</code> sample database.</p>
            <div class="sourceCode" id="cb392"><pre
            class="sourceCode py"><code class="sourceCode python"><span id="cb392-1"><a href="#cb392-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdk.python <span class="im">import</span> MyService</span>
<span id="cb392-2"><a href="#cb392-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb392-3"><a href="#cb392-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb392-4"><a href="#cb392-4" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> main():</span>
<span id="cb392-5"><a href="#cb392-5" aria-hidden="true" tabindex="-1"></a>    my_service <span class="op">=</span> MyService()</span>
<span id="cb392-6"><a href="#cb392-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb392-7"><a href="#cb392-7" aria-hidden="true" tabindex="-1"></a>    doc_id <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb392-8"><a href="#cb392-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb392-9"><a href="#cb392-9" aria-hidden="true" tabindex="-1"></a>        doc <span class="op">=</span> <span class="cf">await</span> my_service.mrs_tests.table_vector.find_first_or_throw(</span>
<span id="cb392-10"><a href="#cb392-10" aria-hidden="true" tabindex="-1"></a>            where<span class="op">=</span>{<span class="st">&quot;idx&quot;</span>: doc_id}</span>
<span id="cb392-11"><a href="#cb392-11" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb392-12"><a href="#cb392-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> MrsDocumentNotFoundError:</span>
<span id="cb392-13"><a href="#cb392-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> MrsDocumentNotFoundError(msg<span class="op">=</span><span class="ss">f&quot;No document exists matching idx=</span><span class="sc">{</span>doc_id<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb392-14"><a href="#cb392-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb392-15"><a href="#cb392-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(doc.embedding)</span>
<span id="cb392-16"><a href="#cb392-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb392-17"><a href="#cb392-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ------STDOUT-------</span></span>
<span id="cb392-18"><a href="#cb392-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># [9.147116, -76.769115, -5.354053]</span></span>
<span id="cb392-19"><a href="#cb392-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb392-20"><a href="#cb392-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb392-21"><a href="#cb392-21" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb392-22"><a href="#cb392-22" aria-hidden="true" tabindex="-1"></a>    asyncio.run(main())</span></code></pre></div>
            <h2 data-number="32.4" id="working-with-lossy-numbers"><span
            class="header-section-number">32.4</span> Working with lossy
            numbers</h2>
            <p>TypeScript <code>number</code>s use a double precision
            64-bit binary format as defined by the IEEE 754 standard.
            This means that it is not capable, without losing precision,
            of representing integers above 2^53-1 (which are valid in
            the 64-bit integer range) and also fixed-point arbitrary
            precision decimals. This is particularly important because
            the <code>BIGINT</code> data type in MySQL can represent
            numbers up to 2^64-1 and the
            <code>DECIMAL</code>/<code>NUMERIC</code> data type can
            represent fixed point numbers.</p>
            <p>64-bit integers can still be represented using a
            <code>BigInt</code> type without losing precision, so the
            TypeScript SDK converts the raw JSON number into a
            corresponding instance of this type, if the value, in fact,
            looses precision. Otherwise it converts it to a regular
            <code>number</code> instance.</p>
            <p>For example, consider a table as follows:</p>
            <div class="sourceCode" id="cb393"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb393-1"><a href="#cb393-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> my_db.my_table (small BIGINT UNSIGNED, large BIGINT UNSIGNED);</span>
<span id="cb393-2"><a href="#cb393-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INSERT</span> <span class="kw">INTO</span> my_db.my_table (small, large) <span class="kw">VALUES</span> (<span class="dv">1234</span>, <span class="dv">18446744073709551615</span>);</span></code></pre></div>
            <p>with a corresponding REST View created as follows:</p>
            <div class="sourceCode" id="cb394"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb394-1"><a href="#cb394-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>myTable</span>
<span id="cb394-2"><a href="#cb394-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>myDb</span>
<span id="cb394-3"><a href="#cb394-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">AS</span> `my_db`.`my_table` {</span>
<span id="cb394-4"><a href="#cb394-4" aria-hidden="true" tabindex="-1"></a>            small: small,</span>
<span id="cb394-5"><a href="#cb394-5" aria-hidden="true" tabindex="-1"></a>            large: large,</span>
<span id="cb394-6"><a href="#cb394-6" aria-hidden="true" tabindex="-1"></a>        };</span></code></pre></div>
            <p>The document can be retrieved, using the TypeScript SDK,
            as follows:</p>
            <div class="sourceCode" id="cb395"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb395-1"><a href="#cb395-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> doc <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myTable</span><span class="op">.</span><span class="fu">findFirst</span>({ where<span class="op">:</span> { large<span class="op">:</span> <span class="dv">18446744073709551615</span>n } })</span>
<span id="cb395-2"><a href="#cb395-2" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(doc<span class="op">.</span><span class="at">small</span>) <span class="co">// 123</span></span>
<span id="cb395-3"><a href="#cb395-3" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">typeof</span> doc<span class="op">.</span><span class="at">small</span>) <span class="co">// number</span></span>
<span id="cb395-4"><a href="#cb395-4" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(doc<span class="op">.</span><span class="at">large</span>) <span class="co">// 18446744073709551615n</span></span>
<span id="cb395-5"><a href="#cb395-5" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">typeof</span> doc<span class="op">.</span><span class="at">large</span>) <span class="co">// bigint</span></span></code></pre></div>
            <p>However, there is no similar construct for fixed-point
            decimals. In this case, the MRS TypeScript SDK handles these
            values as <code>string</code>s, if they, in fact, lose
            precision. For example, consider a table as follows:</p>
            <div class="sourceCode" id="cb396"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb396-1"><a href="#cb396-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> my_db.my_table (wide <span class="dt">DECIMAL</span>(<span class="dv">18</span>, <span class="dv">17</span>) narrow <span class="dt">DECIMAL</span>(<span class="dv">18</span>, <span class="dv">17</span>));</span>
<span id="cb396-2"><a href="#cb396-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INSERT</span> <span class="kw">INTO</span> my_db.my_table (wide, narrow) <span class="kw">VALUES</span> (<span class="fl">1.234</span>, <span class="fl">1.23456789012345678</span>);</span></code></pre></div>
            <p>with a corresponding REST View created as follows:</p>
            <div class="sourceCode" id="cb397"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb397-1"><a href="#cb397-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>myTable</span>
<span id="cb397-2"><a href="#cb397-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>myDb</span>
<span id="cb397-3"><a href="#cb397-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">AS</span> `my_db`.`my_table` {</span>
<span id="cb397-4"><a href="#cb397-4" aria-hidden="true" tabindex="-1"></a>            wide: wide,</span>
<span id="cb397-5"><a href="#cb397-5" aria-hidden="true" tabindex="-1"></a>            narrow: narrow,</span>
<span id="cb397-6"><a href="#cb397-6" aria-hidden="true" tabindex="-1"></a>        };</span></code></pre></div>
            <p>The document can be retrieved, using the TypeScript SDK,
            as follows:</p>
            <div class="sourceCode" id="cb398"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb398-1"><a href="#cb398-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> doc <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myTable</span><span class="op">.</span><span class="fu">findFirst</span>({ where<span class="op">:</span> { narrow<span class="op">:</span> <span class="st">&quot;1.23456789012345678&quot;</span> } })</span>
<span id="cb398-2"><a href="#cb398-2" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(doc<span class="op">.</span><span class="at">wide</span>) <span class="co">// 123</span></span>
<span id="cb398-3"><a href="#cb398-3" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">typeof</span> doc<span class="op">.</span><span class="at">wide</span>) <span class="co">// number</span></span>
<span id="cb398-4"><a href="#cb398-4" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(doc<span class="op">.</span><span class="at">narrow</span>) <span class="co">// 1.23456789012345678</span></span>
<span id="cb398-5"><a href="#cb398-5" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">typeof</span> doc<span class="op">.</span><span class="at">narrow</span>) <span class="co">// string</span></span></code></pre></div>
            <!-- Copyright (c) 2022, 2025, Oracle and/or its affiliates.

            This program is free software; you can redistribute it and/or modify
            it under the terms of the GNU General Public License, version 2.0,
            as published by the Free Software Foundation.

            This program is designed to work with certain software (including
            but not limited to OpenSSL) that is licensed under separate terms, as
            designated in a particular file or component or in included license
            documentation.  The authors of MySQL hereby grant you an additional
            permission to link the program and your derivative works with the
            separately licensed software that they have either included with
            the program or referenced in the documentation.

            This program is distributed in the hope that it will be useful,  but
            WITHOUT ANY WARRANTY; without even the implied warranty of
            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See
            the GNU General Public License, version 2.0, for more details.

            You should have received a copy of the GNU General Public License
            along with this program; if not, write to the Free Software Foundation, Inc.,
            51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA -->
            <h1 data-number="33" id="application-metadata"><span
            class="header-section-number">33</span> Application
            Metadata</h1>
            <p>Application-specific metadata can be attached to any MRS
            Resource (REST Service, Schema and/or Object).</p>
            <h2 data-number="33.1" id="rest-services"><span
            class="header-section-number">33.1</span> REST Services</h2>
            <p>Consider a REST Service, with custom metadata, created as
            follows:</p>
            <div class="sourceCode" id="cb399"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb399-1"><a href="#cb399-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST SERVICE <span class="op">/</span>myService</span>
<span id="cb399-2"><a href="#cb399-2" aria-hidden="true" tabindex="-1"></a>        METADATA {</span>
<span id="cb399-3"><a href="#cb399-3" aria-hidden="true" tabindex="-1"></a>          <span class="ot">&quot;type&quot;</span>: <span class="ot">&quot;service&quot;</span></span>
<span id="cb399-4"><a href="#cb399-4" aria-hidden="true" tabindex="-1"></a>        };</span></code></pre></div>
            <p>After generating the TypeScript SDK for this service, the
            custom metadata can be obtained as follows:</p>
            <div class="sourceCode" id="cb400"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb400-1"><a href="#cb400-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&quot;/path/to/sdk/myService&quot;</span></span>
<span id="cb400-2"><a href="#cb400-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb400-3"><a href="#cb400-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()</span>
<span id="cb400-4"><a href="#cb400-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb400-5"><a href="#cb400-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> metadata <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="fu">getMetadata</span>()</span>
<span id="cb400-6"><a href="#cb400-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(metadata) <span class="co">// { type: &quot;service&quot; }</span></span></code></pre></div>
            <p>If the REST Service does not contain custom metadata:</p>
            <div class="sourceCode" id="cb401"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb401-1"><a href="#cb401-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST SERVICE <span class="op">/</span>myService</span></code></pre></div>
            <p>The command returns an empty object:</p>
            <div class="sourceCode" id="cb402"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb402-1"><a href="#cb402-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&quot;/path/to/sdk/myService&quot;</span></span>
<span id="cb402-2"><a href="#cb402-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb402-3"><a href="#cb402-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()</span>
<span id="cb402-4"><a href="#cb402-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb402-5"><a href="#cb402-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> metadata <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="fu">getMetadata</span>()</span>
<span id="cb402-6"><a href="#cb402-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(metadata) <span class="co">// {}</span></span></code></pre></div>
            <h2 data-number="33.2" id="rest-schemas"><span
            class="header-section-number">33.2</span> REST Schemas</h2>
            <p>Consider a MySQL database created as follows:</p>
            <div class="sourceCode" id="cb403"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb403-1"><a href="#cb403-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">DATABASE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> my_db;</span></code></pre></div>
            <p>and a corresponding REST Schema, with custom metadata,
            created as follows:</p>
            <div class="sourceCode" id="cb404"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb404-1"><a href="#cb404-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>myDb <span class="kw">ON</span> SERVICE <span class="op">/</span>myService</span>
<span id="cb404-2"><a href="#cb404-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">FROM</span> `my_db`</span>
<span id="cb404-3"><a href="#cb404-3" aria-hidden="true" tabindex="-1"></a>        METADATA {</span>
<span id="cb404-4"><a href="#cb404-4" aria-hidden="true" tabindex="-1"></a>          <span class="ot">&quot;type&quot;</span>: <span class="ot">&quot;schema&quot;</span></span>
<span id="cb404-5"><a href="#cb404-5" aria-hidden="true" tabindex="-1"></a>        };</span></code></pre></div>
            <p>The custom metadata can be obtained as follows:</p>
            <div class="sourceCode" id="cb405"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb405-1"><a href="#cb405-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&quot;/path/to/sdk/myService&quot;</span></span>
<span id="cb405-2"><a href="#cb405-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb405-3"><a href="#cb405-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()</span>
<span id="cb405-4"><a href="#cb405-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb405-5"><a href="#cb405-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> metadata <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="fu">getMetadata</span>()</span>
<span id="cb405-6"><a href="#cb405-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(metadata) <span class="co">// { type: &quot;schema&quot; }</span></span></code></pre></div>
            <p>Just like for a REST Service, if a REST Schema does not
            specify custom metadata:</p>
            <div class="sourceCode" id="cb406"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb406-1"><a href="#cb406-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>myDb <span class="kw">ON</span> SERVICE <span class="op">/</span>myService</span>
<span id="cb406-2"><a href="#cb406-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">FROM</span> `my_db`</span></code></pre></div>
            <p>The command returns an empty object:</p>
            <div class="sourceCode" id="cb407"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb407-1"><a href="#cb407-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&quot;/path/to/sdk/myService&quot;</span></span>
<span id="cb407-2"><a href="#cb407-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb407-3"><a href="#cb407-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()</span>
<span id="cb407-4"><a href="#cb407-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb407-5"><a href="#cb407-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> metadata <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="fu">getMetadata</span>()</span>
<span id="cb407-6"><a href="#cb407-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(metadata) <span class="co">// {}</span></span></code></pre></div>
            <p>If the REST Schema requires authentication:</p>
            <div class="sourceCode" id="cb408"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb408-1"><a href="#cb408-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">SCHEMA</span> <span class="op">/</span>myDb <span class="kw">ON</span> SERVICE <span class="op">/</span>myService</span>
<span id="cb408-2"><a href="#cb408-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">FROM</span> `my_db`</span>
<span id="cb408-3"><a href="#cb408-3" aria-hidden="true" tabindex="-1"></a>        AUTHENTICATION REQUIRED</span>
<span id="cb408-4"><a href="#cb408-4" aria-hidden="true" tabindex="-1"></a>        METADATA {</span>
<span id="cb408-5"><a href="#cb408-5" aria-hidden="true" tabindex="-1"></a>          <span class="ot">&quot;type&quot;</span>: <span class="ot">&quot;schema&quot;</span></span>
<span id="cb408-6"><a href="#cb408-6" aria-hidden="true" tabindex="-1"></a>        };</span>
<span id="cb408-7"><a href="#cb408-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb408-8"><a href="#cb408-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="fu">USER</span> foo <span class="kw">IDENTIFIED</span> <span class="kw">BY</span> <span class="st">&#39;bar&#39;</span>;</span>
<span id="cb408-9"><a href="#cb408-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb408-10"><a href="#cb408-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ALTER</span> REST SERVICE <span class="op">/</span>myService <span class="kw">ADD</span> AUTH APP <span class="ot">&quot;MySQL&quot;</span>;</span></code></pre></div>
            <p>The command only succeeds if the client authenticates
            beforehand:</p>
            <div class="sourceCode" id="cb409"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb409-1"><a href="#cb409-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&quot;/path/to/sdk/myService&quot;</span></span>
<span id="cb409-2"><a href="#cb409-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-3"><a href="#cb409-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()</span>
<span id="cb409-4"><a href="#cb409-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-5"><a href="#cb409-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> myService<span class="op">.</span><span class="fu">authenticate</span>({ username<span class="op">:</span> <span class="st">&quot;foo&quot;</span><span class="op">,</span> password<span class="op">:</span> <span class="st">&quot;bar&quot;</span><span class="op">,</span> app<span class="op">:</span> <span class="st">&quot;MySQL&quot;</span> })</span>
<span id="cb409-6"><a href="#cb409-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> metadata <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="fu">getMetadata</span>()</span></code></pre></div>
            <p>Otherwise, the command yields an authentication
            error:</p>
            <div class="sourceCode" id="cb410"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb410-1"><a href="#cb410-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&quot;/path/to/sdk/myService&quot;</span></span>
<span id="cb410-2"><a href="#cb410-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb410-3"><a href="#cb410-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()</span>
<span id="cb410-4"><a href="#cb410-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb410-5"><a href="#cb410-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb410-6"><a href="#cb410-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> metadata <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="fu">getMetadata</span>()</span>
<span id="cb410-7"><a href="#cb410-7" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (err) {</span>
<span id="cb410-8"><a href="#cb410-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(err) <span class="co">// Not authenticated. Please authenticate first before accessing the path /myService/myDb/_metadata.</span></span>
<span id="cb410-9"><a href="#cb410-9" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
            <h2 data-number="33.3" id="rest-objects"><span
            class="header-section-number">33.3</span> REST Objects</h2>
            <p>Custom metadata can be specified for any kind of REST
            object, be it a <code>VIEW</code>, <code>FUNCTION</code>,
            <code>PROCEDURE</code> or <code>SCRIPT</code>.</p>
            <p>As an example, consider any MySQL Table, such as one
            created as follows:</p>
            <div class="sourceCode" id="cb411"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb411-1"><a href="#cb411-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> my_table (<span class="kw">id</span> <span class="dt">INT</span> AUTO_INCREMENT <span class="kw">NOT</span> <span class="kw">NULL</span>, name <span class="dt">VARCHAR</span>(<span class="dv">3</span>), <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>));</span></code></pre></div>
            <p>and a corresponding REST View, with custom metadata,
            created as follows:</p>
            <div class="sourceCode" id="cb412"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb412-1"><a href="#cb412-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>myTable <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>myDb</span>
<span id="cb412-2"><a href="#cb412-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">AS</span> `my_db`.`my_table` <span class="kw">CLASS</span> MyServiceMyDbMyTable {</span>
<span id="cb412-3"><a href="#cb412-3" aria-hidden="true" tabindex="-1"></a>            <span class="kw">id</span>: <span class="kw">id</span> @SORTABLE @KEY,</span>
<span id="cb412-4"><a href="#cb412-4" aria-hidden="true" tabindex="-1"></a>            name: name</span>
<span id="cb412-5"><a href="#cb412-5" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb412-6"><a href="#cb412-6" aria-hidden="true" tabindex="-1"></a>        METADATA {</span>
<span id="cb412-7"><a href="#cb412-7" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;type&quot;</span>: <span class="ot">&quot;table&quot;</span></span>
<span id="cb412-8"><a href="#cb412-8" aria-hidden="true" tabindex="-1"></a>        };</span></code></pre></div>
            <p>The custom metadata can be obtained as follows:</p>
            <div class="sourceCode" id="cb413"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb413-1"><a href="#cb413-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&quot;/path/to/sdk/myService&quot;</span></span>
<span id="cb413-2"><a href="#cb413-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb413-3"><a href="#cb413-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()</span>
<span id="cb413-4"><a href="#cb413-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb413-5"><a href="#cb413-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> metadata <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myTable</span><span class="op">.</span><span class="fu">getMetadata</span>()</span>
<span id="cb413-6"><a href="#cb413-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(metadata) <span class="co">// { type: &quot;table&quot; }</span></span></code></pre></div>
            <p>Just like for a REST Service and Schema, if the REST View
            does not specify custom metadata:</p>
            <div class="sourceCode" id="cb414"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb414-1"><a href="#cb414-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>myTable <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>myDb</span>
<span id="cb414-2"><a href="#cb414-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">AS</span> `my_db`.`my_table` <span class="kw">CLASS</span> MyServiceMyDbMyTable {</span>
<span id="cb414-3"><a href="#cb414-3" aria-hidden="true" tabindex="-1"></a>            <span class="kw">id</span>: <span class="kw">id</span> @SORTABLE @KEY,</span>
<span id="cb414-4"><a href="#cb414-4" aria-hidden="true" tabindex="-1"></a>            name: name</span>
<span id="cb414-5"><a href="#cb414-5" aria-hidden="true" tabindex="-1"></a>        };</span></code></pre></div>
            <p>The command returns an empty object:</p>
            <div class="sourceCode" id="cb415"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb415-1"><a href="#cb415-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&quot;/path/to/sdk/myService&quot;</span></span>
<span id="cb415-2"><a href="#cb415-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb415-3"><a href="#cb415-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()</span>
<span id="cb415-4"><a href="#cb415-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb415-5"><a href="#cb415-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> metadata <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myTable</span><span class="op">.</span><span class="fu">getMetadata</span>()</span>
<span id="cb415-6"><a href="#cb415-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(metadata) <span class="co">// {}</span></span></code></pre></div>
            <p>If the REST View requires authentication:</p>
            <div class="sourceCode" id="cb416"><pre
            class="sourceCode sql"><code class="sourceCode sql"><span id="cb416-1"><a href="#cb416-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> REST <span class="kw">VIEW</span> <span class="op">/</span>myTable <span class="kw">ON</span> SERVICE <span class="op">/</span>myService <span class="kw">SCHEMA</span> <span class="op">/</span>myDb</span>
<span id="cb416-2"><a href="#cb416-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">AS</span> `my_db`.`my_table` <span class="kw">CLASS</span> MyServiceMyDbMyTable {</span>
<span id="cb416-3"><a href="#cb416-3" aria-hidden="true" tabindex="-1"></a>            <span class="kw">id</span>: <span class="kw">id</span> @SORTABLE @KEY,</span>
<span id="cb416-4"><a href="#cb416-4" aria-hidden="true" tabindex="-1"></a>            name: name</span>
<span id="cb416-5"><a href="#cb416-5" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb416-6"><a href="#cb416-6" aria-hidden="true" tabindex="-1"></a>        AUTHENTICATION REQUIRED</span>
<span id="cb416-7"><a href="#cb416-7" aria-hidden="true" tabindex="-1"></a>        METADATA {</span>
<span id="cb416-8"><a href="#cb416-8" aria-hidden="true" tabindex="-1"></a>            <span class="ot">&quot;type&quot;</span>: <span class="ot">&quot;table&quot;</span></span>
<span id="cb416-9"><a href="#cb416-9" aria-hidden="true" tabindex="-1"></a>        };</span></code></pre></div>
            <p>Just like for a REST Schema, the command only succeeds if
            the client authenticates beforehand:</p>
            <div class="sourceCode" id="cb417"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb417-1"><a href="#cb417-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&quot;/path/to/sdk/myService&quot;</span></span>
<span id="cb417-2"><a href="#cb417-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb417-3"><a href="#cb417-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()</span>
<span id="cb417-4"><a href="#cb417-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb417-5"><a href="#cb417-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> myService<span class="op">.</span><span class="fu">authenticate</span>({ username<span class="op">:</span> <span class="st">&quot;foo&quot;</span><span class="op">,</span> password<span class="op">:</span> <span class="st">&quot;bar&quot;</span><span class="op">,</span> app<span class="op">:</span> <span class="st">&quot;MySQL&quot;</span> })</span>
<span id="cb417-6"><a href="#cb417-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> metadata <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myTable</span><span class="op">.</span><span class="fu">getMetadata</span>()</span>
<span id="cb417-7"><a href="#cb417-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(metadata) <span class="co">// { type: &quot;table&quot; }</span></span></code></pre></div>
            <p>Otherwise, the command yields an authentication
            error:</p>
            <div class="sourceCode" id="cb418"><pre
            class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb418-1"><a href="#cb418-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { MyService } <span class="im">from</span> <span class="st">&quot;/path/to/sdk/myService&quot;</span></span>
<span id="cb418-2"><a href="#cb418-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb418-3"><a href="#cb418-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> myService <span class="op">=</span> <span class="kw">new</span> <span class="fu">MyService</span>()</span>
<span id="cb418-4"><a href="#cb418-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb418-5"><a href="#cb418-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb418-6"><a href="#cb418-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> metadata <span class="op">=</span> <span class="cf">await</span> myService<span class="op">.</span><span class="at">myDb</span><span class="op">.</span><span class="at">myTable</span><span class="op">.</span><span class="fu">getMetadata</span>()</span>
<span id="cb418-7"><a href="#cb418-7" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (err) {</span>
<span id="cb418-8"><a href="#cb418-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(err) <span class="co">// Not authenticated. Please authenticate first before accessing the path /myService/myDb/myTable/_metadata.</span></span>
<span id="cb418-9"><a href="#cb418-9" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
            <p>Copyright (c) 2022, 2025, Oracle and/or its
            affiliates.</p>
        </div>
    </div>
    <div>
        <nav class="section-nav">
            <div class="bookToc">
                <br>
                <h3>MySQL REST Service - Reference
Manual 1.19.18+9.4.0</h3>
                                <ul>
                                <li><a
                                href="#introduction-to-the-mysql-rest-service"
                                id="toc-introduction-to-the-mysql-rest-service"><span
                                class="toc-section-number">1</span>
                                Introduction to the MySQL REST
                                Service</a>
                                <ul>
                                <li><a
                                href="#what-is-the-mysql-rest-service"
                                id="toc-what-is-the-mysql-rest-service"><span
                                class="toc-section-number">1.1</span>
                                What is the MySQL REST Service</a></li>
                                <li><a href="#application-use-cases"
                                id="toc-application-use-cases"><span
                                class="toc-section-number">1.2</span>
                                Application Use Cases</a></li>
                                <li><a href="#feature-set-overview"
                                id="toc-feature-set-overview"><span
                                class="toc-section-number">1.3</span>
                                Feature Set Overview</a></li>
                                <li><a href="#supported-mysql-versions"
                                id="toc-supported-mysql-versions"><span
                                class="toc-section-number">1.4</span>
                                Supported MySQL Versions</a></li>
                                </ul></li>
                                <li><a href="#architecture"
                                id="toc-architecture"><span
                                class="toc-section-number">2</span>
                                Architecture</a>
                                <ul>
                                <li><a href="#building-blocks"
                                id="toc-building-blocks"><span
                                class="toc-section-number">2.1</span>
                                Building Blocks</a></li>
                                <li><a href="#development-setup"
                                id="toc-development-setup"><span
                                class="toc-section-number">2.2</span>
                                Development Setup</a></li>
                                <li><a href="#production-deployments"
                                id="toc-production-deployments"><span
                                class="toc-section-number">2.3</span>
                                Production Deployments</a></li>
                                </ul></li>
                                <li><a
                                href="#configuring-mysql-rest-service"
                                id="toc-configuring-mysql-rest-service"><span
                                class="toc-section-number">3</span>
                                Configuring MySQL REST Service</a>
                                <ul>
                                <li><a
                                href="#configuring-the-mrs-metadata-schema"
                                id="toc-configuring-the-mrs-metadata-schema"><span
                                class="toc-section-number">3.1</span>
                                Configuring the MRS Metadata
                                Schema</a></li>
                                <li><a
                                href="#granting-users-access-to-the-mysql-rest-service"
                                id="toc-granting-users-access-to-the-mysql-rest-service"><span
                                class="toc-section-number">3.2</span>
                                Granting Users Access to the MySQL REST
                                Service</a></li>
                                <li><a
                                href="#bootstrapping-and-running-mysql-routers-with-mrs-support"
                                id="toc-bootstrapping-and-running-mysql-routers-with-mrs-support"><span
                                class="toc-section-number">3.3</span>
                                Bootstrapping and Running MySQL Routers
                                with MRS Support</a></li>
                                <li><a
                                href="#installing-the-mrs-server-component"
                                id="toc-installing-the-mrs-server-component"><span
                                class="toc-section-number">3.4</span>
                                Installing the MRS Server
                                Component</a></li>
                                </ul></li>
                                <li><a
                                href="#adding-rest-services-and-database-objects"
                                id="toc-adding-rest-services-and-database-objects"><span
                                class="toc-section-number">4</span>
                                Adding REST Services and Database
                                Objects</a>
                                <ul>
                                <li><a
                                href="#rest-service-lifecycle-management"
                                id="toc-rest-service-lifecycle-management"><span
                                class="toc-section-number">4.1</span>
                                REST Service Lifecycle
                                Management</a></li>
                                <li><a
                                href="#preconditions-for-adding-a-rest-service"
                                id="toc-preconditions-for-adding-a-rest-service"><span
                                class="toc-section-number">4.2</span>
                                Preconditions for Adding a REST
                                Service</a></li>
                                <li><a
                                href="#setting-up-a-new-rest-service"
                                id="toc-setting-up-a-new-rest-service"><span
                                class="toc-section-number">4.3</span>
                                Setting Up a New REST Service</a></li>
                                <li><a
                                href="#adding-a-database-schemas-to-a-rest-service"
                                id="toc-adding-a-database-schemas-to-a-rest-service"><span
                                class="toc-section-number">4.4</span>
                                Adding a Database Schemas to a REST
                                Service</a></li>
                                <li><a
                                href="#adding-a-schema-table-view-or-procedure"
                                id="toc-adding-a-schema-table-view-or-procedure"><span
                                class="toc-section-number">4.5</span>
                                Adding a Schema Table, View or
                                Procedure</a></li>
                                </ul></li>
                                <li><a
                                href="#working-interactively-with-rest-services"
                                id="toc-working-interactively-with-rest-services"><span
                                class="toc-section-number">5</span>
                                Working Interactively with REST
                                Services</a>
                                <ul>
                                <li><a
                                href="#switching-to-typescript-mode"
                                id="toc-switching-to-typescript-mode"><span
                                class="toc-section-number">5.1</span>
                                Switching to TypeScript Mode</a></li>
                                <li><a href="#choosing-a-rest-service"
                                id="toc-choosing-a-rest-service"><span
                                class="toc-section-number">5.2</span>
                                Choosing a REST Service</a></li>
                                <li><a href="#authentication"
                                id="toc-authentication"><span
                                class="toc-section-number">5.3</span>
                                Authentication</a></li>
                                <li><a href="#querying-a-rest-object"
                                id="toc-querying-a-rest-object"><span
                                class="toc-section-number">5.4</span>
                                Querying a REST Object</a></li>
                                </ul></li>
                                <li><a href="#rest-data-mapping-views"
                                id="toc-rest-data-mapping-views"><span
                                class="toc-section-number">6</span> REST
                                Data Mapping Views</a>
                                <ul>
                                <li><a
                                href="#introduction-to-rest-data-mapping-views"
                                id="toc-introduction-to-rest-data-mapping-views"><span
                                class="toc-section-number">6.1</span>
                                Introduction to REST Data Mapping
                                Views</a></li>
                                <li><a
                                href="#lock-free-optimistic-concurrency-control"
                                id="toc-lock-free-optimistic-concurrency-control"><span
                                class="toc-section-number">6.2</span>
                                Lock-Free Optimistic Concurrency
                                Control</a></li>
                                <li><a
                                href="#interactive-rest-view-design"
                                id="toc-interactive-rest-view-design"><span
                                class="toc-section-number">6.3</span>
                                Interactive REST View Design</a></li>
                                </ul></li>
                                <li><a href="#mrs-dialog-reference"
                                id="toc-mrs-dialog-reference"><span
                                class="toc-section-number">7</span> MRS
                                Dialog Reference</a>
                                <ul>
                                <li><a href="#mrs-service-dialog"
                                id="toc-mrs-service-dialog"><span
                                class="toc-section-number">7.1</span>
                                MRS Service Dialog</a></li>
                                <li><a href="#mrs-schema-dialog"
                                id="toc-mrs-schema-dialog"><span
                                class="toc-section-number">7.2</span>
                                MRS Schema Dialog</a></li>
                                <li><a href="#mrs-object-dialog"
                                id="toc-mrs-object-dialog"><span
                                class="toc-section-number">7.3</span>
                                MRS Object Dialog</a></li>
                                </ul></li>
                                <li><a
                                href="#authentication-and-authorization"
                                id="toc-authentication-and-authorization"><span
                                class="toc-section-number">8</span>
                                Authentication and Authorization</a>
                                <ul>
                                <li><a href="#overview"
                                id="toc-overview"><span
                                class="toc-section-number">8.1</span>
                                Overview</a></li>
                                <li><a href="#authentication-management"
                                id="toc-authentication-management"><span
                                class="toc-section-number">8.2</span>
                                Authentication Management</a></li>
                                <li><a href="#authorization-management"
                                id="toc-authorization-management"><span
                                class="toc-section-number">8.3</span>
                                Authorization Management</a></li>
                                </ul></li>
                                <li><a href="#mrs-examples"
                                id="toc-mrs-examples"><span
                                class="toc-section-number">9</span> MRS
                                Examples</a>
                                <ul>
                                <li><a href="#mrs-notes-example"
                                id="toc-mrs-notes-example"><span
                                class="toc-section-number">9.1</span>
                                MRS Notes Example</a></li>
                                <li><a href="#mrs-scripts-example"
                                id="toc-mrs-scripts-example"><span
                                class="toc-section-number">9.2</span>
                                MRS Scripts Example</a></li>
                                </ul></li>
                                <li><a href="#quickstart-introduction"
                                id="toc-quickstart-introduction"><span
                                class="toc-section-number">10</span>
                                Quickstart Introduction</a></li>
                                <li><a
                                href="#setting-up-the-mysql-rest-service"
                                id="toc-setting-up-the-mysql-rest-service"><span
                                class="toc-section-number">11</span>
                                Setting up the MySQL REST Service</a>
                                <ul>
                                <li><a
                                href="#setting-up-a-local-mysql-server"
                                id="toc-setting-up-a-local-mysql-server"><span
                                class="toc-section-number">11.1</span>
                                Setting up a local MySQL Server</a></li>
                                <li><a href="#setting-up-vs-code"
                                id="toc-setting-up-vs-code"><span
                                class="toc-section-number">11.2</span>
                                Setting up VS Code</a></li>
                                <li><a
                                href="#configuring-a-mysql-instance-for-mysql-rest-service-support"
                                id="toc-configuring-a-mysql-instance-for-mysql-rest-service-support"><span
                                class="toc-section-number">11.3</span>
                                Configuring a MySQL Instance for MySQL
                                REST Service Support</a></li>
                                <li><a
                                href="#assigning-rest-user-privileges"
                                id="toc-assigning-rest-user-privileges"><span
                                class="toc-section-number">11.4</span>
                                Assigning REST User Privileges</a></li>
                                <li><a
                                href="#deploying-a-mysql-router-for-development"
                                id="toc-deploying-a-mysql-router-for-development"><span
                                class="toc-section-number">11.5</span>
                                Deploying a MySQL Router for
                                Development</a></li>
                                </ul></li>
                                <li><a href="#defining-rest-endpoints"
                                id="toc-defining-rest-endpoints"><span
                                class="toc-section-number">12</span>
                                Defining REST Endpoints</a>
                                <ul>
                                <li><a
                                href="#deploying-the-sakila-schema"
                                id="toc-deploying-the-sakila-schema"><span
                                class="toc-section-number">12.1</span>
                                Deploying the Sakila Schema</a></li>
                                <li><a href="#creating-a-rest-service"
                                id="toc-creating-a-rest-service"><span
                                class="toc-section-number">12.2</span>
                                Creating a REST Service</a></li>
                                <li><a href="#adding-a-rest-endpoint"
                                id="toc-adding-a-rest-endpoint"><span
                                class="toc-section-number">12.3</span>
                                Adding a REST Endpoint</a></li>
                                </ul></li>
                                <li><a href="#accessing-rest-endpoints"
                                id="toc-accessing-rest-endpoints"><span
                                class="toc-section-number">13</span>
                                Accessing REST Endpoints</a>
                                <ul>
                                <li><a href="#web-browser-access"
                                id="toc-web-browser-access"><span
                                class="toc-section-number">13.1</span>
                                Web Browser Access</a></li>
                                <li><a href="#typescript-prompt"
                                id="toc-typescript-prompt"><span
                                class="toc-section-number">13.2</span>
                                TypeScript Prompt</a></li>
                                <li><a href="#access-via-curl"
                                id="toc-access-via-curl"><span
                                class="toc-section-number">13.3</span>
                                Access via CURL</a></li>
                                <li><a href="#deploying-a-web-app"
                                id="toc-deploying-a-web-app"><span
                                class="toc-section-number">13.4</span>
                                Deploying a Web App</a></li>
                                </ul></li>
                                <li><a href="#quickstart-appendix"
                                id="toc-quickstart-appendix"><span
                                class="toc-section-number">14</span>
                                Quickstart Appendix</a>
                                <ul>
                                <li><a
                                href="#enabling-ms-marketplace-on-vscodium"
                                id="toc-enabling-ms-marketplace-on-vscodium"><span
                                class="toc-section-number">14.1</span>
                                Enabling MS Marketplace on
                                VSCodium</a></li>
                                </ul></li>
                                <li><a href="#introduction"
                                id="toc-introduction"><span
                                class="toc-section-number">15</span>
                                Introduction</a></li>
                                <li><a href="#configure-and-create"
                                id="toc-configure-and-create"><span
                                class="toc-section-number">16</span>
                                CONFIGURE and CREATE</a>
                                <ul>
                                <li><a href="#configure-rest-metadata"
                                id="toc-configure-rest-metadata"><span
                                class="toc-section-number">16.1</span>
                                CONFIGURE REST METADATA</a></li>
                                <li><a href="#create-rest-service"
                                id="toc-create-rest-service"><span
                                class="toc-section-number">16.2</span>
                                CREATE REST SERVICE</a></li>
                                <li><a href="#clone-rest-service"
                                id="toc-clone-rest-service"><span
                                class="toc-section-number">16.3</span>
                                CLONE REST SERVICE</a></li>
                                <li><a href="#create-rest-schema"
                                id="toc-create-rest-schema"><span
                                class="toc-section-number">16.4</span>
                                CREATE REST SCHEMA</a></li>
                                <li><a href="#create-rest-view"
                                id="toc-create-rest-view"><span
                                class="toc-section-number">16.5</span>
                                CREATE REST VIEW</a></li>
                                <li><a href="#create-rest-procedure"
                                id="toc-create-rest-procedure"><span
                                class="toc-section-number">16.6</span>
                                CREATE REST PROCEDURE</a></li>
                                <li><a href="#create-rest-function"
                                id="toc-create-rest-function"><span
                                class="toc-section-number">16.7</span>
                                CREATE REST FUNCTION</a></li>
                                <li><a href="#create-rest-content-set"
                                id="toc-create-rest-content-set"><span
                                class="toc-section-number">16.8</span>
                                CREATE REST CONTENT SET</a></li>
                                <li><a href="#create-rest-content-file"
                                id="toc-create-rest-content-file"><span
                                class="toc-section-number">16.9</span>
                                CREATE REST CONTENT FILE</a></li>
                                <li><a href="#create-rest-auth-app"
                                id="toc-create-rest-auth-app"><span
                                class="toc-section-number">16.10</span>
                                CREATE REST AUTH APP</a></li>
                                <li><a href="#create-rest-user"
                                id="toc-create-rest-user"><span
                                class="toc-section-number">16.11</span>
                                CREATE REST USER</a></li>
                                <li><a href="#create-rest-role"
                                id="toc-create-rest-role"><span
                                class="toc-section-number">16.12</span>
                                CREATE REST ROLE</a></li>
                                </ul></li>
                                <li><a href="#alter"
                                id="toc-alter"><span
                                class="toc-section-number">17</span>
                                ALTER</a>
                                <ul>
                                <li><a href="#alter-rest-service"
                                id="toc-alter-rest-service"><span
                                class="toc-section-number">17.1</span>
                                ALTER REST SERVICE</a></li>
                                <li><a href="#alter-rest-auth-app"
                                id="toc-alter-rest-auth-app"><span
                                class="toc-section-number">17.2</span>
                                ALTER REST AUTH APP</a></li>
                                <li><a href="#alter-rest-schema"
                                id="toc-alter-rest-schema"><span
                                class="toc-section-number">17.3</span>
                                ALTER REST SCHEMA</a></li>
                                <li><a href="#alter-rest-view"
                                id="toc-alter-rest-view"><span
                                class="toc-section-number">17.4</span>
                                ALTER REST VIEW</a></li>
                                <li><a href="#alter-rest-procedure"
                                id="toc-alter-rest-procedure"><span
                                class="toc-section-number">17.5</span>
                                ALTER REST PROCEDURE</a></li>
                                <li><a href="#alter-rest-function"
                                id="toc-alter-rest-function"><span
                                class="toc-section-number">17.6</span>
                                ALTER REST FUNCTION</a></li>
                                <li><a href="#alter-rest-content-set"
                                id="toc-alter-rest-content-set"><span
                                class="toc-section-number">17.7</span>
                                ALTER REST CONTENT SET</a></li>
                                <li><a href="#alter-rest-user"
                                id="toc-alter-rest-user"><span
                                class="toc-section-number">17.8</span>
                                ALTER REST USER</a></li>
                                </ul></li>
                                <li><a href="#drop" id="toc-drop"><span
                                class="toc-section-number">18</span>
                                DROP</a>
                                <ul>
                                <li><a href="#drop-rest-service"
                                id="toc-drop-rest-service"><span
                                class="toc-section-number">18.1</span>
                                DROP REST SERVICE</a></li>
                                <li><a href="#drop-rest-schema"
                                id="toc-drop-rest-schema"><span
                                class="toc-section-number">18.2</span>
                                DROP REST SCHEMA</a></li>
                                <li><a href="#drop-rest-view"
                                id="toc-drop-rest-view"><span
                                class="toc-section-number">18.3</span>
                                DROP REST VIEW</a></li>
                                <li><a href="#drop-rest-procedure"
                                id="toc-drop-rest-procedure"><span
                                class="toc-section-number">18.4</span>
                                DROP REST PROCEDURE</a></li>
                                <li><a href="#drop-rest-function"
                                id="toc-drop-rest-function"><span
                                class="toc-section-number">18.5</span>
                                DROP REST FUNCTION</a></li>
                                <li><a href="#drop-rest-content-set"
                                id="toc-drop-rest-content-set"><span
                                class="toc-section-number">18.6</span>
                                DROP REST CONTENT SET</a></li>
                                <li><a href="#drop-rest-content-file"
                                id="toc-drop-rest-content-file"><span
                                class="toc-section-number">18.7</span>
                                DROP REST CONTENT FILE</a></li>
                                <li><a href="#drop-rest-auth-app"
                                id="toc-drop-rest-auth-app"><span
                                class="toc-section-number">18.8</span>
                                DROP REST AUTH APP</a></li>
                                <li><a href="#drop-rest-user"
                                id="toc-drop-rest-user"><span
                                class="toc-section-number">18.9</span>
                                DROP REST USER</a></li>
                                <li><a href="#drop-rest-role"
                                id="toc-drop-rest-role"><span
                                class="toc-section-number">18.10</span>
                                DROP REST ROLE</a></li>
                                </ul></li>
                                <li><a href="#grant-and-revoke"
                                id="toc-grant-and-revoke"><span
                                class="toc-section-number">19</span>
                                GRANT and REVOKE</a>
                                <ul>
                                <li><a href="#grant-rest"
                                id="toc-grant-rest"><span
                                class="toc-section-number">19.1</span>
                                GRANT REST</a></li>
                                <li><a href="#grant-rest-role"
                                id="toc-grant-rest-role"><span
                                class="toc-section-number">19.2</span>
                                GRANT REST ROLE</a></li>
                                <li><a href="#revoke-rest"
                                id="toc-revoke-rest"><span
                                class="toc-section-number">19.3</span>
                                REVOKE REST</a></li>
                                <li><a href="#revoke-rest-role"
                                id="toc-revoke-rest-role"><span
                                class="toc-section-number">19.4</span>
                                REVOKE REST ROLE</a></li>
                                </ul></li>
                                <li><a href="#use-and-show"
                                id="toc-use-and-show"><span
                                class="toc-section-number">20</span> USE
                                and SHOW</a>
                                <ul>
                                <li><a href="#use" id="toc-use"><span
                                class="toc-section-number">20.1</span>
                                USE</a></li>
                                <li><a href="#show-rest-status"
                                id="toc-show-rest-status"><span
                                class="toc-section-number">20.2</span>
                                SHOW REST STATUS</a></li>
                                <li><a href="#show-rest-services"
                                id="toc-show-rest-services"><span
                                class="toc-section-number">20.3</span>
                                SHOW REST SERVICES</a></li>
                                <li><a href="#show-rest-schemas"
                                id="toc-show-rest-schemas"><span
                                class="toc-section-number">20.4</span>
                                SHOW REST SCHEMAS</a></li>
                                <li><a href="#show-rest-views"
                                id="toc-show-rest-views"><span
                                class="toc-section-number">20.5</span>
                                SHOW REST VIEWS</a></li>
                                <li><a href="#show-rest-procedures"
                                id="toc-show-rest-procedures"><span
                                class="toc-section-number">20.6</span>
                                SHOW REST PROCEDURES</a></li>
                                <li><a href="#show-rest-functions"
                                id="toc-show-rest-functions"><span
                                class="toc-section-number">20.7</span>
                                SHOW REST FUNCTIONS</a></li>
                                <li><a href="#show-rest-content-sets"
                                id="toc-show-rest-content-sets"><span
                                class="toc-section-number">20.8</span>
                                SHOW REST CONTENT SETS</a></li>
                                <li><a href="#show-rest-content-files"
                                id="toc-show-rest-content-files"><span
                                class="toc-section-number">20.9</span>
                                SHOW REST CONTENT FILES</a></li>
                                <li><a
                                href="#show-create-rest-content-set"
                                id="toc-show-create-rest-content-set"><span
                                class="toc-section-number">20.10</span>
                                SHOW CREATE REST CONTENT SET</a></li>
                                <li><a
                                href="#show-create-rest-content-file"
                                id="toc-show-create-rest-content-file"><span
                                class="toc-section-number">20.11</span>
                                SHOW CREATE REST CONTENT FILE</a></li>
                                <li><a href="#show-rest-auth-apps"
                                id="toc-show-rest-auth-apps"><span
                                class="toc-section-number">20.12</span>
                                SHOW REST AUTH APPS</a></li>
                                <li><a href="#show-create-rest-service"
                                id="toc-show-create-rest-service"><span
                                class="toc-section-number">20.13</span>
                                SHOW CREATE REST SERVICE</a></li>
                                <li><a href="#show-create-rest-schema"
                                id="toc-show-create-rest-schema"><span
                                class="toc-section-number">20.14</span>
                                SHOW CREATE REST SCHEMA</a></li>
                                <li><a href="#show-create-rest-view"
                                id="toc-show-create-rest-view"><span
                                class="toc-section-number">20.15</span>
                                SHOW CREATE REST VIEW</a></li>
                                <li><a
                                href="#show-create-rest-procedure"
                                id="toc-show-create-rest-procedure"><span
                                class="toc-section-number">20.16</span>
                                SHOW CREATE REST PROCEDURE</a></li>
                                <li><a href="#show-create-rest-function"
                                id="toc-show-create-rest-function"><span
                                class="toc-section-number">20.17</span>
                                SHOW CREATE REST FUNCTION</a></li>
                                <li><a href="#show-create-rest-auth-app"
                                id="toc-show-create-rest-auth-app"><span
                                class="toc-section-number">20.18</span>
                                SHOW CREATE REST AUTH APP</a></li>
                                <li><a href="#show-create-rest-role"
                                id="toc-show-create-rest-role"><span
                                class="toc-section-number">20.19</span>
                                SHOW CREATE REST ROLE</a></li>
                                <li><a href="#show-create-rest-user"
                                id="toc-show-create-rest-user"><span
                                class="toc-section-number">20.20</span>
                                SHOW CREATE REST USER</a></li>
                                <li><a href="#show-rest-roles"
                                id="toc-show-rest-roles"><span
                                class="toc-section-number">20.21</span>
                                SHOW REST ROLES</a></li>
                                <li><a href="#show-rest-grants"
                                id="toc-show-rest-grants"><span
                                class="toc-section-number">20.22</span>
                                SHOW REST GRANTS</a></li>
                                </ul></li>
                                <li><a href="#mrs-core-rest-apis"
                                id="toc-mrs-core-rest-apis"><span
                                class="toc-section-number">21</span> MRS
                                Core REST APIs</a>
                                <ul>
                                <li><a
                                href="#about-mrs-restful-web-services"
                                id="toc-about-mrs-restful-web-services"><span
                                class="toc-section-number">21.1</span>
                                About MRS RESTful Web Services</a></li>
                                <li><a
                                href="#about-request-path-syntax-requirements"
                                id="toc-about-request-path-syntax-requirements"><span
                                class="toc-section-number">21.2</span>
                                About Request Path Syntax
                                Requirements</a></li>
                                <li><a
                                href="#about-curl-and-testing-restful-services"
                                id="toc-about-curl-and-testing-restful-services"><span
                                class="toc-section-number">21.3</span>
                                About cURL and Testing RESTful
                                Services</a></li>
                                </ul></li>
                                <li><a href="#mrs-rest-queries"
                                id="toc-mrs-rest-queries"><span
                                class="toc-section-number">22</span> MRS
                                REST Queries</a>
                                <ul>
                                <li><a href="#get-schema-metadata"
                                id="toc-get-schema-metadata"><span
                                class="toc-section-number">22.1</span>
                                Get Schema Metadata</a></li>
                                <li><a href="#get-object-metadata"
                                id="toc-get-object-metadata"><span
                                class="toc-section-number">22.2</span>
                                Get Object Metadata</a></li>
                                <li><a href="#get-object-data"
                                id="toc-get-object-data"><span
                                class="toc-section-number">22.3</span>
                                Get Object Data</a></li>
                                <li><a href="#insert-table-row"
                                id="toc-insert-table-row"><span
                                class="toc-section-number">22.4</span>
                                Insert Table Row</a></li>
                                <li><a href="#updateinsert-table-row"
                                id="toc-updateinsert-table-row"><span
                                class="toc-section-number">22.5</span>
                                Update/Insert Table Row</a></li>
                                <li><a href="#delete-using-filter"
                                id="toc-delete-using-filter"><span
                                class="toc-section-number">22.6</span>
                                Delete Using Filter</a></li>
                                </ul></li>
                                <li><a href="#filtering-in-rest-queries"
                                id="toc-filtering-in-rest-queries"><span
                                class="toc-section-number">23</span>
                                Filtering in REST Queries</a>
                                <ul>
                                <li><a href="#filterobject-grammar"
                                id="toc-filterobject-grammar"><span
                                class="toc-section-number">23.1</span>
                                FilterObject Grammar</a></li>
                                </ul></li>
                                <li><a
                                href="#filterobject-grammar-examples"
                                id="toc-filterobject-grammar-examples"><span
                                class="toc-section-number">24</span>
                                FilterObject Grammar Examples</a>
                                <ul>
                                <li><a href="#order-by-property-orderby"
                                id="toc-order-by-property-orderby"><span
                                class="toc-section-number">24.1</span>
                                ORDER BY property ($orderby)</a></li>
                                <li><a href="#asof-property-asof"
                                id="toc-asof-property-asof"><span
                                class="toc-section-number">24.2</span>
                                ASOF property ($asof)</a></li>
                                <li><a href="#equals-operator-eq"
                                id="toc-equals-operator-eq"><span
                                class="toc-section-number">24.3</span>
                                EQUALS operator ($eq)</a></li>
                                <li><a href="#not-equals-operator-ne"
                                id="toc-not-equals-operator-ne"><span
                                class="toc-section-number">24.4</span>
                                NOT EQUALS operator ($ne)</a></li>
                                <li><a href="#less-than-operator-lt"
                                id="toc-less-than-operator-lt"><span
                                class="toc-section-number">24.5</span>
                                LESS THAN operator ($lt)</a></li>
                                <li><a
                                href="#less-than-or-equals-operator-lte"
                                id="toc-less-than-or-equals-operator-lte"><span
                                class="toc-section-number">24.6</span>
                                LESS THAN OR EQUALS operator
                                ($lte)</a></li>
                                <li><a href="#greater-than-operator-gt"
                                id="toc-greater-than-operator-gt"><span
                                class="toc-section-number">24.7</span>
                                GREATER THAN operator ($gt)</a></li>
                                <li><a
                                href="#greater-than-or-equals-operator-gte"
                                id="toc-greater-than-or-equals-operator-gte"><span
                                class="toc-section-number">24.8</span>
                                GREATER THAN OR EQUALS operator
                                ($gte)</a></li>
                                <li><a href="#in-string-operator-instr"
                                id="toc-in-string-operator-instr"><span
                                class="toc-section-number">24.9</span>
                                In string operator ($instr)</a></li>
                                <li><a
                                href="#not-in-string-operator-ninstr"
                                id="toc-not-in-string-operator-ninstr"><span
                                class="toc-section-number">24.10</span>
                                Not in string operator
                                ($ninstr)</a></li>
                                <li><a href="#like-operator-like"
                                id="toc-like-operator-like"><span
                                class="toc-section-number">24.11</span>
                                LIKE operator ($like)</a></li>
                                <li><a href="#between-operator-between"
                                id="toc-between-operator-between"><span
                                class="toc-section-number">24.12</span>
                                BETWEEN operator ($between)</a></li>
                                <li><a href="#null-operator-null"
                                id="toc-null-operator-null"><span
                                class="toc-section-number">24.13</span>
                                NULL operator ($null)</a></li>
                                <li><a href="#not-null-operator-notnull"
                                id="toc-not-null-operator-notnull"><span
                                class="toc-section-number">24.14</span>
                                NOT NULL operator ($notnull)</a></li>
                                <li><a href="#and-operator-and"
                                id="toc-and-operator-and"><span
                                class="toc-section-number">24.15</span>
                                AND operator ($and)</a></li>
                                <li><a href="#or-operator-or"
                                id="toc-or-operator-or"><span
                                class="toc-section-number">24.16</span>
                                OR operator ($or)</a></li>
                                </ul></li>
                                <li><a
                                href="#introduction-to-the-mysql-rest-service-client-sdk"
                                id="toc-introduction-to-the-mysql-rest-service-client-sdk"><span
                                class="toc-section-number">25</span>
                                Introduction to the MySQL REST Service
                                Client SDK</a>
                                <ul>
                                <li><a href="#sdk-cheat-sheet"
                                id="toc-sdk-cheat-sheet"><span
                                class="toc-section-number">25.1</span>
                                SDK Cheat Sheet</a></li>
                                <li><a href="#generation-of-sdk-files"
                                id="toc-generation-of-sdk-files"><span
                                class="toc-section-number">25.2</span>
                                Generation of SDK Files</a></li>
                                </ul></li>
                                <li><a
                                href="#working-with-rest-services"
                                id="toc-working-with-rest-services"><span
                                class="toc-section-number">26</span>
                                Working with REST Services</a>
                                <ul>
                                <li><a href="#authentication"
                                id="toc-authentication"><span
                                class="toc-section-number">26.1</span>
                                Authentication</a></li>
                                </ul></li>
                                <li><a href="#working-with-rest-views"
                                id="toc-working-with-rest-views"><span
                                class="toc-section-number">27</span>
                                Working with REST Views</a>
                                <ul>
                                <li><a href="#create-a-new-document"
                                id="toc-create-a-new-document"><span
                                class="toc-section-number">27.1</span>
                                Create a New Document</a></li>
                                <li><a href="#read-documents"
                                id="toc-read-documents"><span
                                class="toc-section-number">27.2</span>
                                Read Documents</a></li>
                                <li><a href="#updating-a-document"
                                id="toc-updating-a-document"><span
                                class="toc-section-number">27.3</span>
                                Updating A Document</a></li>
                                <li><a href="#deleting-a-document"
                                id="toc-deleting-a-document"><span
                                class="toc-section-number">27.4</span>
                                Deleting A Document</a></li>
                                <li><a
                                href="#read-your-writes-consistency"
                                id="toc-read-your-writes-consistency"><span
                                class="toc-section-number">27.5</span>
                                Read Your Writes Consistency</a></li>
                                </ul></li>
                                <li><a
                                href="#working-with-rest-routines"
                                id="toc-working-with-rest-routines"><span
                                class="toc-section-number">28</span>
                                Working with REST Routines</a>
                                <ul>
                                <li><a href="#async-task-support"
                                id="toc-async-task-support"><span
                                class="toc-section-number">28.1</span>
                                Async Task Support</a></li>
                                </ul></li>
                                <li><a
                                href="#typescript-client-api-reference"
                                id="toc-typescript-client-api-reference"><span
                                class="toc-section-number">29</span>
                                TypeScript Client API Reference</a>
                                <ul>
                                <li><a href="#getmetadata-ts"
                                id="toc-getmetadata-ts"><span
                                class="toc-section-number">29.1</span>
                                getMetadata (TS)</a></li>
                                <li><a href="#service.getauthapps-ts"
                                id="toc-service.getauthapps-ts"><span
                                class="toc-section-number">29.2</span>
                                Service.getAuthApps (TS)</a></li>
                                <li><a href="#service.authenticate-ts"
                                id="toc-service.authenticate-ts"><span
                                class="toc-section-number">29.3</span>
                                Service.authenticate (TS)</a></li>
                                <li><a href="#service.deauthenticate-ts"
                                id="toc-service.deauthenticate-ts"><span
                                class="toc-section-number">29.4</span>
                                Service.deauthenticate (TS)</a></li>
                                <li><a href="#view.create-ts"
                                id="toc-view.create-ts"><span
                                class="toc-section-number">29.5</span>
                                View.create (TS)</a></li>
                                <li><a href="#view.createmany-ts"
                                id="toc-view.createmany-ts"><span
                                class="toc-section-number">29.6</span>
                                View.createMany (TS)</a></li>
                                <li><a href="#view.find-ts"
                                id="toc-view.find-ts"><span
                                class="toc-section-number">29.7</span>
                                View.find (TS)</a></li>
                                <li><a href="#view.findfirst-ts"
                                id="toc-view.findfirst-ts"><span
                                class="toc-section-number">29.8</span>
                                View.findFirst (TS)</a></li>
                                <li><a href="#view.findunique-ts"
                                id="toc-view.findunique-ts"><span
                                class="toc-section-number">29.9</span>
                                View.findUnique (TS)</a></li>
                                <li><a href="#view.finduniqueorthrow-ts"
                                id="toc-view.finduniqueorthrow-ts"><span
                                class="toc-section-number">29.10</span>
                                View.findUniqueOrThrow (TS)</a></li>
                                <li><a href="#view.delete-ts"
                                id="toc-view.delete-ts"><span
                                class="toc-section-number">29.11</span>
                                View.delete (TS)</a></li>
                                <li><a href="#view.deletemany-ts"
                                id="toc-view.deletemany-ts"><span
                                class="toc-section-number">29.12</span>
                                View.deleteMany (TS)</a></li>
                                <li><a href="#view.update-ts"
                                id="toc-view.update-ts"><span
                                class="toc-section-number">29.13</span>
                                View.update (TS)</a></li>
                                <li><a href="#view.updatemany-ts"
                                id="toc-view.updatemany-ts"><span
                                class="toc-section-number">29.14</span>
                                View.updateMany (TS)</a></li>
                                <li><a href="#document.update-ts"
                                id="toc-document.update-ts"><span
                                class="toc-section-number">29.15</span>
                                Document.update (TS)</a></li>
                                <li><a href="#document.delete-ts"
                                id="toc-document.delete-ts"><span
                                class="toc-section-number">29.16</span>
                                Document.delete (TS)</a></li>
                                <li><a href="#function.call-ts"
                                id="toc-function.call-ts"><span
                                class="toc-section-number">29.17</span>
                                Function.call (TS)</a></li>
                                <li><a href="#function.start-ts"
                                id="toc-function.start-ts"><span
                                class="toc-section-number">29.18</span>
                                Function.start (TS)</a></li>
                                <li><a href="#procedure.call-ts"
                                id="toc-procedure.call-ts"><span
                                class="toc-section-number">29.19</span>
                                Procedure.call (TS)</a></li>
                                <li><a href="#procedure.start-ts"
                                id="toc-procedure.start-ts"><span
                                class="toc-section-number">29.20</span>
                                Procedure.start (TS)</a></li>
                                <li><a href="#task.watch-ts"
                                id="toc-task.watch-ts"><span
                                class="toc-section-number">29.21</span>
                                Task.watch (TS)</a></li>
                                <li><a href="#task.kill-ts"
                                id="toc-task.kill-ts"><span
                                class="toc-section-number">29.22</span>
                                Task.kill (TS)</a></li>
                                </ul></li>
                                <li><a
                                href="#python-client-api-reference"
                                id="toc-python-client-api-reference"><span
                                class="toc-section-number">30</span>
                                Python Client API Reference</a>
                                <ul>
                                <li><a href="#rest-resources"
                                id="toc-rest-resources"><span
                                class="toc-section-number">30.1</span>
                                REST Resources</a></li>
                                <li><a href="#rest-services"
                                id="toc-rest-services"><span
                                class="toc-section-number">30.2</span>
                                REST Services</a></li>
                                <li><a href="#rest-schemas"
                                id="toc-rest-schemas"><span
                                class="toc-section-number">30.3</span>
                                REST Schemas</a></li>
                                <li><a href="#rest-views"
                                id="toc-rest-views"><span
                                class="toc-section-number">30.4</span>
                                REST Views</a></li>
                                <li><a href="#rest-documents"
                                id="toc-rest-documents"><span
                                class="toc-section-number">30.5</span>
                                REST Documents</a></li>
                                <li><a href="#rest-routines"
                                id="toc-rest-routines"><span
                                class="toc-section-number">30.6</span>
                                REST Routines</a></li>
                                <li><a href="#async-tasks"
                                id="toc-async-tasks"><span
                                class="toc-section-number">30.7</span>
                                Async Tasks</a></li>
                                </ul></li>
                                <li><a
                                href="#checking-for-null-column-values"
                                id="toc-checking-for-null-column-values"><span
                                class="toc-section-number">31</span>
                                Checking for NULL Column Values</a></li>
                                <li><a href="#working-with-data-types"
                                id="toc-working-with-data-types"><span
                                class="toc-section-number">32</span>
                                Working with Data Types</a>
                                <ul>
                                <li><a href="#spatial-data-types"
                                id="toc-spatial-data-types"><span
                                class="toc-section-number">32.1</span>
                                Spatial Data Types</a></li>
                                <li><a
                                href="#working-with-date-and-time-data-types"
                                id="toc-working-with-date-and-time-data-types"><span
                                class="toc-section-number">32.2</span>
                                Working with Date and Time Data
                                Types</a></li>
                                <li><a
                                href="#working-with-vector-data-types"
                                id="toc-working-with-vector-data-types"><span
                                class="toc-section-number">32.3</span>
                                Working with Vector Data Types</a></li>
                                <li><a
                                href="#working-with-lossy-numbers"
                                id="toc-working-with-lossy-numbers"><span
                                class="toc-section-number">32.4</span>
                                Working with lossy numbers</a></li>
                                </ul></li>
                                <li><a href="#application-metadata"
                                id="toc-application-metadata"><span
                                class="toc-section-number">33</span>
                                Application Metadata</a>
                                <ul>
                                <li><a href="#rest-services"
                                id="toc-rest-services"><span
                                class="toc-section-number">33.1</span>
                                REST Services</a></li>
                                <li><a href="#rest-schemas"
                                id="toc-rest-schemas"><span
                                class="toc-section-number">33.2</span>
                                REST Schemas</a></li>
                                <li><a href="#rest-objects"
                                id="toc-rest-objects"><span
                                class="toc-section-number">33.3</span>
                                REST Objects</a></li>
                                </ul></li>
                                </ul>
                            </div>
        </nav>
    </div>
</body>

</html>
